(()=>{"use strict";var t={8186:(t,e,s)=>{s.d(e,{Z:()=>o});class o{static init(){window.addEventListener("b:getImageAcceptHeader",(t=>{t.getImageAcceptHeader=this.getImageAcceptHeader()})),window.addEventListener("b:getSupportedImageType",(t=>{t.supportedImageType=this.getSupportedImageType()}))}static getImageAcceptHeader(){const t=document.createElement("canvas");return t.getContext&&t.getContext("2d")&&0===t.toDataURL("image/webp").indexOf("data:image/webp")?"image/webp":"image/jpeg"}static getSupportedImageType(){return"image/webp"===o.getImageAcceptHeader()?"webp":"jpg"}}window.addEventListener("DOMContentLoaded",(()=>{o.init()}))},4515:(t,e,s)=>{s.d(e,{J:()=>o});const o=(t,e=null)=>{const s=new CustomEvent(t,e);return window.dispatchEvent(s),s}},2694:(t,e,s)=>{s.d(e,{Z:()=>l});var o=s(8186),i=s(835),a=s(4515);class l{constructor(){this.options=null,this.xmlHttpRequest=null}abort(){this.xmlHttpRequest.abort()}process(t,e="GET",s=null){if(this.setUrl(t),this.setOptions(s),this.setMethod(e),"POST"===this.method&&0===this.options.postData.length)throw new Error("Please specify postData");null!==this.xmlHttpRequest&&this.xmlHttpRequest.abort(),this.xmlHttpRequest=new XMLHttpRequest,this.initXMLHttpRequest()}setOptions(t){this.options=new i.Z(!0,{},{postData:null,onReady:null,onError:null,onSuccess:null},t)}setMethod(t){return this.method=t,this}initXMLHttpRequest(){if(this.xmlHttpRequest.abort(),this.xmlHttpRequest.open(this.method,this.url,!0),this.xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlHttpRequest.setRequestHeader("Accept","text/html;"+o.Z.getImageAcceptHeader()),this.xmlHttpRequest.responseType="json",this.xmlHttpRequest.onreadystatechange=()=>{4===this.xmlHttpRequest.readyState&&("function"==typeof this.options.onReady&&(window.addEventListener("r:ready",this.options.onReady.bind(!1,this.xmlHttpRequest.response),{capture:!0,once:!0}),(0,a.J)("r:ready")),this.xmlHttpRequest.response&&(200===this.xmlHttpRequest.status?"function"==typeof this.options.onSuccess&&(window.addEventListener("r:success",this.options.onSuccess.bind(!1,this.xmlHttpRequest.response),{capture:!0,once:!0}),(0,a.J)("r:success")):"function"==typeof this.options.onError&&(window.addEventListener("r:error",this.options.onError.bind(!1,this.xmlHttpRequest.response),{capture:!0,once:!0}),(0,a.J)("r:error"))))},"POST"===this.method){const t=new FormData;this.options.postData&&Object.keys(this.options.postData).forEach((e=>{const s=this.options.postData[e];t.append(e,s)})),this.xmlHttpRequest.send(t)}else this.xmlHttpRequest.send();return this}setUrl(t){return this.url=t,this}}},835:(t,e,s)=>{s.d(e,{Z:()=>o});class o{constructor(...t){this.target={};let e=!1,s=0;"boolean"==typeof t[0]&&(e=t[0],s++);let i=t=>{for(let s in t)t.hasOwnProperty(s)&&(e&&"[object Object]"===Object.prototype.toString.call(t[s])?this.target[s]=new o(e,this.target[s],t[s]):this.target[s]=t[s])};for(;s<t.length;s++)i(t[s]);return this.target}}},3208:(t,e,s)=>{s.d(e,{Z:()=>i});var o=s(835);class i{constructor(t){return this.options={},this.defaultOptions={type:null,title:null,content:null,bodyClass:null,modalId:null,buttons:{cancel:{label:"Cancel",class:"button-secondary",onClick:null},ok:{label:"Ok",class:"button-primary",onClick:null}},modalBackdropEnable:!0,enableCloseIcon:!0,enableFooter:!0,enableHeader:!0,size:null,onClose:null,onShow:null,onChange:null,onClick:null,showButtons:!1,showDialogOnPosition:0,container:null},this.variables={tabIndex:"-1",modalRole:"dialog",modalIconFontClass:"ic",modalXIconClass:"ic-close",modalClass:"dialog",modalDialogClass:"dialog-modal",modalContentClass:"dialog-content",modalTitleClass:"dialog-title",modalFadeClass:"dialog-fade",modalInClass:"dialog-in",modalBackdropClass:"dialog-backdrop",modalBodyElementClass:"dialog-open",modalHeaderClass:"dialog-header",modalBodyClass:"dialog-body",modalFooterClass:"dialog-footer",modalSizes:["small","medium","large"]},this.options=new o.Z(!0,{},this.defaultOptions,t),this.options.content="string"==typeof this.options.content?this.options.content:this.options.content.outerHTML,this.options.modalBackdropEnable&&this.buildModalBackdrop(),this.buildModal(),this.events(),this.processShow(),this}events(){this.options.enableHeader&&this.options.enableCloseIcon&&(this.modalHeaderClose.removeEventListener("click",this.close.bind(this)),this.modalHeaderClose.addEventListener("click",this.close.bind(this))),"function"==typeof this.options.onClose&&(this.modal.removeEventListener("click",this.options.onClose.bind(!1,this),!0),this.modal.addEventListener("close",this.options.onClose.bind(!1,this),!0)),"function"==typeof this.options.onShow&&(this.modal.addEventListener("load",this.options.onShow.bind(!1,this),{capture:!0,once:!0}),this.modal.dispatchEvent(new CustomEvent("load"))),"function"==typeof this.options.onChange&&(this.modal.removeEventListener("change",this.options.onChange.bind(!1,this),!0),this.modal.addEventListener("change",this.options.onChange.bind(!1,this),!0)),"function"==typeof this.options.onClick&&(this.modal.removeEventListener("click",this.options.onClick.bind(!1,this),!0),this.modal.addEventListener("click",this.options.onClick.bind(!1,this),!0));const t=this.modal.querySelectorAll('[data-dismiss="dialog"]');t&&t.forEach((t=>{t.removeEventListener("click",this.close.bind(this)),t.addEventListener("click",this.close.bind(this))})),window.addEventListener("modal:close",(t=>{if(this.modal)return t.preventDefault(),this.close(),!1}))}buildModal(){return this.modal=document.createElement("div"),this.modal.classList.add(this.variables.modalClass,this.variables.modalFadeClass),this.options.modalId&&(this.modal.id=this.options.modalId),this.modal.setAttribute("tabindex",this.variables.tabIndex),this.modal.setAttribute("role",this.variables.modalRole),this.options.type&&(this.modal.id=`${this.variables.modalClass}-${this.options.type}`),this.modal.append(this.buildModalDialog()),this.options.container?this.options.container.append(this.modal):document.body.append(this.modal),this.modal}buildModalBackdrop(){return this.modalBackdrop=document.createElement("div"),this.modalBackdrop.classList.add(this.variables.modalBackdropClass,this.variables.modalFadeClass),this.modalBackdrop.id=this.options.modalId+"-backdrop",this.options.container?this.options.container.append(this.modalBackdrop):document.body.append(this.modalBackdrop),this.modalBackdrop}buildModalContent(){return this.modalContent=document.createElement("div"),this.modalContent.classList.add(this.variables.modalContentClass),this.options.enableHeader&&this.modalContent.append(this.buildModalHeader()),this.modalContent.append(this.buildModalBody()),this.options.enableFooter&&this.modalContent.append(this.buildModalFooter()),this.modalContent}buildModalDialog(){return this.modalDialog=document.createElement("div"),this.modalDialog.classList.add(this.variables.modalDialogClass),this.options.size&&this.variables.modalSizes.includes(this.options.size)&&this.modalDialog.classList.add(`dialog-${this.options.size}`),this.modalDialog.append(this.buildModalContent()),this.modalDialog}buildModalHeader(){if(this.modalHeader=document.createElement("div"),this.modalHeader.classList.add(this.variables.modalHeaderClass),null===this.options.title&&(this.options.title=document.createElement("div"),this.options.title.classList.add(this.variables.modalTitleClass),this.options.title.innerHTML="&nbsp;"),this.modalHeader.append(this.options.title),this.options.enableCloseIcon){this.modalHeaderClose=document.createElement("button"),this.modalHeaderClose.classList.add("dialog-close","button","button-tertiary","button-ic-o"),this.modalHeaderClose.dataset.dismiss=this.variables.modalClass;const t=document.createElement("i");t.classList.add("ic","ic-close"),t.classList.add(this.variables.modalIconFontClass,this.variables.modalXIconClass),this.modalHeaderClose.append(t),this.modalHeader.append(this.modalHeaderClose)}return this.modalHeader}buildModalBody(){return this.modalBody=document.createElement("div"),this.modalBody.classList.add(this.variables.modalBodyClass),this.options.bodyClass&&this.modalBody.classList.add(this.options.bodyClass),this.modalBody.innerHTML=this.options.content,this.modalBody}buildModalFooter(){return this.modalFooter=document.createElement("div"),this.modalFooter.classList.add(this.variables.modalFooterClass),this.options.showButtons&&this.buildModalFooterButtons(),this.modalFooter}buildModalFooterButtons(){this.options.showButtons&&Object.keys(this.options.buttons).forEach((t=>{const e=this.options.buttons[t];if(!1!==e){const s=document.createElement("a");e.onClick?s.addEventListener("click",e.onClick.bind(!0,this),!0):"cancel"!==t||e.onClick||(s.dataset.dismiss=this.variables.modalClass),s.setAttribute("href","javascript:;"),s.classList.add("button"),e.class?s.classList.add(e.class):s.classList.add("button-secondary"),s.innerText=e.label,this.modalFooter.append(s)}}))}show(){this.modal.classList.add(this.variables.modalInClass),this.modalBackdrop&&this.modalBackdrop.classList.add(this.variables.modalInClass),document.body.classList.add(this.variables.modalBodyElementClass),this.dialogShown=!0}processShow(){const t=this.options.showDialogOnPosition;0===t?this.show():window.onscroll=()=>{window.scrollY>=t&&!this.dialogShown&&this.show()}}close(){this.modal.classList.remove(this.variables.modalInClass),this.modalBackdrop&&this.modalBackdrop.classList.remove(this.variables.modalInClass),this.modal.dispatchEvent(new Event("close")),document.body.classList.remove(this.variables.modalBodyElementClass),setTimeout((()=>{this.modal&&this.modal.remove(),this.modalBackdrop&&this.modalBackdrop.remove()}),500)}hide(){this.modal.classList.remove(this.variables.modalInClass),document.body.classList.remove(this.variables.modalBodyElementClass),this.modalBackdrop.classList.remove(this.variables.modalInClass),this.dialogShown=!1}}}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,s),a.exports}s.d=(t,e)=>{for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.p="/var/www/phonearena.com/public_html/build/wp",(()=>{s.p;var t=s(4515),e=s(2694),o=s(3208);class i{constructor(){this.wantHaveHadSelector='[data-trigger="whh"]',this.wantHaveHadVoteSelector='[data-trigger="vote-whh"]',this.wantHaveHadIdAttribute="data-id",this.phoneIdAttribute="data-phone-id",this.init()}init(){const t=document.querySelector(this.wantHaveHadSelector);if(!t)return;const e=t.getAttribute(this.phoneIdAttribute),s=t.querySelectorAll(this.wantHaveHadVoteSelector);if(s.length)for(let t=0;t<s.length;t++)s[t].addEventListener("click",(o=>{const i=s[t].getAttribute(this.wantHaveHadIdAttribute);i&&e&&this.processVoteRequest(i,e)}))}processVoteRequest(s,o){const i=`/phones/user-status/update/${o}/${s}`;if("0"!==window.userId&&null!==window.userId&&i){(new e.Z).process(i,"GET",{onSuccess:t=>this.handleVoteSuccess(t),onError:t=>this.handleVoteError(t)})}else(0,t.J)("h:login")}handleVoteSuccess(t){for(const e in t)if(t.hasOwnProperty(e)){const s=t[e],o=document.querySelector(`[data-status-id="${e}"]`);o&&(o.querySelector(".text").textContent=s.buttonText,o.querySelector(".count").textContent=s.usersText,o.classList.remove("inactive","active","selected"),o.classList.add(s.state))}}handleVoteError(e){401===(null==e?void 0:e.code)?(0,t.J)("h:login"):this.createModal(e.text)}createModal(t){const e=document.createElement("span");e.classList.add("text-left","dialog-title"),e.innerHTML=t;const s={title:e,modalId:"dialog-vote-whh",content:"",showButtons:!1};return new o.Z(s)}}window.addEventListener("load",(()=>{new i}))})()})();