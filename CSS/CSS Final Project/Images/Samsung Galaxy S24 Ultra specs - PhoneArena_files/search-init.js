(()=>{"use strict";var t={8186:(t,e,s)=>{s.d(e,{Z:()=>o});class o{static init(){window.addEventListener("b:getImageAcceptHeader",(t=>{t.getImageAcceptHeader=this.getImageAcceptHeader()})),window.addEventListener("b:getSupportedImageType",(t=>{t.supportedImageType=this.getSupportedImageType()}))}static getImageAcceptHeader(){const t=document.createElement("canvas");return t.getContext&&t.getContext("2d")&&0===t.toDataURL("image/webp").indexOf("data:image/webp")?"image/webp":"image/jpeg"}static getSupportedImageType(){return"image/webp"===o.getImageAcceptHeader()?"webp":"jpg"}}window.addEventListener("DOMContentLoaded",(()=>{o.init()}))},7011:(t,e,s)=>{s.d(e,{Z:()=>n});var o=s(835),i=s(8186),r=s(4515);class n{constructor(t,e,s){this.scrollableContainer=null,this.defaultOptions={disablePushHistory:!1,replaceContent:!1,enablePopState:!0,targetContainerTopOffset:0,targetContainerBackdropClass:"backdrop"},this.selector=t,this.targetContainer=e,this.options=new o.Z(!0,{},this.defaultOptions,s),this.init(),this.events()}makeRequest(t){this.targetContainer.classList.add(this.options.targetContainerBackdropClass),this.xmlHttpRequest.open("GET",t,!0),this.xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlHttpRequest.setRequestHeader("Accept",`text/html;${i.Z.getImageAcceptHeader()}`),this.xmlHttpRequest.onreadystatechange=()=>{if(200===this.xmlHttpRequest.status&&4===this.xmlHttpRequest.readyState){const e=JSON.parse(this.xmlHttpRequest.responseText).html||this.xmlHttpRequest.responseText;this.options.replaceContent?(this.targetContainer.outerHTML=e,this.targetContainer.id&&(this.targetContainer=document.getElementById(this.targetContainer.id))):this.targetContainer.innerHTML=e,this.events(),!1===this.options.disablePushHistory&&window.history.pushState({},"",decodeURI(t)),this.targetContainer.classList.remove(this.options.targetContainerBackdropClass),this.scrollToTargetAdjusted()}},this.xmlHttpRequest.send()}scrollToTargetAdjusted(){const t=this.options.targetContainerTopOffset||100,e=document.body.getBoundingClientRect().top,s=this.targetContainer.getBoundingClientRect().top-e-t,o=(0,r.J)("g:getStickyHeaderHeight");this.scrollableContainer?this.targetContainer.scrollIntoView():window.scrollTo(0,s-o.stickyHeaderHeight)}init(){this.xmlHttpRequest=new XMLHttpRequest}events(){this.selectors=this.targetContainer.querySelectorAll(this.selector),this.selectors.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();let e=t.target.getAttribute("href")||t.target.closest("a").getAttribute("href");return e=e.indexOf("javascript")>-1?t.target.dataset.href||t.target.closest("a").dataset.href:e,e&&this.makeRequest(e),!1}))})),!0===this.options.enablePopState&&(window.onpopstate=t=>{const e=t.target.location.href;this.makeRequest(e)})}setScrollableContainer(t){this.scrollableContainer=t}}},8885:(t,e,s)=>{s.d(e,{Z:()=>i});var o=s(4515);class i{constructor(t=null){if(this.showClass="show",this.dialogActiveSelector="dialog-open",this.modalCloseSelector="modal:close",!t)throw new Error("Please provide uniqueId in Backdrop constructor");this.uniqueId=t,this.backdrop=document.createElement("div"),this.backdrop.classList.add("backdrop"),this.backdrop.setAttribute("id",this.uniqueId),this.noScrollClass="no-scroll-"+this.uniqueId,this.closableClass="closable-"+this.uniqueId,document.body.append(this.backdrop)}show(){this.backdrop.classList.add(this.showClass);const t=document.body.classList.value.split(" ").find((t=>t.includes("no-scroll-")));if(t){const e=t.split("-"),s=e[e.length-1];(0,o.J)(`${s}:close`),document.body.classList.add(this.noScrollClass),document.body.classList.add(this.closableClass)}else document.body.classList.add(this.noScrollClass),document.body.classList.add(this.closableClass);document.body.classList.contains(this.dialogActiveSelector)&&(0,o.J)(this.modalCloseSelector),this.backdrop.addEventListener("click",(t=>{this.onBackdropClickHandler()}))}hide(){this.backdrop.classList.remove(this.showClass),document.body.classList.remove(this.noScrollClass),document.body.classList.remove(this.closableClass)}onBackdropClickHandler(){(0,o.J)(`${this.uniqueId}:close`)}}},4515:(t,e,s)=>{s.d(e,{J:()=>o});const o=(t,e=null)=>{const s=new CustomEvent(t,e);return window.dispatchEvent(s),s}},2694:(t,e,s)=>{s.d(e,{Z:()=>n});var o=s(8186),i=s(835),r=s(4515);class n{constructor(){this.options=null,this.xmlHttpRequest=null}abort(){this.xmlHttpRequest.abort()}process(t,e="GET",s=null){if(this.setUrl(t),this.setOptions(s),this.setMethod(e),"POST"===this.method&&0===this.options.postData.length)throw new Error("Please specify postData");null!==this.xmlHttpRequest&&this.xmlHttpRequest.abort(),this.xmlHttpRequest=new XMLHttpRequest,this.initXMLHttpRequest()}setOptions(t){this.options=new i.Z(!0,{},{postData:null,onReady:null,onError:null,onSuccess:null},t)}setMethod(t){return this.method=t,this}initXMLHttpRequest(){if(this.xmlHttpRequest.abort(),this.xmlHttpRequest.open(this.method,this.url,!0),this.xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlHttpRequest.setRequestHeader("Accept","text/html;"+o.Z.getImageAcceptHeader()),this.xmlHttpRequest.responseType="json",this.xmlHttpRequest.onreadystatechange=()=>{4===this.xmlHttpRequest.readyState&&("function"==typeof this.options.onReady&&(window.addEventListener("r:ready",this.options.onReady.bind(!1,this.xmlHttpRequest.response),{capture:!0,once:!0}),(0,r.J)("r:ready")),this.xmlHttpRequest.response&&(200===this.xmlHttpRequest.status?"function"==typeof this.options.onSuccess&&(window.addEventListener("r:success",this.options.onSuccess.bind(!1,this.xmlHttpRequest.response),{capture:!0,once:!0}),(0,r.J)("r:success")):"function"==typeof this.options.onError&&(window.addEventListener("r:error",this.options.onError.bind(!1,this.xmlHttpRequest.response),{capture:!0,once:!0}),(0,r.J)("r:error"))))},"POST"===this.method){const t=new FormData;this.options.postData&&Object.keys(this.options.postData).forEach((e=>{const s=this.options.postData[e];t.append(e,s)})),this.xmlHttpRequest.send(t)}else this.xmlHttpRequest.send();return this}setUrl(t){return this.url=t,this}}},835:(t,e,s)=>{s.d(e,{Z:()=>o});class o{constructor(...t){this.target={};let e=!1,s=0;"boolean"==typeof t[0]&&(e=t[0],s++);let i=t=>{for(let s in t)t.hasOwnProperty(s)&&(e&&"[object Object]"===Object.prototype.toString.call(t[s])?this.target[s]=new o(e,this.target[s],t[s]):this.target[s]=t[s])};for(;s<t.length;s++)i(t[s]);return this.target}}},6981:(t,e,s)=>{s.d(e,{Z:()=>i});s.p;var o=s(7011);class i{constructor(t,e=!1){const s=document.getElementById(t.dataset.target),i=new o.Z("#"+t.id+" a",s,{disablePushHistory:!0,replaceContent:!0,targetContainerBackdropClass:"search-backdrop",enablePopState:!1});if(e)window.onpopstate=t=>{t.target.location.href&&window.location.reload()};else{const t=s.closest('[data-trigger="scrollable-container"]');t&&i.setScrollableContainer(t)}}}},1902:(t,e,s)=>{s.d(e,{Z:()=>a});s.p;var o=s(8885),i=s(2694),r=s(4515),n=s(6981);window.User=window.User||{},window.theme=window.theme||"";class a{constructor(){this.options={widget:{selector:'[data-trigger="search"]',popoverSelector:"[data-search-popover]",popoverScrollableContainerSelector:'[data-trigger="scrollable-container"]',popoverContentSelector:'[data-ajax-container="search-popover"]',bodyContentSelector:'[data-ajax-container="search-body"]'},searchEndpoint:"/search?term=",paginatorSelector:'[data-trigger="ajax-pagination"]'},this.activeClassName="active",this.showClassName="show",this.backdrop=new o.Z("search"),this.request=new i.Z,this.events()}getCurrentPath(){return window.location.pathname.replace(/\//g,"").toLowerCase()}events(){this.addEventListeners();const t=document.querySelector(this.options.widget.selector);if(t){const e=t.dataset.target;if(!e)throw new Error("Please specify target for search trigger");const s=document.querySelector(e),o=s.querySelector("form");this.isSearchPage()&&this.initPagination(),t.addEventListener("click",(()=>{this.isSearchPage()||(t.classList.contains(this.activeClassName)?t.classList.remove(this.activeClassName):t.classList.add(this.activeClassName),void 0!==t.dataset.controlBackdrop&&"true"!==t.dataset.controlBackdrop||this.isSearchPage()||this.showHideBackdrop(t.classList.contains(this.activeClassName)),s.classList.toggle(this.showClassName)),s.classList.contains(this.showClassName)&&o.querySelector("input").focus()}))}}onTileCardClick(t){const e=t.target.closest("[data-history-url]");if(e){const t=e.dataset.historyUrl;this.changeHistoryUrl(t)}}changeHistoryUrl(t){t=(t=t.replace("%2B","+")).replace("&searchPage",""),window.history.pushState({},"Search",t)}tileCardEvents(){document.querySelectorAll(".sixth-tile a, .fifth-tile a").forEach((t=>{t.addEventListener("click",this.onTileCardClick.bind(this))}))}addEventListeners(){this.isSearchPage()||(window.removeEventListener("search:close",this.closePopover.bind(this)),window.addEventListener("search:close",this.closePopover.bind(this))),this.formEvents(),this.onTabsClick()}tabsClickEvents(t){t.preventDefault();const e=t.target;let s=e.href&&e.href.indexOf("javascript")>-1?e.dataset.target:e.href;if(s){s=s.replace("#","");const t=document.getElementById(s),o=(0,r.J)("g:getStickyHeaderHeight");if(t){const s=this.getSearchField();if(s){const i=s.getBoundingClientRect().height,r=e.parentElement.getBoundingClientRect().height;let n=t.getBoundingClientRect().top-o.stickyHeaderHeight-i;if(window.innerWidth<window.mobileBreakpoint&&(n-=r),this.isSearchPage())window.scrollTo(0,n+window.scrollY);else{const t=document.querySelector(this.getWidgetPopoverContentSelector()).querySelector(this.options.widget.popoverScrollableContainerSelector);t.scrollTo(0,n-r-20+t.scrollTop)}}}}return!1}formEvents(){const t=document.querySelector(this.options.widget.selector);if(t){if(!t.dataset.target)throw new Error("Please specify target for search trigger")}const e=this.getSearchField();e&&(e.removeEventListener("keydown",this.onKeyDown.bind(this)),e.addEventListener("keydown",this.onKeyDown.bind(this)),e.removeEventListener("keyup",this.onKeyUp.bind(this)),e.addEventListener("keyup",this.onKeyUp.bind(this)))}onKeyDown(t){if(this.isSearchPage()&&13===t.which)return t.preventDefault(),!1}onKeyUp(t){const e=t.target;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{const s=t.target.value.trim(),o=e.closest("form");if(s){let t=this.options.searchEndpoint+encodeURIComponent(s);t=t.replace(/%20/g,"+")+(this.isSearchPage()?"&searchPage":""),this.makeRequest(e,t,o.getAttribute("method"),!0)}}),600)}makeRequest(t,e,s,o=!1){const i=t.nextElementSibling;let r;"button"===i.nodeName.toLowerCase()&&i.classList.contains("button-ic-o")&&(r=i.querySelector("i.ic"),r&&!r.classList.contains("ic-spinner")&&(r.classList.remove("ic-search"),r.classList.add("ic-spinner"))),this.request.process(e,s,{onSuccess:s=>{let i;if(this.isSearchPage()){i=document.querySelector("body.search").querySelector(this.options.widget.bodyContentSelector)}else{i=t.closest(this.options.widget.popoverSelector).querySelector(this.options.widget.popoverContentSelector)}i&&(i.innerHTML=s.html,this.initPagination(),this.onTabsClick(),this.tileCardEvents()),this.isSearchPage()&&t&&o&&this.changeHistoryUrl(e)},onError:t=>{console.error(t)},onReady:()=>{r&&(r.classList.remove("ic-spinner"),r.classList.add("ic-search"))}})}closePopover(t){document.querySelectorAll(this.options.widget.selector).forEach((t=>{t.classList.remove(this.activeClassName)}));return document.querySelectorAll(this.options.widget.popoverSelector).forEach((t=>{t.classList.remove(this.showClassName)})),this.showHideBackdrop(!1),this}showHideBackdrop(t=!1){return t?this.backdrop.show():this.backdrop.hide(),this}getWidgetSelector(){return this.options.widget.selector}getWidgetPopoverSelector(){return this.options.widget.popoverSelector}getWidgetPopoverContentSelector(){return this.options.widget.popoverContentSelector}getWidgetBodyContentSelector(){return this.options.widget.bodyContentSelector}isSearchPage(){return"search"===this.getCurrentPath()}initPagination(){document.querySelectorAll(this.options.paginatorSelector).forEach((t=>{new n.Z(t,this.isSearchPage())}))}onTabsClick(){document.querySelectorAll('[data-trigger="scroll-to"]').forEach((t=>{t.classList.contains("disabled")||t.addEventListener("click",this.tabsClickEvents.bind(this))}))}getSearchField(){const t=document.querySelector(this.options.widget.popoverSelector);if(t){const e=t.querySelector("form"),s=e.querySelector("input");return e.addEventListener("submit",(t=>{if(this.isSearchPage()){t.preventDefault();const e=new KeyboardEvent("keyup");return s.dispatchEvent(e),!1}this.request.abort()})),s}return null}}}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,s),r.exports}s.d=(t,e)=>{for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.p="/var/www/phonearena.com/public_html/build/wp",(()=>{var t=s(1902);class e{constructor(){this.search()}search(){this.searchWidget=new t.Z}}"interactive"===document.readyState||"complete"===document.readyState?new e:document.addEventListener("DOMContentLoaded",(()=>{new e}))})()})();