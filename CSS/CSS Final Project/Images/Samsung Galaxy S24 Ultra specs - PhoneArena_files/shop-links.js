(()=>{"use strict";var t={865:(t,e,o)=>{o.d(e,{Z:()=>s});class s{constructor(...t){this.target={};let e=!1,o=0;"boolean"==typeof t[0]&&(e=t[0],o++);let a=t=>{for(let o in t)t.hasOwnProperty(o)&&(e&&"[object Object]"===Object.prototype.toString.call(t[o])?this.target[o]=new s(e,this.target[o],t[o]):this.target[o]=t[o])};for(;o<t.length;o++)a(t[o]);return this.target}}},501:(t,e,o)=>{o.d(e,{Z:()=>a});var s=o(865);class a{constructor(t){return this.options={},this.defaultOptions={type:null,title:null,content:null,bodyClass:null,modalId:null,buttons:{ok:{label:"Ok",class:"btn btn-primary text-uppercase",onClick:null},cancel:{label:"Cancel",class:"btn btn-default text-uppercase",onClick:null}},modalBackdropEnable:!0,enableCloseIcon:!0,enableFooter:!0,enableHeader:!0,size:null,onClose:null,onShow:null,onChange:null,onClick:null,showButtons:!1,showDialogOnPosition:0},this.variables={tabIndex:"-1",modalRole:"dialog",modalIconFontClass:"pa-modal-icon",modalXIconClass:"pa-modal-icon-close",modalClass:"pa-modal",modalDialogClass:"pa-modal-dialog",modalContentClass:"pa-modal-content",modalTitleClass:"pa-modal-title",modalFadeClass:"pa-fade",modalInClass:"pa-in",modalBackdropClass:"pa-modal-backdrop",modalBodyElementClass:"pa-modal-open",modalHeaderClass:"pa-modal-header",modalBodyClass:"pa-modal-body",modalFooterClass:"pa-modal-footer",modalSizes:["small","medium","large"]},this.options=new s.Z(this.defaultOptions,t),this.options.content="string"==typeof this.options.content?this.options.content:this.options.content.outerHTML,this.options.modalBackdropEnable&&this.buildModalBackdrop(),this.buildModal(),this.events(),this.processShow(),this}events(){this.options.enableCloseIcon&&(this.modalHeaderClose.removeEventListener("click",this.close.bind(this)),this.modalHeaderClose.addEventListener("click",this.close.bind(this))),"function"==typeof this.options.onClose&&(this.modal.removeEventListener("click",this.options.onClose.bind(!1,this),!0),this.modal.addEventListener("close",this.options.onClose.bind(!1,this),!0)),"function"==typeof this.options.onShow&&(this.modal.addEventListener("load",this.options.onShow.bind(!1,this),{capture:!0,once:!0}),this.modal.dispatchEvent(new CustomEvent("load"))),"function"==typeof this.options.onChange&&(this.modal.removeEventListener("change",this.options.onChange.bind(!1,this),!0),this.modal.addEventListener("change",this.options.onChange.bind(!1,this),!0)),"function"==typeof this.options.onClick&&(this.modal.removeEventListener("click",this.options.onClick.bind(!1,this),!0),this.modal.addEventListener("click",this.options.onClick.bind(!1,this),!0))}buildModal(){return this.modal=document.createElement("div"),this.modal.classList.add(this.variables.modalClass,this.variables.modalFadeClass),this.options.modalId&&(this.modal.id=this.options.modalId),this.modal.setAttribute("tabindex",this.variables.tabIndex),this.modal.setAttribute("role",this.variables.modalRole),this.options.type&&(this.modal.id=`${this.variables.modalClass}-${this.options.type}`),this.modal.appendChild(this.buildModalDialog()),document.body.appendChild(this.modal),this.modal}buildModalBackdrop(){return this.modalBackdrop=document.createElement("div"),this.modalBackdrop.classList.add(this.variables.modalBackdropClass,this.variables.modalFadeClass),document.body.appendChild(this.modalBackdrop),this.modalBackdrop}buildModalContent(){return this.modalContent=document.createElement("div"),this.modalContent.classList.add(this.variables.modalContentClass),this.options.enableHeader&&this.modalContent.append(this.buildModalHeader()),this.modalContent.append(this.buildModalBody()),this.options.enableFooter&&this.modalContent.append(this.buildModalFooter()),this.modalContent}buildModalDialog(){return this.modalDialog=document.createElement("div"),this.modalDialog.classList.add(this.variables.modalDialogClass),this.options.size&&this.variables.modalSizes.includes(this.options.size)&&this.modalDialog.classList.add(`pa-modal-${this.options.size}`),this.modalDialog.appendChild(this.buildModalContent()),this.modalDialog}buildModalHeader(){return this.modalHeader=document.createElement("div"),this.modalHeader.classList.add(this.variables.modalHeaderClass),this.options.enableCloseIcon&&(this.modalHeaderClose=document.createElement("i"),this.modalHeaderClose.classList.add(this.variables.modalIconFontClass,this.variables.modalXIconClass),this.modalHeaderClose.dataset.dismiss=this.variables.modalClass,this.modalHeader.appendChild(this.modalHeaderClose)),this.modalHeader.append(this.options.title),this.modalHeader}buildModalBody(){return this.modalBody=document.createElement("div"),this.modalBody.classList.add(this.variables.modalBodyClass),this.options.bodyClass&&this.modalBody.classList.add(this.options.bodyClass),this.modalBody.innerHTML=this.options.content,this.modalBody}buildModalFooter(){return this.modalFooter=document.createElement("div"),this.modalFooter.classList.add(this.variables.modalFooterClass),this.options.showButtons&&this.modalFooter.append(this.buildModalFooterButtons()),this.modalFooter}buildModalFooterButtons(){return this.options.showButtons&&(this.modalFooterButtons=document.createElement("div"),Object.keys(this.options.buttons).forEach((t=>{const e=this.options.buttons[t];if(!1!==e){const t=document.createElement("a");e.onClick&&t.addEventListener("click",e.onClick.bind(!1,this),!0),t.setAttribute("href","javascript:;"),e.class?t.setAttribute("class",e.class):t.classList.add("btn","btn-default","text-uppercase"),t.innerText=e.label,this.modalFooterButtons.appendChild(t)}}))),this.modalFooterButtons}show(){this.modal.classList.add(this.variables.modalInClass),this.modalBackdrop&&this.modalBackdrop.classList.add(this.variables.modalInClass),document.body.classList.add(this.variables.modalBodyElementClass),this.dialogShown=!0}processShow(){const t=this.options.showDialogOnPosition;0===t?this.show():window.onscroll=()=>{window.scrollY>=t&&!this.dialogShown&&this.show()}}close(){this.modal.classList.remove(this.variables.modalInClass),this.modalBackdrop&&this.modalBackdrop.classList.remove(this.variables.modalInClass),this.modal.dispatchEvent(new Event("close")),document.body.classList.remove(this.variables.modalBodyElementClass),setTimeout((()=>{this.modal&&this.modal.remove(),this.modalBackdrop&&this.modalBackdrop.remove()}),500)}}},704:(t,e,o)=>{o.d(e,{Z:()=>s});class s{static processTextTooltips(){document.querySelectorAll('[data-toggle="tooltip"]').forEach((t=>{t.addEventListener("mouseover",s.buildTextTooltip.bind(this)),t.addEventListener("mouseout",(()=>{s.removeTooltips()}))}))}static createTooltip(t,e,o=null){s.removeTooltips();const a=Math.floor(1e6*Math.random()),i=document.createElement("div");i.classList.add("pa-tooltip","popup-tooltip"),o&&o.className&&i.classList.add(o.className),i.setAttribute("id","tooltip"+a),i.innerHTML="string"==typeof e?e:e.outerHTML,s.positionTooltip(t,i)}static removeTooltips(){document.querySelectorAll(".pa-tooltip").forEach((t=>{t.remove()}))}static buildTextTooltip(t){t.stopPropagation(),t.preventDefault();const e=t.currentTarget,o=e.getAttribute("href");if(!isMobileDevice||-1!==o.indexOf("javascript"))return e.dataset.title=e.getAttribute("title")||e.dataset.title,e.removeAttribute("title"),s.createTooltip(t,s.generateTooltipInner(e.dataset.title)),!1}static generateTooltipInner(t){const e=document.createElement("div");return e.classList.add("tooltip-inner"),e.innerHTML=t,e}static positionTooltip(t,e){document.body.appendChild(e);const o="10px",s=t.pageX-e.offsetWidth/2<0;t.pageX+e.offsetWidth/2>=window.innerWidth&&!s?e.style.right=o:(e.style.marginLeft=s?o:-e.offsetWidth/2+"px",e.style.left=s?o:t.pageX+"px"),e.style.top=t.pageY-e.offsetHeight-20+"px",window.scrollY>e.offsetTop&&(e.style.top=t.pageY+20+"px")}}window.addEventListener("DOMContentLoaded",(()=>{s.processTextTooltips()}))}},e={};function o(s){var a=e[s];if(void 0!==a)return a.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,o),i.exports}o.d=(t,e)=>{for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=o(501),e=o(865),s=o(704);class a{constructor(){this.specsModalId="pa-offers-modal",this.moreOffersButton='[data-toggle="more-offers"]',this.tooltipShown={},this.events()}events(){document.querySelectorAll(this.moreOffersButton).forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.closest("a")||t.target;this.modalTitle=document.createElement("h4"),this.modalTitle.classList.add("pa-modal-title"),this.modalTitle.innerText=e.dataset.title;const o=document.createElement("div");o.classList.add("disclaimer"),o.appendChild(this.getDisclaimerHyperLink()),this.modalTitle.appendChild(o);const a=JSON.parse(e.dataset.categories);this.modalContent=document.createElement("div"),this.modalContent.classList.add("widgetShopLinks"),a.forEach(((t,e)=>{if(t.items.length>0&&(this.modalContent.appendChild(this.getModalSectionTitle(t.title)),t.items.forEach((t=>{this.modalContent.appendChild(this.getOfferButton(t))})),e<a.length-1)){const t=document.createElement("hr");this.modalContent.appendChild(t)}})),this.showModal({onShow:t=>{s.Z.processTextTooltips()}}),this.modal.modalHeaderClose.remove()}))}))}createTooltip(t,e){const o=document.createElement("div");return o.setAttribute("role","tooltip"),o.innerText=e,o.style.top=o.offsetHeight+t.pageY+20+"px",o.style.left=t.pageX+"px",o}showModal(o){const s={title:this.getModalTitle(),content:this.getModalContent(),modalId:this.specsModalId,size:"small",showButtons:!0,buttons:{ok:!1,cancel:{label:"Close",class:"pa-modal-close-btn",onClick:t=>{t.close()}}}};o=new e.Z(!0,{},s,o),this.modal=new t.Z(o)}getModalTitle(){return this.modalTitle}getModalContent(){return this.modalContent}getOfferButton(t){const e=document.createElement("a");return e.href=t.link,e.target="_blank",e.rel="nofollow sponsored",!0===t.specialOffer?(e.classList.add("specialOffer"),e.appendChild(this.getDiscountSpan(t)),e.appendChild(this.getDiscountDealSpan(t))):e.appendChild(this.getPriceSpan(t)),e.appendChild(this.getImageSpan(t)),e}getPriceSpan(t){const e=document.createElement("span");if(e.classList.add("price"),e.innerText=t.price?t.price.trim():"",!e.innerText){e.classList.add("no-price");const t=document.createElement("i");t.classList.add("pa-icon","pa-icon-shopping-cart"),e.innerHTML=t.outerHTML+" View"}return e}getDiscountSpan(t){const e=document.createElement("span");e.classList.add("discount");const o=document.createElement("span");if(t.discount){e.classList.add("has-discount"),e.innerText=t.discount;const s=document.createElement("span");s.classList.add("off-text"),s.innerText="off",o.appendChild(s)}else{e.classList.add("no-discount");const t=document.createElement("i");t.classList.add("pa-icon","pa-icon-percent"),o.appendChild(t)}return e.appendChild(o),e}getImageSpan(t){const e=document.createElement("span");if(e.classList.add("image"),t.imageClassName&&e.classList.add(t.imageClassName),void 0!==t.merchantLogo&&""!==t.merchantLogo){const o=document.createElement("img");o.src=t.merchantLogo,o.alt=t.merchantName?(!0===t.specialOffer?"Special ":"")+t.merchantName:t.title,e.appendChild(o)}else t.merchantName&&!t.specialOffer&&(e.innerText=t.merchantName);return e}getDiscountDealSpan(t){const e=t.price?t.price.trim():"",o=document.createElement("span");return o.classList.add("deal"),o.innerText=e,e||(o.classList.add("no-price-deal"),o.innerText="Deal"),o}getModalSectionTitle(t){const e=document.createElement("h4");return e.classList.add("widgetShopLinks__section_title"),e.innerText=t,e}getDisclaimerHyperLink(){const t=document.createElement("a");t.classList.add("tooltip"),t.setAttribute("data-toggle","tooltip"),t.setAttribute("data-placement","bottom"),t.title="We may receive a small affiliate commission if you purchase from these offers",t.href="javascript:;";const e=document.createElement("i");return e.classList.add("pa-icon","pa-icon-info-outline"),t.appendChild(e),t}}window.addEventListener("DOMContentLoaded",(()=>{new a}))})()})();