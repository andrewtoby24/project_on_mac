!function(e){"use strict";var t,n=function(){return xs.__string_rec(this,"")},a=a||{};function i(e,t){var n=Object.create(e);for(var a in t)n[a]=t[a];return t.toString!==Object.prototype.toString&&(n.toString=t.toString),n}var r=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};r.__name__=!0,r.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw new ws("EReg::matched")}};var l=function(){};l.__name__=!0,l.substr=function(e,t,n){if(null==n)n=e.length;else if(n<0){if(0!=t)return"";n=e.length+n}return e.substr(t,n)},l.remove=function(e,t){var n=e.indexOf(t);return-1!=n&&(e.splice(n,1),!0)},l.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var o=function(){};o.__name__=!0,o.has=function(e,t){for(var n=As(e);n.hasNext();)if(n.next()==t)return!0;return!1},o.exists=function(e,t){for(var n=As(e);n.hasNext();)if(t(n.next()))return!0;return!1},o.fold=function(e,t,n){for(var a=As(e);a.hasNext();)n=t(a.next(),n);return n},o.find=function(e,t){for(var n=As(e);n.hasNext();){var a=n.next();if(t(a))return a}return null};var s=function(e){ee.AddListener("contentfound",(function(e,t){var n=window.document.createElement("style");return n.innerHTML='.compare[data-binkies-content="pageTarget"] [data-binkies-content="root"]{display: block !important;}',window.document.head.appendChild(n)}))};s.__name__=!0;var u=function(){};u.__name__=!0,u.main=function(){var e=window.BinkiesSettings.IntegrationSettings,t={id:"fromjavascript",settings:{attributePath:{id:"constant",settings:{value:"location.href"}}}},n={id:"regex",settings:{regex:"([^/]+$)",value:t}},a={id:"regex",settings:{regex:"^([^\\?#]+)",value:n}},i={},r={id:"gotoroutebutton",settings:{route:"",styles:[{}]}},l={id:"linkbutton",settings:{styles:[{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/cta_color.png"}},aspectRatio:{width:950,height:282}}],link:{id:"constant",settings:{value:"https://www2.binkies3d.com/use-cases/3d-product-viewer/?utm_source=phonearena&utm_medium=integration&utm_campaign=poweredby"}}}},o={id:"gotoroutebutton",settings:{route:"",styles:[i,{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/close.svg"}}}]}},u={id:"hand",settings:{imageSource:e.IntegrationUrlPath+"/content/finger.png",circleColor:"#FF8516"}},d=[{bookmark:"front"},{bookmark:"right"},{bookmark:"back"},{bookmark:"left"}],c={id:"gallery",settings:{type:"image",bookmarks:d,distanceBetweenItems:"12px",bookmarkStyles:[{imageScale:.8,aspectRatio:{width:100,height:100}}]}},h={id:"inlinebox",settings:{direction:"horizontal",alignment:"center",components:[c]}},_={id:"inlinebox",settings:{direction:"horizontal",alignment:"start",components:[{id:"linkbutton",settings:{styles:[{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/cta_bw.png"}},aspectRatio:{width:950,height:282},hover:{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/cta_color.png"}}}}],link:{id:"constant",settings:{value:"https://www2.binkies3d.com/use-cases/3d-product-viewer/?utm_source=phonearena&utm_medium=integration&utm_campaign=poweredby"}}}}]}},g={id:"integrationplayer",settings:{galleryBookmarks:d,galleryBookmarkWidth:100,galleryBookmarkHeight:100,navigation:{id:"justviewing",settings:{}}}},b={id:"route",settings:{routes:[{route:"",component:g},{route:"fullscreen",component:g},{route:"fullscreen/creditcardcomparison",component:{id:"integrationplayer",settings:{galleryBookmarks:d,galleryBookmarkWidth:100,galleryBookmarkHeight:100,navigation:{id:"comparison",settings:{}}}}}]}},v={id:"stylepane",settings:{style:{boxShadow:"0 5px 15px rgba(0,0,0,0.5)",background:"#ffffff"}}},f={id:"activestateis",settings:{State:"loading"}},S={id:"grid",settings:{columns:["50px","1fr","2fr","1fr","70px"],rows:["70px","1fr","200px","12px","1fr","80px","70px"],areas:[{row:0,column:4,width:1,height:1,component:o,style:{padding:"20px"}},{row:2,column:2,width:1,height:1,component:{id:"inlinebox",settings:{direction:"horizontal",alignment:"center",components:[{id:"image",settings:{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/loading-animation.svg"}}}}]}},style:{padding:"15px"}},{row:3,column:2,width:1,height:1,component:{id:"loadingbar",settings:{backgroundColor:"#ccc",progressColor:"#FF8516"}}},{row:6,column:0,width:2,height:1,component:_,style:{padding:"9px"}}]}},p={id:"grid",settings:{rows:["5%","1fr","10%"],columns:["10%","1fr","10%"],areas:[{row:1,column:1,width:1,height:1,component:v},{row:1,column:1,width:1,height:1,component:{id:"conditional",settings:{condition:f,ifTrue:S,ifFalse:{id:"grid",settings:{rows:["70px","1fr","55px"],columns:["70px","80px","1fr","70px"],areas:[{row:0,column:0,width:4,height:3,component:b,type:"canvas"},{row:0,column:1,width:2,height:2,component:null,type:"scene"},{row:0,column:1,width:2,height:2,component:u},{row:1,column:0,width:1,height:1,component:{id:"inlinebox",settings:{direction:"vertical",alignment:"center",components:[c]}}},{row:0,column:3,width:1,height:1,component:o,style:{padding:"20px"}},{row:2,column:0,width:2,height:1,component:l,style:{padding:"0 0 8px 8px"}}]}}}}},{row:0,column:0,width:3,height:1,component:r},{row:1,column:0,width:1,height:1,component:r},{row:2,column:0,width:3,height:1,component:r},{row:1,column:2,width:1,height:1,component:r}]}};new s({id:"constant",settings:{value:{id:"constant",settings:{value:".phone__section div.compare"}}}}),window.BinkiesIntegrationConfiguration={ContentIdentifierProvider:{id:"conditional",settings:{condition:{id:"elementexists",settings:{value:{id:"cssselector",settings:{selector:{id:"constant",settings:{value:".phone__section .head-image"}}}}}},ifTrue:a,ifFalse:null}},Settings:e,Features:[{Id:"ValueInspection",Settings:{values:[{value:t,name:"pageurl"},{value:n,name:"lastpartofurl"},{value:a,name:"pathwithoutqueryparameters"}]}},{Id:"Root",Settings:{targetElement:{id:"constant",settings:{value:{id:"constant",settings:{value:".phone__section div.compare"}}}},fullscreenBackgroundColor:"rgba(0, 0, 0, 0.5)",component:{id:"layout",settings:{onPageLayouts:[],behindButtonLayouts:[{enabled:{id:"constant",settings:{value:!0}},component:{id:"grid",settings:{rows:["1fr"],columns:["1fr","200px","1fr"],areas:[{row:0,column:1,width:1,height:1,component:{id:"gotoroutebutton",settings:{route:"fullscreen",styles:[i,{background:"#fff",borderRadius:"50px",border:"solid 1px #333",text:{content:{id:"constant",settings:{value:"VIEW IN 3D"}},style:{color:"#333"},padding:"8px"},hover:{background:"#3c9bcd",border:"solid 1px #3c9bcd",text:{content:{id:"constant",settings:{value:"VIEW IN 3D"}},style:{color:"#fff"},padding:"8px"}}}]}}}]}}}],fullscreenLayouts:[{enabled:{id:"mediaquerymatch",settings:{maxHeight:"700px",minAspectRatio:"5/5"}},component:p},{enabled:{id:"mediaquerymatch",settings:{maxHeight:"700px",maxAspectRatio:"5/5"}},component:p},{enabled:{id:"mediaquerymatch",settings:{minHeight:"701px",minWidth:"801px"}},component:{id:"grid",settings:{rows:["5%","1fr","15%"],columns:["15%","1fr","15%"],areas:[{row:1,column:1,width:1,height:1,component:v},{row:1,column:1,width:1,height:1,component:{id:"conditional",settings:{condition:f,ifTrue:S,ifFalse:{id:"grid",settings:{rows:["50px","1fr","70px"],columns:["200px","1fr","150px","50px"],areas:[{row:0,column:0,width:4,height:3,component:b,type:"canvas"},{row:0,column:0,width:4,height:2,component:null,type:"scene"},{row:0,column:1,width:1,height:2,component:u},{row:2,column:1,width:1,height:1,component:h},{row:0,column:3,width:1,height:1,component:o,style:{padding:"15px"}},{row:2,column:0,width:1,height:1,component:_,style:{padding:"9px"}}]}}}}},{row:0,column:0,width:3,height:1,component:r},{row:1,column:0,width:1,height:1,component:r},{row:2,column:0,width:3,height:1,component:r},{row:1,column:2,width:1,height:1,component:r}]}}},{enabled:{id:"mediaquerymatch",settings:{minHeight:"701px",maxWidth:"800px"}},component:{id:"grid",settings:{rows:["5%","1fr","10%"],columns:["10%","1fr","10%"],areas:[{row:1,column:1,width:1,height:1,component:v},{row:1,column:1,width:1,height:1,component:{id:"conditional",settings:{condition:f,ifTrue:S,ifFalse:{id:"grid",settings:{rows:["70px","1fr","70px"],columns:["150px","1fr","100px","70px"],areas:[{row:0,column:0,width:4,height:3,component:b,type:"canvas"},{row:1,column:0,width:4,height:1,component:null,type:"scene"},{row:1,column:0,width:4,height:1,component:u},{row:2,column:0,width:4,height:1,component:h},{row:0,column:3,width:1,height:1,component:o,style:{padding:"15px"}},{row:0,column:0,width:1,height:1,component:l,style:{padding:"9px"}}]}}}}},{row:0,column:0,width:3,height:1,component:r},{row:1,column:0,width:1,height:1,component:r},{row:2,column:0,width:3,height:1,component:r},{row:1,column:2,width:1,height:1,component:r}]}}}]}}}},{Id:"NavigationFocus",Settings:{disableNavigation:{id:"constant",settings:{value:!1}}}},{Id:"RouteHistory",Settings:{mode:"urlparameter"}},{Id:"Crossfader",Settings:{}}],IntegrationDisplayMode:{id:"constant",settings:{value:"behindbutton"}}},new Ht},Math.__name__=!0;var d=function(){};d.__name__=!0,d.isObject=function(e){if(null==e)return!1;var t=typeof e;return"string"==t||"object"==t&&null==e.__enum__||"function"==t&&null!=(e.__name__||e.__ename__)};var c=function(){};c.__name__=!0,c.string=function(e){return xs.__string_rec(e,"")},c.parseInt=function(e){var t=parseInt(e,!e||"0"!=e[0]||"x"!=e[1]&&"X"!=e[1]?10:16);return isNaN(t)?null:t};var h=function(){};h.__name__=!0,h.startsWith=function(e,t){return e.length>=t.length&&0==e.lastIndexOf(t,0)},h.endsWith=function(e,t){var n=t.length,a=e.length;return a>=n&&e.indexOf(t,a-n)==a-n},h.replace=function(e,t,n){return e.split(t).join(n)};var _=function(){};_.__name__=!0,_.prototype={SetValue:function(e){this.Value=e}};var g=function(e){this.contentQueue=e,this.ContentQueueToSceneItemObserver=new b(this)};g.__name__=!0,g.prototype={_updatedisplayableProductColor:function(){return null==this.contentQueue||null==this.contentQueue.DisplayableProductColor?null:this.contentQueue.DisplayableProductColor},_updateReady:function(){return null!=this.displayableProductColor&&(!!this.displayableProductColor.Color.ReadyForCustomer&&this.displayableProductColor.Color.LoadState==B.Loaded)},_updateComposition:function(){return this.Ready?this.displayableProductColor.Product.Composition:this.Composition},_updateOptionUId:function(){return this.Ready?this.displayableProductColor.Color.OptionUId:this.OptionUId},_updateProductUId:function(){return this.Ready?this.displayableProductColor.Color.ProductUId:this.ProductUId}};var b=function(e){var t=this;this.state_displayableProductColor=!1,this.state_Ready=!1,this.state_Composition=!1,this.state_OptionUId=!1,this.state_ProductUId=!1;var n=function(){e.displayableProductColor=e._updatedisplayableProductColor(),t.state_displayableProductColor=!0},a=function(){e.Ready=e._updateReady(),t.state_Ready=!0},i=function(){e.Composition=e._updateComposition(),t.state_Composition=!0},r=function(){e.OptionUId=e._updateOptionUId(),t.state_OptionUId=!0},l=function(){e.ProductUId=e._updateProductUId(),t.state_ProductUId=!0},o=function(e,a){t.state_displayableProductColor=f.ScheduleCallback(t.state_displayableProductColor,n)},s=function(e,n){t.state_Ready=f.ScheduleCallback(t.state_Ready,a)},u=function(e,n){t.state_Ready=f.ScheduleCallback(t.state_Ready,a)},d=function(e,n){t.state_OptionUId=f.ScheduleCallback(t.state_OptionUId,r)},c=function(e,n){t.state_ProductUId=f.ScheduleCallback(t.state_ProductUId,l)},h=function(e,n){null!=e&&(Te.HiddenForget(e,"ReadyForCustomer",s),Te.HiddenForget(e,"LoadState",u),Te.HiddenForget(e,"OptionUId",d),Te.HiddenForget(e,"ProductUId",c)),null!=n&&(Te.HiddenObserve(n,"ReadyForCustomer",s),Te.HiddenObserve(n,"LoadState",u),Te.HiddenObserve(n,"OptionUId",d),Te.HiddenObserve(n,"ProductUId",c)),t.state_Ready=f.ScheduleCallback(t.state_Ready,a),t.state_OptionUId=f.ScheduleCallback(t.state_OptionUId,r),t.state_ProductUId=f.ScheduleCallback(t.state_ProductUId,l)},_=function(e,n){t.state_Composition=f.ScheduleCallback(t.state_Composition,i)},g=function(e,n){null!=e&&Te.HiddenForget(e,"Composition",_),null!=n&&Te.HiddenObserve(n,"Composition",_),t.state_Composition=f.ScheduleCallback(t.state_Composition,i)};Te.HiddenObserve(e,"contentQueue",(function(e,a){null!=e&&Te.HiddenForget(e,"DisplayableProductColor",o),null!=a&&Te.HiddenObserve(a,"DisplayableProductColor",o),t.state_displayableProductColor=f.ScheduleCallback(t.state_displayableProductColor,n)})),Te.HiddenObserve(e,"displayableProductColor",(function(e,n){null!=e&&(Te.HiddenForget(e,"Color",h),Te.HiddenForget(e,"Product",g)),null!=n&&(Te.HiddenObserve(n,"Color",h),Te.HiddenObserve(n,"Product",g)),t.state_Ready=f.ScheduleCallback(t.state_Ready,a),t.state_Composition=f.ScheduleCallback(t.state_Composition,i),t.state_OptionUId=f.ScheduleCallback(t.state_OptionUId,r),t.state_ProductUId=f.ScheduleCallback(t.state_ProductUId,l)})),Te.HiddenObserve(e,"Ready",(function(e,n){t.state_Composition=f.ScheduleCallback(t.state_Composition,i),t.state_OptionUId=f.ScheduleCallback(t.state_OptionUId,r),t.state_ProductUId=f.ScheduleCallback(t.state_ProductUId,l)})),Te.HiddenObserve(e,"Composition",(function(e,n){t.state_Composition=f.ScheduleCallback(t.state_Composition,i)})),Te.HiddenObserve(e,"OptionUId",(function(e,n){t.state_OptionUId=f.ScheduleCallback(t.state_OptionUId,r)})),Te.HiddenObserve(e,"ProductUId",(function(e,n){t.state_ProductUId=f.ScheduleCallback(t.state_ProductUId,l)})),n(),a(),i(),r(),l()};b.__name__=!0;var v=function(){this.listeners=[],this.firing=!1};v.__name__=!0,v.prototype={Register:function(e){this.firing?(null==this.listenersToRegister&&(this.listenersToRegister=[]),this.listenersToRegister.push(e)):this.listeners.push(e)},Fire:function(e){this.firing=!0;for(var t=0,n=this.listeners.length;t<n;)this.listeners[t++](e);if(this.firing=!1,null!=this.listenersToDeregister){for(var a=0,i=this.listenersToDeregister;a<i.length;)l.remove(this.listeners,i[a++]);this.listenersToDeregister=null}if(null!=this.listenersToRegister){for(var r=0,o=this.listenersToRegister;r<o.length;)this.listeners.push(o[r++]);this.listenersToRegister=null}}};var f=function(){};f.__name__=!0,f.ScheduleCallback=function(e,t){return 1==e?(0==f.callbacks.length&&(S.UpdateComputedProperties=!0),f.callbacks.push(t),!1):(null==e&&window.console.exception("Computed property setter loop detected."),!1)},f.UpdateComputedProperties=function(){for(var e=0;e!=f.callbacks.length;)f.callbacks[e](),++e;f.callbacks.length=0};var S=function(){};S.__name__=!0,S.Update=function(e){S.requestId=window.requestAnimationFrame(S.Update),S.ElapsedTime=.001*(e-S.lastUpdateTime),S.TotalElapsedTime=.001*e,S.lastUpdateTime=e,S.nextFrameEvent.Fire(S.ElapsedTime),S.UpdateComputedProperties&&(f.UpdateComputedProperties(),S.UpdateComputedProperties=!1),S.afterComputedPropertiesUpdated.Fire(S.ElapsedTime),S.FrameId++};var p=function(){this.SceneItems=[]};p.__name__=!0,p.prototype={SetSceneItems:function(e){this.SceneItems=e}};var m=function(){};m.__name__=!0,m.InsertSort=function(e,t){if(!(e.length<=1))for(var n=0,a=e.length;n<a;)for(var i=n++,r=e[i],l=-1,o=0,s=i+1;o<s;){var u=i-o++-1,d=e[u];if(-1==u||t(r,d)>=0){i!=(l=u+1)&&(e[l]=r);break}e[u+1]=d}};var C={__name__:!0},y=function(e,t){if(this.generatedCount=0,this.length<1)throw new ws("Length of the unique string must be larger than 0");this.alphabet=e,this.length=t};y.__name__=!0,y.prototype={Get:function(){for(var e="",t=this.generatedCount;t>=0;){var n=t%this.alphabet.length;e=this.alphabet[n]+e,t=((t-n)/this.alphabet.length|0)-1}var a=e;if(null!=this.length){var i=a,r=this.length-i.length;if(r>0){for(var l=this.alphabet[0],o=[],s=0;s<r;)++s,o.push(l);i=o.join("")+i}else if(r<0)throw new ws("Out of unique identifiers!");a=i}return this.generatedCount++,a}};var k=function(e){ee.AddListener("bookmarkclicked",(function(t,n){e.OnBookmarkClicked(t,n)})),ee.AddListener("contentloaded",(function(t,n){e.OnContentLoaded(t,n)})),ee.AddListener("contentswitched",(function(t,n){e.OnContentSwitched(t,n)})),ee.AddListener("contentfound",(function(t,n){e.OnContentFound(t,n)})),ee.AddListener("contentnotfound",(function(t,n){e.OnContentNotFound(t,n)})),ee.AddListener("driverinfo",(function(t,n){e.OnDriverInfo(t,n)})),ee.AddListener("engaged",(function(t,n){e.OnEngaged(t,n)})),ee.AddListener("enterfullscreen",(function(t,n){e.OnEnterFullscreen(t,n)})),ee.AddListener("leavefullscreen",(function(t,n){e.OnLeaveFullscreen(t,n)})),ee.AddListener("integrationloaded",(function(t,n){e.OnIntegrationLoaded(t,n)})),ee.AddListener("supports3d",(function(t,n){e.OnSupports3D(t,n)})),ee.AddListener("resetnavigation",(function(t,n){e.OnResetNavigation(t,n)})),ee.AddListener("routechanged",(function(t,n){e.OnRouteChanged(t,n)})),ee.AddListener("canshare",(function(t,n){e.OnCanShare(t,n)})),ee.AddListener("sharestarted",(function(t,n){e.OnShareStarted(t,n)})),ee.AddListener("sharecompleted",(function(t,n){e.OnShareCompleted(t,n)})),ee.AddListener("linkfollowed",(function(t,n){e.OnLinkFollowed(t,n)})),ee.AddListener("integrationdisplaymode",(function(t,n){e.OnIntegrationDisplayMode(t,n)})),ee.AddListener("testvariant",(function(t,n){e.OnTestVariant(t,n)})),ee.AddListener("flipperclicked",(function(t,n){e.OnFlipperClicked(t,n)}))};k.__name__=!0;var H=function(e,t){if(null==e&&(e=100),this.messageQueue=[],null==t)throw new ws("Argument null exception. Parameter: decoratee");this.timeout=e,this.decoratee=t};H.__name__=!0,H.prototype={TryToSendMessages:function(e){null!=this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),this.timeoutHandle=window.setTimeout(Is(this,this.OnTimeout),this.timeout);for(var t=0;t<e.length;)this.messageQueue.push(e[t++]);return!0},OnTimeout:function(){this.timeoutHandle=null,this.decoratee.TryToSendMessages(this.messageQueue),this.messageQueue.length=0}};var V=function(e,t){if(null==e&&(e=1e3),null==t)throw new ws("Argument null exception. Parameter: decoratee");this.decoratee=t,this.timeout=e};V.__name__=!0,V.prototype={TryToSendMessages:function(e){var t=this,n=this.decoratee.TryToSendMessages(e);return n||window.setTimeout((function(){return t.TryToSendMessages(e)}),this.timeout),n}};var O=function(e,t){null==e&&(e=12e5),this.CanSend=!0;var n=this;if(null==t)throw new ws("Argument null exception. Parameter: decoratee");this.timeout=e,this.decoratee=t,window.setTimeout((function(){return n.CanSend=!1}),e)};O.__name__=!0,O.prototype={TryToSendMessages:function(e){return!!this.CanSend&&this.decoratee.TryToSendMessages(e)}};var F=function(e,t,n){if(Hs.IsNullOrWhiteSpace(e))throw new ws("Value cannot be null or whitespace. Parameter name: accessKey");if(Hs.IsNullOrWhiteSpace(t))throw new ws("Value cannot be null or whitespace. Parameter name: viewId");if(null==n)throw new ws("Argument null exception. Parameter: endpoint");this.accessKey=e,this.viewId=t,this.endpoint=n,this.startTimestamp=(new Date).getTime(),new k(this)};F.__name__=!0,F.prototype={OnBookmarkClicked:function(e,t){this.QueueMessage("BookmarkClicked",{Name:e.Name},t)},OnContentLoaded:function(e,t){},OnContentSwitched:function(e,t){this.QueueMessage("ContentSwitched",{ProductUId:e.ProductUId,OptionUId:e.OptionUId},t)},OnContentFound:function(e,t){},OnContentNotFound:function(e,t){},OnDriverInfo:function(e,t){var n={};null!=e.DriverInfo&&(n={Antialias:e.DriverInfo.Antialias,Renderer:e.DriverInfo.Renderer,WebGLVersion:e.DriverInfo.WebGLVersion}),this.QueueMessage("DriverInfo",n,t)},OnEngaged:function(e,t){this.QueueMessage("Engaged",{},t)},OnEnterFullscreen:function(e,t){this.QueueMessage("EnterFullscreen",{},t)},OnLeaveFullscreen:function(e,t){this.QueueMessage("LeaveFullscreen",{},t)},OnIntegrationLoaded:function(e,t){this.QueueMessage("IntegrationLoaded",{},t)},OnSupports3D:function(e,t){this.QueueMessage("Supports3D",{Supported:e.Supported,Reason:e.Reason},t)},OnResetNavigation:function(e,t){},OnRouteChanged:function(e,t){this.QueueMessage("RouteChanged",{Route:e.Route},t)},OnCanShare:function(e,t){this.QueueMessage("CanShare",{},t)},OnShareStarted:function(e,t){this.QueueMessage("ShareStarted",{},t)},OnShareCompleted:function(e,t){this.QueueMessage("ShareCompleted",{},t)},OnLinkFollowed:function(e,t){this.QueueMessage("LinkFollowed",{Href:e.Href},t)},OnIntegrationDisplayMode:function(e,t){this.QueueMessage("IntegrationDisplayMode",{IntegrationDisplayMode:e.IntegrationDisplayMode},t)},OnTestVariant:function(e,t){this.QueueMessage("TestVariant",{TestVariant:e.TestVariantName},t)},OnFlipperClicked:function(e,t){this.QueueMessage("FlipperClicked",{Direction:e.Direction},t)},QueueMessage:function(e,t,n){var a=t;a.MessageType=e,a.AccessKey=this.accessKey,a.ViewId=this.viewId,a.TimeSinceStart=n-this.startTimestamp,a.Salt=1e5+Math.floor(9e5*Math.random()),this.endpoint.TryToSendMessages([{data:a,timestamp:n}])}};var w=function(e,t){this.CanSend=!0,this.statsUrl=e,this.token=t,this.CanSend=!(Hs.IsNullOrWhiteSpace(e)||Hs.IsNullOrWhiteSpace(t))};w.__name__=!0,w.prototype={TryToSendMessages:function(e){if(!this.CanSend)return!1;this.CanSend=!1;for(var t=this.CreateRequest(),n=new Array(e.length),a=0,i=e.length;a<i;){var r=a++;n[r]={Body:JSON.stringify(e[r].data)}}return t.send(JSON.stringify(n)),!0},CreateRequest:function(){var e=this,t=new XMLHttpRequest;return t.onreadystatechange=function(){4==t.readyState&&(200!=t.status&&201!=t.status||(e.CanSend=!0))},t.withCredentials=!0,t.open("POST",this.statsUrl,!0),t.setRequestHeader("Content-Type","application/vnd.microsoft.servicebus.json"),t.setRequestHeader("Authorization",this.token),t}};var x=function(e){this.contentItems=[],this.contentIds=[],this.ProductUId=e.productUId,this.OptionUId=e.optionUId,this.ReadyForCustomer=!Hs.IsNullOrWhiteSpace(e.path),this.ColorObserver=new D(this)};x.__name__=!0,x.prototype={_updateLoadState:function(){if(0==this.contentItems.length)return B.NotLoaded;for(var e=0,t=0,n=!0,a=0,i=this.contentItems;a<i.length;){var r=i[a];if(++a,r.LoadState==B.NotLoaded)return B.NotLoaded;if(0==r.TotalSizeInBytes&&r.LoadState!=B.Loaded)return B.Loading(0);e+=r.BytesDownloaded,t+=r.TotalSizeInBytes,r.LoadState!=B.Loaded&&(n=!1)}return n?B.Loaded:B.Loading(t>0?e/t:0)},AddContentId:function(e){-1==this.contentIds.indexOf(e)&&this.contentIds.push(e)},SetContentItems:function(e){if(0!=this.contentItems.length)throw new ws("Only allowed to set content items once");for(var t=0;t<e.length;){var n=e[t];++t,-1==this.contentItems.indexOf(n)&&this.contentItems.push(n)}},StartLoadingIfReadyForCustomer:function(){if(this.ReadyForCustomer)for(var e=0,t=this.contentItems;e<t.length;)t[e++].StartLoading()}};var D=function(e){var t=this;this.state_LoadState=!1;var n=function(){e.LoadState=e._updateLoadState(),t.state_LoadState=!0},a=function(e,a){t.state_LoadState=f.ScheduleCallback(t.state_LoadState,n)},i=function(e,a){t.state_LoadState=f.ScheduleCallback(t.state_LoadState,n)},r=function(e,a){t.state_LoadState=f.ScheduleCallback(t.state_LoadState,n)};Te.HiddenObserve(e,"contentItems",(function(e,l){null!=e&&(Te.HiddenForget(e,"LoadState",a),Te.HiddenForget(e,"TotalSizeInBytes",i),Te.HiddenForget(e,"BytesDownloaded",r)),null!=l&&(Te.HiddenObserve(l,"LoadState",a),Te.HiddenObserve(l,"TotalSizeInBytes",i),Te.HiddenObserve(l,"BytesDownloaded",r)),t.state_LoadState=f.ScheduleCallback(t.state_LoadState,n)})),n()};D.__name__=!0;var P=function(e,t,n,a,i){this.BytesDownloaded=0,this.TotalSizeInBytes=0,this.LoadState=B.NotLoaded,this.supportsCompression=i,this.filename=e,this.path=t,this.TrackProgress=n,this.completedCallback=a};P.__name__=!0,P.prototype={GetXHRObject:function(e){var t=this,n=null,a=new XMLHttpRequest;return a.onprogress=function(e){var a=e.total;null!=n&&(0==a||a>n)&&(a=n),(e.lengthComputable||0!=a)&&(t.BytesDownloaded=e.loaded,t.TotalSizeInBytes=a,t.LoadState=B.Loading(e.loaded/a))},a.onreadystatechange=function(){if(2==a.readyState){var e=a.getResponseHeader("x-ms-meta-contentlength");null!=e&&(n=c.parseInt(e))}},a.onload=function(n){t.LoadState!=B.Loaded&&200==a.status&&e(a.response)},a},StartLoading:function(){if(this.LoadState==B.NotLoaded){this.LoadState=B.Loading(0);var e=Hs.IsNullOrWhiteSpace(this.path)?this.filename:this.path+"/"+this.filename;this.supportsCompression&&(P.BrowserSupportsBrotli&&0==e.indexOf("https:")?e+=".br":e+=".gz"),this.OnStartLoading(e)}},OnStartLoading:function(e){},OnCompleted:function(){this.LoadState=B.Loaded,null!=this.completedCallback&&this.completedCallback(this)}};var A=function(e,t,n,a){P.call(this,e,t,n,a,!0)};A.__name__=!0,A.__super__=P,A.prototype=i(P.prototype,{OnStartLoading:function(e){var t=this;P.prototype.OnStartLoading.call(this,e);var n=this.GetXHRObject((function(e){t.Composition=Jl._a(e),t.OnCompleted()}));n.open("GET",e,!0),n.responseType="arraybuffer",n.send()}});var I=function(){};I.__name__=!0,I.CreateAllImageContentItems=function(e){for(var t=0,n=e.Textures;t<n.length;){var a=[n[t]];++t;var i=G.Map.get(a[0]);null==i&&(-1==a[0].Path.toLowerCase().indexOf("sparklenoisemap.png")&&(i=new L(a[0].Path,null,!0,function(e){return function(t){e[0].Image=t.ImageElement}}(a)),G.Map.set(a[0],i)))}};var T=function(e,t,n){this.productColorProvider=e,this.contentManipulator=n,P.BrowserSupportsBrotli=t,this.ContentDownloaderObserver=new M(this)};T.__name__=!0,T.prototype={_updateDownloadContent:function(){var e=this;if(null==this.productColorProvider||null==this.productColorProvider.ProductColor||null==this.productColorProvider.ProductColor.Product)return!1;if(null==this.productColorProvider||null==this.productColorProvider.ProductColor||null==this.productColorProvider.ProductColor.Color)return!1;var t=this.productColorProvider.ProductColor.Product,n=this.productColorProvider.ProductColor.Color;if(!n.ReadyForCustomer)return!1;if(null!=t.scene){if(0==n.contentItems.length){var a=U.GatherContentItemsForOptionId(t,n.OptionUId);n.SetContentItems(a)}n.StartLoadingIfReadyForCustomer()}else t.scene=new A("scene.mdm",t.Path+"/7",!0,(function(a){e.contentManipulator.process(t,a.Composition),t.Composition=a.Composition,U.AddGeometriesToScene(t),I.CreateAllImageContentItems(t.Composition);var i=U.GatherContentItemsForOptionId(t,n.OptionUId);n.SetContentItems(i),n.StartLoadingIfReadyForCustomer()})),t.geometry=new A("geometry.mdm",t.Path+"/7",!0,(function(e){U.AddGeometriesToScene(t)})),t.scene.StartLoading(),t.geometry.StartLoading();return!0}};var M=function(e){var t=this;this.state_DownloadContent=!1;var n=function(){e.DownloadContent=e._updateDownloadContent(),t.state_DownloadContent=!0},a=function(e,a){t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},i=function(e,a){t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},r=function(e,a){t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},l=function(e,l){null!=e&&(Te.HiddenForget(e,"scene",a),Te.HiddenForget(e,"Path",i),Te.HiddenForget(e,"Composition",r)),null!=l&&(Te.HiddenObserve(l,"scene",a),Te.HiddenObserve(l,"Path",i),Te.HiddenObserve(l,"Composition",r)),t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},o=function(e,a){t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},s=function(e,a){t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},u=function(e,a){t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},d=function(e,a){null!=e&&(Te.HiddenForget(e,"ReadyForCustomer",o),Te.HiddenForget(e,"contentItems",s),Te.HiddenForget(e,"OptionUId",u)),null!=a&&(Te.HiddenObserve(a,"ReadyForCustomer",o),Te.HiddenObserve(a,"contentItems",s),Te.HiddenObserve(a,"OptionUId",u)),t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)},c=function(e,a){null!=e&&(Te.HiddenForget(e,"Product",l),Te.HiddenForget(e,"Color",d)),null!=a&&(Te.HiddenObserve(a,"Product",l),Te.HiddenObserve(a,"Color",d)),t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)};Te.HiddenObserve(e,"productColorProvider",(function(e,a){null!=e&&Te.HiddenForget(e,"ProductColor",c),null!=a&&Te.HiddenObserve(a,"ProductColor",c),t.state_DownloadContent=f.ScheduleCallback(t.state_DownloadContent,n)})),n()};M.__name__=!0;var R=function(e,t,n){this.contentIdHistory=[],this.productColorHistory=[],this.contentIdentifierProvider=e,this.contentSettingsProvider=t,this.productRepository=null!=n?n:new z,this.nextFrameHandler=new Ce,Te.HiddenObserve(this.contentIdentifierProvider,"Value",Is(this,this.ObserveIdentifier),!0),this.ContentQueueObserver=new N(this)};R.__name__=!0,R.prototype={_updateLoadState:function(){return null==this.LoadingProductColor||null==this.LoadingProductColor.Color?null:this.LoadingProductColor.Color.LoadState},_updateLatestProductColor:function(){var e=this.productColorHistory;return e[e.length-1]},_updateLoadingProductColor:function(){var e=this.productColorHistory[this.productColorHistory.length-1];return null!=e&&2==e.Color.LoadState._hx_index?e:null},_updateDisplayableProductColor:function(){for(var e=1,t=this.productColorHistory.length+1;e<t;){var n=this.productColorHistory[this.productColorHistory.length-e++];if(null==n||!n.Color.ReadyForCustomer)return null;if(n.Color.LoadState==B.Loaded)return n}return null},ObserveIdentifier:function(e,t){var n=this;this.nextFrameHandler.SetCallback((function(){var e=n.productColorHistory.length;if(null!=t){var a=n.productRepository.FindExistingProductColor(t);n.productColorHistory.splice(e,1,a),n.contentIdHistory.splice(e,1,t),null==a&&n.contentSettingsProvider.Request(t,(function(i){null!=i.productUId?ee.Fire("contentfound",new ae(t)):ee.Fire("contentnotfound",new re(t)),a=n.productRepository.AddContentSettings(t,i),n.productColorHistory.splice(e,1,a),n.contentIdHistory.splice(e,1,t)}))}else n.productColorHistory.push(null),n.contentIdHistory.push(null)}))}};var N=function(e){var t=this;this.state_LoadState=!1,this.state_LatestProductColor=!1,this.state_LoadingProductColor=!1,this.state_DisplayableProductColor=!1;var n=function(){e.LoadState=e._updateLoadState(),t.state_LoadState=!0},a=function(){e.LatestProductColor=e._updateLatestProductColor(),t.state_LatestProductColor=!0},i=function(){e.LoadingProductColor=e._updateLoadingProductColor(),t.state_LoadingProductColor=!0},r=function(){e.DisplayableProductColor=e._updateDisplayableProductColor(),t.state_DisplayableProductColor=!0},l=function(e,a){t.state_LoadState=f.ScheduleCallback(t.state_LoadState,n)},o=function(e,a){null!=e&&Te.HiddenForget(e,"LoadState",l),null!=a&&Te.HiddenObserve(a,"LoadState",l),t.state_LoadState=f.ScheduleCallback(t.state_LoadState,n)},s=function(e,n){t.state_LoadingProductColor=f.ScheduleCallback(t.state_LoadingProductColor,i),t.state_DisplayableProductColor=f.ScheduleCallback(t.state_DisplayableProductColor,r)},u=function(e,n){t.state_DisplayableProductColor=f.ScheduleCallback(t.state_DisplayableProductColor,r)},d=function(e,n){null!=e&&(Te.HiddenForget(e,"LoadState",s),Te.HiddenForget(e,"ReadyForCustomer",u)),null!=n&&(Te.HiddenObserve(n,"LoadState",s),Te.HiddenObserve(n,"ReadyForCustomer",u)),t.state_LoadingProductColor=f.ScheduleCallback(t.state_LoadingProductColor,i),t.state_DisplayableProductColor=f.ScheduleCallback(t.state_DisplayableProductColor,r)};Te.HiddenObserve(e,"LoadingProductColor",(function(e,a){null!=e&&Te.HiddenForget(e,"Color",o),null!=a&&Te.HiddenObserve(a,"Color",o),t.state_LoadState=f.ScheduleCallback(t.state_LoadState,n)})),Te.HiddenObserve(e,"productColorHistory",(function(e,n){null!=e&&Te.HiddenForget(e,"Color",d),null!=n&&Te.HiddenObserve(n,"Color",d),t.state_LatestProductColor=f.ScheduleCallback(t.state_LatestProductColor,a),t.state_LoadingProductColor=f.ScheduleCallback(t.state_LoadingProductColor,i),t.state_DisplayableProductColor=f.ScheduleCallback(t.state_DisplayableProductColor,r)})),n(),a(),i(),r()};N.__name__=!0;var L=function(e,t,n,a){P.call(this,e,t,n,a,!1)};L.__name__=!0,L.__super__=P,L.prototype=i(P.prototype,{OnStartLoading:function(e){var t=this;P.prototype.OnStartLoading.call(this,e),this.ImageElement=window.document.createElement("img");var n=this.GetXHRObject((function(e){var n=URL.createObjectURL(e);t.ImageElement.onload=function(e){URL.revokeObjectURL(n),t.OnCompleted()},t.ImageElement.src=n}));n.open("GET",e,!0),n.responseType="blob",n.send(null)}});var B=a["binkies.content.LoadState"]={__ename__:!0,__constructs__:["NotLoaded","Loaded","Loading"],NotLoaded:{_hx_index:0,__enum__:"binkies.content.LoadState",toString:n},Loaded:{_hx_index:1,__enum__:"binkies.content.LoadState",toString:n},Loading:(t=function(e){return{_hx_index:2,progress:e,__enum__:"binkies.content.LoadState",toString:n}},t.__params__=["progress"],t)},E=function(){this.manipulators=[],this.manipulators.push(new X)};E.__name__=!0,E.prototype={Add:function(e){this.manipulators.push(e)},process:function(e,t){for(var n=0,a=this.manipulators;n<a.length;)a[n++].process(e,t)}};var W=function(e){this.Colors=[],this.UId=e.productUId,this.Path=e.path};W.__name__=!0,W.prototype={FindOrCreateColor:function(e,t,n){if(n.productUId!=this.UId)return null;Hs.IsNullOrWhiteSpace(this.Path)&&(this.Path=n.path);for(var a=this.Colors,i=[],r=0;r<a.length;){var l=a[r];++r,l.OptionUId==n.optionUId&&i.push(l)}var o=i[0];return null==o&&(o=new x(n),this.Colors.push(o)),o.AddContentId(t),o}};var U=function(){};U.__name__=!0,U.GatherContentItemsForOptionId=function(e,t){var n=[];return n.push(e.scene),n.push(e.geometry),U.AddImageContentItemsForOptionId(e,n,t),n},U.AddImageContentItemsForOptionId=function(e,t,n){for(var a=e.Composition,i=a.Options,r=[],l=0;l<i.length;){var o=i[l];++l,o.UID==n&&r.push(o)}for(var s=r[0],u=0,d=a.Nodes.length;u<d;){var c=[u++],h=null==s?null:Fs.firstWhere(s.NodeOverrides,function(e){return function(t){return t.NodeIndex==e[0]}}(c)),_=U.GetRenderableAtIndex(a,c[0]);null!=_&&(to.IsHidden(h)||U.AddImageContentItemsForMaterial(t,to.GetMaterialIndex(h,_),a))}},U.GetRenderableAtIndex=function(e,t){var n=e.Nodes[t];if(null==n)return null;switch(n.content){case 1:return e.Models[n.contentIndex];case 5:return e.Decals[n.contentIndex];default:return null}},U.AddImageContentItemsForMaterial=function(e,t,n){var a=n.Materials[t];if(null!=a){var i,r,l,o=a.Maps;for(var s in o)i=void 0,r=void 0,l=void 0,r=a.Maps[s],null!=(l=n.Textures[r])&&(null!=(i=G.Map.get(l))&&e.push(i))}},U.AddGeometriesToScene=function(e){if(null!=e.scene&&e.scene.LoadState==B.Loaded&&null!=e.geometry&&e.geometry.LoadState==B.Loaded)for(var t=0,n=e.geometry.Composition.Geometries;t<n.length;)e.Composition.Geometries.push(n[t++])};var z=function(){this.products=[]};z.__name__=!0,z.prototype={FindExistingProductColor:function(e){for(var t=0,n=this.products;t<n.length;){var a=n[t];++t;for(var i=0,r=a.Colors;i<r.length;){var l=r[i];if(++i,-1!=l.contentIds.indexOf(e))return{Product:a,Color:l}}}return null},AddContentSettings:function(e,t){var n=this.FindOrCreateProduct(e,t);return{Product:n,Color:n.FindOrCreateColor(n,e,t)}},FindOrCreateProduct:function(e,t){for(var n=this.products,a=[],i=0;i<n.length;){var r=n[i];++i;for(var l,o=null==t.productUId,s=r.Colors,u=[],d=0;d<s.length;){var c=s[d];++d,-1!=c.contentIds.indexOf(e)&&u.push(c)}if(o&&u.length>0)l=!0;else{var h=r.UId==t.productUId;l=!(null!=t.path||!h)||h&&r.Path==t.path}l&&a.push(r)}var _=a[0];return null==_&&(_=new W(t),this.products.push(_)),_}};var G=function(){};G.__name__=!0;var X=function(){this.absoluteUrlTester=new RegExp("^(?:[a-z]+:)?//")};X.__name__=!0,X.prototype={process:function(e,t){for(var n=e.Path+"/7",a=0,i=t.Textures;a<i.length;){var r=i[a];++a,this.absoluteUrlTester.test(r.Path)||(r.Path=n+"/"+r.Path)}}};var Y=function(e){this.contentQueue=e,this.LatestProductColorAdapterObserver=new Z(this)};Y.__name__=!0,Y.prototype={_updateProductColor:function(){return this.contentQueue.LatestProductColor}};var Z=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)};Te.HiddenObserve(e,"contentQueue",(function(e,i){null!=e&&Te.HiddenForget(e,"LatestProductColor",a),null!=i&&Te.HiddenObserve(i,"LatestProductColor",a),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),n()};Z.__name__=!0;var Q=function(e){this.contentQueue=e,this.LoadingProductColorAdapterObserver=new j(this)};Q.__name__=!0,Q.prototype={_updateProductColor:function(){return this.contentQueue.LoadingProductColor}};var j=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)};Te.HiddenObserve(e,"contentQueue",(function(e,i){null!=e&&Te.HiddenForget(e,"LoadingProductColor",a),null!=i&&Te.HiddenObserve(i,"LoadingProductColor",a),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),n()};j.__name__=!0;var q=function(e,t,n){this.decoratee=e,this.state=t,this.route=n,this.CanShowDecoratorObserver=new K(this)};q.__name__=!0,q.prototype={_updateProductColor:function(){return this.state.WantToShowContent.Value&&this.state.CanShowContent||this.route.ContainsFullscreen&&this.state.CanShowFullscreen?this.decoratee.ProductColor:null}};var K=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)},i=function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)},r=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)},l=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)},o=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)},s=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)};Te.HiddenObserve(e,"state",(function(e,a){null!=e&&(Te.HiddenForget(e,"WantToShowContent",i),Te.HiddenForget(e,"CanShowContent",r),Te.HiddenForget(e,"CanShowFullscreen",l)),null!=a&&(Te.HiddenObserve(a,"WantToShowContent",i),Te.HiddenObserve(a,"CanShowContent",r),Te.HiddenObserve(a,"CanShowFullscreen",l)),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),Te.HiddenObserve(e,"route",(function(e,a){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",o),null!=a&&Te.HiddenObserve(a,"ContainsFullscreen",o),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),Te.HiddenObserve(e,"decoratee",(function(e,a){null!=e&&Te.HiddenForget(e,"ProductColor",s),null!=a&&Te.HiddenObserve(a,"ProductColor",s),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),n()};K.__name__=!0;var J=function(e,t,n){this.decoratee=e,this.wantToShowContentValue=t,this.route=n,this.WantToShowDecoratorObserver=new $(this)};J.__name__=!0,J.prototype={_updateProductColor:function(){return this.wantToShowContentValue.Value||this.route.ContainsFullscreen?this.decoratee.ProductColor:null}};var $=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)},i=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)},r=function(e,a){t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)};Te.HiddenObserve(e,"wantToShowContentValue",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),Te.HiddenObserve(e,"route",(function(e,a){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",i),null!=a&&Te.HiddenObserve(a,"ContainsFullscreen",i),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),Te.HiddenObserve(e,"decoratee",(function(e,a){null!=e&&Te.HiddenForget(e,"ProductColor",r),null!=a&&Te.HiddenObserve(a,"ProductColor",r),t.state_ProductColor=f.ScheduleCallback(t.state_ProductColor,n)})),n()};$.__name__=!0;var ee=function(){};ee.__name__=!0,ee.AddListener=function(e,t){var n=e==ee.currentEventBeingFired?ee.listenersToAdd:ee.listeners,a=n[e];null==a&&(a=[],n[e]=a),a.push(t)},ee.RemoveListener=function(e,t){if(e==ee.currentEventBeingFired){var n=ee.listenersToRemove,a=n[e];null==a&&(a=[],n[e]=a),a.push(t)}else{var i=ee.listeners[e];null!=i&&l.remove(i,t)}},ee.Fire=function(e,t){var n=ee.fireOnce[e];if(null!=n){if(n)return;ee.fireOnce[e]=!0}var a=ee.listeners[e];if(null!=a){for(var i=(new Date).getTime(),r=0;r<a.length;){var o=a[r];++r,ee.currentListenerBeingCalled=o,o(t,i)}ee.currentListenerBeingCalled=null,ee.currentEventBeingFired=null;var s=ee.listenersToRemove[e];if(null!=s){for(var u=0;u<s.length;)l.remove(a,s[u++]);s.length=0}var d=ee.listenersToAdd[e];if(null!=d){for(var c=0;c<d.length;)a.push(d[c++]);d.length=0}}},ee.MakeFireOnce=function(e){Object.prototype.hasOwnProperty.call(ee.fireOnce,e)||(ee.fireOnce[e]=!1)};var te=function(e){this.Name=e};te.__name__=!0;var ne=function(){};ne.__name__=!0;var ae=function(e){this.ContentIdentifier=e};ae.__name__=!0;var ie=function(e,t){this.ProductUId=e,this.OptionUId=t};ie.__name__=!0,ie.HandleContentSwitched=function(e,t){Object.prototype.hasOwnProperty.call(ie.handled,e.OptionUId)||(ie.handled[e.OptionUId]="true",ee.Fire("contentloaded",new ie(e.ProductUId,e.OptionUId)))};var re=function(e){this.ContentIdentifier=e};re.__name__=!0;var le=function(e,t){this.ProductUId=e,this.OptionUId=t};le.__name__=!0;var oe=function(e){this.DriverInfo=e};oe.__name__=!0;var se=function(){};se.__name__=!0;var ue=function(){};ue.__name__=!0;var de=function(e){this.Direction=e};de.__name__=!0;var ce=function(e){this.IntegrationDisplayMode=e};ce.__name__=!0;var he=function(){};he.__name__=!0;var _e=function(){};_e.__name__=!0;var ge=function(e){this.Href=e};ge.__name__=!0;var be=function(){};be.__name__=!0;var ve=function(e){this.Route=e};ve.__name__=!0;var fe=function(){};fe.__name__=!0;var Se=function(){};Se.__name__=!0;var pe=function(e,t){this.Supported=e,this.Reason=t};pe.__name__=!0;var me=function(e){this.TestVariantName=e};me.__name__=!0;var Ce=function(){};Ce.__name__=!0,Ce.prototype={SetCallback:function(e){null!=this.requestID&&window.cancelAnimationFrame(this.requestID),this.requestID=window.requestAnimationFrame(Is(this,this.animationFrame)),this.callback=e},animationFrame:function(e){this.callback(),this.requestID=null}};var ye=function(e){this.eventListeners={Length:0};var t=this;this.converter=e,Te.HiddenObserve(this,"VirtualDom",(function(e,n){null!=t.parent&&(null==e&&null!=n?t.root=Oe.Mount(n,t.converter,t.parent):null!=e&&null==n?Oe.Unmount(e,t.converter):Oe.Patch(e,n,t.converter))}),!1),this.ComponentObserver=new He(this)};ye.__name__=!0,ye.prototype={_updateVirtualDom:function(){return null},get_IsMounted:function(){return null!=this.root&&null!=this.converter.GetRealNodeParent(this.root)},Created:function(){},BeforeMount:function(){},Mounted:function(){},BeforeUpdate:function(){},Updated:function(){},BeforeUnmount:function(){},Unmounted:function(){},BeforeRemount:function(){},Remounted:function(){},Mount:function(e,t){this.parent=e,this.root=Oe.Mount(this.VirtualDom,this.converter,e,t),this.Mounted()},Unmount:function(){Oe.Unmount(this.VirtualDom,this.converter),this.parent=null,this.Unmounted()},Remount:function(e,t){this.BeforeRemount(),Oe.Remount(this.VirtualDom,this.converter,e,t),this.parent=e,this.Remounted()},FireEvent:function(e,t,n){var a=this.eventListeners[e];null!=a&&a(t,n)},SetEventListener:function(e,t){var n=this.eventListeners,a=n[e];null==t?null!=a&&(n[e]=t,n.Length--):(null==a&&n.Length++,n[e]=t)},ClearEventListener:function(e){var t=this.eventListeners,n=null,a=t[e];null!=a&&(t[e]=n,t.Length--)}};var ke=function(e,t,n,a){null==a&&(a=Ve.Append);var i=this;this.targetProvider=e,this.componentToMount=t,this.insertMode=a,this.observer=n,null!=n&&n.SetCallback((function(){null!=i.targetProvider.Target&&(i.componentToMount.get_IsMounted()||i.Mount(null,i.targetProvider.Target))})),Te.HiddenObserve(e,"Target",Is(this,this.Mount),!0)};ke.__name__=!0,ke.prototype={Mount:function(e,t){var n,a=this.insertMode;switch(a._hx_index){case 0:n=null;break;case 1:n=a.index;break;case 2:n=0}null==e&&null!=t?(this.componentToMount.Mount(t,n),null!=this.observer&&this.observer.Observe(t)):null!=e&&null==t?(null!=this.observer&&this.observer.Disconnect(),this.componentToMount.Unmount()):(this.componentToMount.Remount(t,n),null!=this.observer&&this.observer.Observe(t))}};var He=function(e){var t=this;this.state_VirtualDom=!1;e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};He.__name__=!0;var Ve=a["binkies.flow.InsertMode"]={__ename__:!0,__constructs__:["Append","Insert","Prepend"],Append:{_hx_index:0,__enum__:"binkies.flow.InsertMode",toString:n},Insert:(t=function(e){return{_hx_index:1,index:e,__enum__:"binkies.flow.InsertMode",toString:n}},t.__params__=["index"],t),Prepend:{_hx_index:2,__enum__:"binkies.flow.InsertMode",toString:n}},Oe=function(){};Oe.__name__=!0,Oe.Mount=function(e,t,n,a){if(null==e)return null;var i=Oe.currentConverter;Oe.currentConverter=t;var r=Oe.CreateRealDom(e,n,a);return Oe.currentConverter=i,r},Oe.Unmount=function(e,t){null!=e&&(Oe.currentConverter=t,Oe.DestroyRealDom(e,!0))},Oe.Remount=function(e,t,n,a){if(null!=e){Oe.currentConverter=t;var i=e._rn;t.RemoveRealNodeFromParent(i),t.AddRealNodeToParent(i,n,a)}},Oe.Patch=function(e,t,n){if(null!=e&&null!=t){if(Oe.currentConverter=n,e.Tag!=t.Tag){var a=e._rn;return null==a&&(a=e._c.root),Oe.CreateRealDom(t,n.GetRealNodeParent(a),n.GetRealNodeIndexInParent(a)),void Oe.DestroyRealDom(e,!0)}Oe.PrivatePatch(e,t)}},Oe.PrivatePatch=function(e,t){var n,a,i,r,l,o=e._rn,s=e._c;if(t._rn=o,e._rn=null,t._c=s,e._c=null,null==t.Tag)e.Text!=t.Text&&Oe.currentConverter.SetText(o,t.Text);else if(null!=s)Oe.Update(s,e.Attributes,t.Attributes,Oe.SetComponentAttribute,Oe.RemoveComponentAttribute,Oe.UpdateComponentAttribute,!1),Oe.Update(s,e.Events,t.Events,Oe.AddComponentEventListener,Oe.RemoveComponentEventListener,Oe.ReplaceComponentEventListener,!0);else{Oe.Update(o,e.Attributes,t.Attributes,Oe.SetAttribute,Oe.RemoveAttribute,Oe.UpdateAttribute,!1),Oe.Update(o,e.Events,t.Events,Oe.AddEventListener,Oe.RemoveEventListener,Oe.ReplaceEventListener,!0),Oe.PrivatePatchChildren(e.Children,t.Children,o);var u=e.NamedChildren;for(var d in u)n=void 0,a=void 0,i=void 0,r=void 0,l=void 0,r=d,null!=(l=Oe.currentConverter.GetNamedChildConverter(r))&&(n=e.NamedChildren[r],a=t.NamedChildren[r],i=Oe.currentConverter,Oe.currentConverter=l,Oe.PrivatePatchChildren(n,a,o),Oe.currentConverter=i)}},Oe.PrivatePatchChildren=function(e,t,n){null==e&&(e=Oe.emptyArray),null==t&&(t=Oe.emptyArray);for(var a=0,i=0;a<e.length||i<t.length;){var r=e[a],l=t[i];null==r?(Oe.CreateRealDom(l,n),++i):null==l?(Oe.DestroyRealDom(r,!0),++a):r.Tag!=l.Tag?(Oe.CreateRealDom(l,n,i),++i):(Oe.PrivatePatch(r,l),++a,++i)}},Oe.Update=function(e,t,n,a,i,r,l){for(var o in t)s=void 0,u=void 0,d=void 0,u=t[s=o],d=n[s],null!=u&&(null==d?i(e,s,u):(l?u.hash!=d.hash:u!=d)&&r(e,s,u,d));var s,u,d,c,h;for(var o in n)c=void 0,h=void 0,null==t[h=o]&&(null!=(c=n[h])&&a(e,h,c))},Oe.CreateRealDom=function(e,t,n){if(null!=e.Tag){if(Oe.currentConverter.IsKnownTag(e.Tag)){var a=Oe.currentConverter.CreateRealNode(e.Tag,t);if(e._rn=a,Oe.currentConverter.AddRealNodeToParent(a,t,n),null==e.Tag)return null;if(Oe.SetValues(a,e.Attributes,Oe.SetAttribute),Oe.SetValues(a,e.Events,Oe.AddEventListener),null!=e.Children)for(var i=0,r=e.Children.length;i<r;)Oe.CreateRealDom(e.Children[i++],a,null);var l=e.NamedChildren;for(var o in l)d=void 0,c=void 0,d=o,null!=(c=Oe.currentConverter.GetNamedChildConverter(d))&&function(t){var n=e.NamedChildren[d],i=Oe.currentConverter;Oe.currentConverter=c;for(var r=0;r<n.length;){var l=n[r];r+=1,Oe.CreateRealDom(l,a,null)}Oe.currentConverter=i}();return a}var s=Oe.currentConverter.GetComponentClass(e.Tag);if(null==s)throw new ws("Encountered unknown tag: "+e.Tag);var u=new s;return Oe.SetValues(u,e.Attributes,Oe.SetComponentAttribute),Oe.SetValues(u,e.Events,Oe.AddComponentEventListener),u.Mount(t,n),e._c=u,u.root}var d,c,h=Oe.currentConverter.CreateTextNode(e.Text);return e._rn=h,Oe.currentConverter.AddRealNodeToParent(h,t,n),h},Oe.SetValues=function(e,t,n){for(var a in t)n(e,a,t[a])},Oe.DestroyRealDom=function(e,t){var n,a,i=e._rn,r=e._c;if(null!=i){t&&Oe.currentConverter.RemoveRealNodeFromParent(i);var l=e.Events;for(var o in l)a=void 0,a=o,Oe.RemoveEventListener(i,a,e.Events[a])}else if(null!=r){r.Unmount();var s=e.Events;for(var o in s)n=void 0,n=o,Oe.RemoveComponentEventListener(r,n,e.Events[n])}if(null!=e.Children)for(var u=0,d=e.Children;u<d.length;)Oe.DestroyRealDom(d[u++],!1)},Oe.SetComponentAttribute=function(e,t,n){e[t]=n},Oe.RemoveComponentAttribute=function(e,t,n){e[t]=null},Oe.UpdateComponentAttribute=function(e,t,n,a){e[t]=a},Oe.AddComponentEventListener=function(e,t,n){e.SetEventListener(t,n)},Oe.RemoveComponentEventListener=function(e,t,n){e.ClearEventListener(t)},Oe.ReplaceComponentEventListener=function(e,t,n,a){e.SetEventListener(t,a)},Oe.SetAttribute=function(e,t,n){Oe.currentConverter.SetAttribute(e,t,n)},Oe.RemoveAttribute=function(e,t,n){Oe.currentConverter.RemoveAttribute(e,t,n)},Oe.UpdateAttribute=function(e,t,n,a){Oe.currentConverter.UpdateAttribute(e,t,n,a)},Oe.AddEventListener=function(e,t,n){Oe.currentConverter.AddEventListener(e,t,n)},Oe.RemoveEventListener=function(e,t,n){Oe.currentConverter.RemoveEventListener(e,t,n)},Oe.ReplaceEventListener=function(e,t,n,a){Oe.currentConverter.ReplaceEventListener(e,t,n,a)};var Fe=function(e,t){this.Events={},this.NamedChildren={},this.Attributes={},this.Tag=e,this.Text=t};Fe.__name__=!0,Fe.CreateNode=function(e){return new Fe(e,null)},Fe.prototype={AddNode:function(e){var t=Fe.CreateNode(e);return this.AddChild(t),t},AddText:function(e){var t=new Fe(null,e);return this.AddChild(t),t},AddChild:function(e){null==this.children&&(this.children=[],this.Children=this.children),this.children.push(e)}};var we=function(){};we.__name__=!0,we.Clone=function(e){var t=new Fe(e.Tag,e.Text);if(null!=e.children)for(var n=0,a=e.children;n<a.length;)t.AddChild(we.Clone(a[n++]));var i,r,l=e.Attributes;for(var o in l)i=void 0,r=void 0,i=o,r=e.Attributes[i],t.Attributes[i]=r;var s,u,d=e.Events;for(var o in d)s=void 0,u=void 0,s=o,u=e.Events[s],t.Events[s]=u;if(null!=e.NamedChildren){var c=e.NamedChildren;for(var o in c)!function(n){for(var a=o,i=e.NamedChildren[a],r=[],l=0;l<i.length;){var s=i[l];l+=1,r.push(we.Clone(s))}t.NamedChildren[a]=r}()}return t};var xe=function(){this.knownTags=["left","position","background-color"]};xe.__name__=!0,xe.prototype={GetComponentClass:function(e){return null},GetNamedChildConverter:function(e){return null},CreateRealNode:function(e,t){return{Tag:e,Parent:null}},CreateTextNode:function(e){return null},AddRealNodeToParent:function(e,t,n){e.Parent=t},RemoveRealNodeFromParent:function(e){e.Parent=null},GetRealNodeParent:function(e){return e.Parent},GetRealNodeIndexInParent:function(e){return null},SetAttribute:function(e,t,n){e.Parent.style.setProperty(e.Tag,n)},RemoveAttribute:function(e,t,n){e.Parent.style.setProperty(e.Tag,null)},UpdateAttribute:function(e,t,n,a){this.SetAttribute(e,t,a)},AddEventListener:function(e,t,n){},RemoveEventListener:function(e,t,n){},ReplaceEventListener:function(e,t,n,a){},SetText:function(e,t){},GetPlaceholderTag:function(){return"left"},IsKnownTag:function(e){return-1!=this.knownTags.indexOf(e)}};var De=function(){this.svgTags=["svg","circle","g","text","path","polyline"],this.knownTags=["div","button","span","h1","h2","h3","h4","h5","h6","input","iframe","img","li","ul","ol","p","a","script","select","option","i","b","hr","br","svg","circle","g","text","path","polyline","style","label","link","canvas","table","thead","tbody","th","tr","td","nav","section","dl","dt","dd","progress","textarea"]};De.__name__=!0,De.RegisterComponent=function(e,t){var n=De.registeredComponents;null!=Ts[e]?n.setReserved(e,t):n.h[e]=t},De.prototype={GetComponentClass:function(e){var t=De.registeredComponents;return null!=Ts[e]?t.getReserved(e):t.h[e]},GetNamedChildConverter:function(e){return"style"==e?De.styleConverter:null},CreateRealNode:function(e,t){return this.svgTags.indexOf(e)>-1?window.document.createElementNS("http://www.w3.org/2000/svg",e):window.document.createElement(e)},CreateTextNode:function(e){return window.document.createTextNode(e)},AddRealNodeToParent:function(e,t,n){null==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])},RemoveRealNodeFromParent:function(e){var t=e.parentNode;null!=t&&t.removeChild(e)},GetRealNodeParent:function(e){return e.parentElement},GetRealNodeIndexInParent:function(e){var t=e.parentNode;if(null==t)return-1;for(var n=0,a=t.childNodes.length;n<a;){var i=n++;if(e==t.childNodes.item(i))return i}return-1},SetAttribute:function(e,t,n){if("INPUT"==e.nodeName||"BUTTON"==e.nodeName||"TEXTAREA"==e.nodeName){var a=e;switch(t.toLowerCase()){case"checked":a.checked=n;break;case"disabled":a.disabled=n;break;case"multiple":a.multiple=n;break;case"value":a.value=n;break;default:e.setAttribute(t,n)}}else e.setAttribute(t,n)},RemoveAttribute:function(e,t,n){if("INPUT"==e.nodeName){var a=e;switch(t.toLowerCase()){case"checked":a.checked=!1;break;case"value":a.value="";break;default:e.removeAttribute(t)}}else e.removeAttribute(t)},UpdateAttribute:function(e,t,n,a){this.SetAttribute(e,t,a)},AddEventListener:function(e,t,n){e["on"+t]=n},RemoveEventListener:function(e,t,n){e["on"+t]=null},ReplaceEventListener:function(e,t,n,a){e["on"+t]=a},SetText:function(e,t){e.textContent=t},GetPlaceholderTag:function(){return"div"},IsKnownTag:function(e){return-1!=this.knownTags.indexOf(e)}};var Pe=function(){ye.call(this,Pe.htmlConverter)};Pe.__name__=!0,Pe.__super__=ye,Pe.prototype=i(ye.prototype,{AddStyleToHead:function(e){var t=window.document.createElement("style");return t.textContent=e,window.document.head.appendChild(t),t}});var Ae=function(e){var t=this;this.config=e,this.observer=new MutationObserver((function(e,n){null!=t.callback&&t.callback()}))};Ae.__name__=!0,Ae.prototype={Observe:function(e){this.observer.observe(e,this.config)},Disconnect:function(){this.observer.disconnect()},SetCallback:function(e){this.callback=e}};var Ie=function(){};Ie.__name__=!0,Ie.GetId=function(e){var t=e._id;return null==t&&(null!=e&&"object"==typeof e?(t=Ie.currentId++,e._id=t):t=e),t};var Te=function(){};Te.__name__=!0,Te.HiddenObserve=function(e,t,n,a){null==a&&(a=!0);var i=e._o,r=null;if(null==i?(i={},e._o=i):r=i[t],null==r){r=[],i[t]=r;var l=e[t];Array.isArray(l)&&Te.ObserveArray(l,r),Object.defineProperty(e,t,{get:function(){return l},set:function(e){if(l!=e){var t=l;if(l=e,Array.isArray(t)||Array.isArray(e))if(null==t){if(0==e.length)for(var n=0,a=r.length;n<a;)r[n++](null,null);for(var i=0,o=e.length;i<o;)for(var s=e[i++],u=0,d=r.length;u<d;)r[u++](null,s);Te.ObserveArray(e,r)}else if(null==e){if(0==t.length)for(var c=0,h=r.length;c<h;)r[c++](null,null);for(var _=0,g=t.length;_<g;)for(var b=t[_++],v=0,f=r.length;v<f;)r[v++](b,null);Te.ForgetArray(t,r)}else{for(var S=Math.max(e.length,t.length),p=0;p<S;)for(var m=p++,C=t[m],y=e[m],k=0,H=r.length;k<H;)r[k++](C,y);Te.ForgetArray(t,r),Te.ObserveArray(e,r)}else for(var V=t,O=e,F=0,w=r.length;F<w;)r[F++](V,O)}}})}if(r.push(n),a){var o=e[t];if(null==o)return;if(Array.isArray(o))for(var s=0,u=o.length;s<u;)n(null,o[s++]);else n(null,o)}},Te.HiddenForget=function(e,t,n,a){null==a&&(a=!0);var i=e._o;if(null!=i){var r=i[t];if(null!=r&&(l.remove(r,n),a)){var o=e[t];if(null==o)return;if(Array.isArray(o))for(var s=0,u=o.length;s<u;)n(o[s++],null);else n(o,null)}}},Te.ObserveArray=function(e,t){var n=e._l;if(null==n){n=[],e._l=n;var a=function(e,t){for(var a=0,i=n.length;a<i;)for(var r=n[a++],l=0,o=r.length;l<o;)r[l++](e,t)};e._push=e.push,e.push=function(t){var n=e._push(t);return a(null,t),n},e._pop=e.pop,e.pop=function(){var t=e._pop();return a(t,null),t},e._shift=e.shift,e.shift=function(){var t=e._shift();return a(t,null),t},e._unshift=e.unshift,e.unshift=function(t){e._unshift(t),a(null,t)},e._splice=e.splice,e.splice=function(t,n,i){for(var r=null,l=0,o=(r=null==i?e._splice(t,n):e._splice(t,n,i)).length;l<o;)a(r[l++],null);return null!=i&&a(null,i),r},e._sort=e.sort,e.sort=function(t){e._sort(t),a(null,null)},e._reverse=e.reverse,e.reverse=function(){e._reverse(),a(null,null)}}n.push(t)},Te.ForgetArray=function(e,t){var n=e._l;null!=n&&l.remove(n,t)};var Me=function(e,t,n,a){null==a&&(a=0),null==n&&(n=0),null==t&&(t=0),null==e&&(e=0),this.R=e,this.G=t,this.B=n,this.A=a};Me.__name__=!0;var Re=function(e,t){this.contextRestoredEvent=new v,this.contextLostEvent=new v,this.CursorDown=!1,this.CursorY=0,this.CursorX=0;var n=this;this.Id=""+Re.nextId,Re.nextId++,this.contextLostEvent=new v,this.contextRestoredEvent=new v,this.Canvas=window.document.createElement("canvas"),this.Canvas.style.position="absolute",this.Canvas.style.top="0px",this.Canvas.style.bottom="0px",this.Canvas.style.left="0px",this.Canvas.style.right="0px",e.appendChild(this.Canvas),this.Canvas.addEventListener("webglcontextlost",Is(this,this.OnContextLost)),this.Canvas.addEventListener("webglcontextrestored",Is(this,this.OnContextRestored)),this.Canvas.addEventListener("mousedown",(function(e){n.CursorDown=!0})),window.addEventListener("mouseup",(function(e){n.CursorDown=!1})),this.Canvas.addEventListener("mousemove",(function(e){n.CursorX=e.offsetX,n.CursorY=e.offsetY})),this.Canvas.addEventListener("mouseleave",(function(e){n.CursorX=null,n.CursorY=null})),this.context=this.CreateContext(this.Canvas),this.RingTexture=new tt(this),this.renderState=new Je(this.context),this.ResourceState=new et(this.context);for(var a=0;a<t.length;)this.context.getExtension(t[a++]);null==Re.AntiAliasEnabled&&(Re.AntiAliasEnabled=this.context.getContextAttributes().antialias),null==Re.DevicePixelRatio&&(Re.DevicePixelRatio=Math.min(Re.AntiAliasEnabled?window.devicePixelRatio:window.devicePixelRatio+1,3)),this.sensor=new ht,this.sensor.Attach(e),Te.HiddenObserve(this.sensor,"Width",(function(e,t){n.EnsureCorrectBackbufferSize()}),!0),Te.HiddenObserve(this.sensor,"Height",(function(e,t){n.EnsureCorrectBackbufferSize()}),!0)};Re.__name__=!0,Re.prototype={CreateContext:function(e){return Ds.getContextWebGL(e,{alpha:!0,depth:!0,stencil:!1,antialias:this.GetAntiAliasingDesired(),premultipliedAlpha:!0,preserveDrawingBuffer:!1})},GetAntiAliasingDesired:function(){if("always"==Be.DesireAntiAliasing)return!0;if("never"==Be.DesireAntiAliasing)return!1;for(var e=window.navigator.userAgent.toLowerCase(),t=["sm-g930","sm-g935","sm-g950","sm-g955","sm-g960","sm-g965","sm-g970","sm-g973","sm-g975","sm-n950","sm-n960","sm-a530"],n=0;n<t.length;)if(-1!=e.indexOf(t[n++]))return!1;return!0},Clear:function(){var e=this.renderState;1!=e.depthWriteEnabled&&(e.depthWriteEnabled=!0,e.context.depthMask(!0)),515!=e.depthCompareMode&&(e.depthCompareMode=515,e.context.depthFunc(515)),this.context.clear(16640)},EnsureCorrectBackbufferSize:function(){var e=this.sensor.Width,t=this.sensor.Height,n=Math.round(e*Re.DevicePixelRatio),a=Math.round(t*Re.DevicePixelRatio);this.Canvas.width==n&&this.Canvas.height==a||(this.Canvas.style.width=e+"px",this.Canvas.style.height=t+"px",this.Canvas.width=n,this.Canvas.height=a,this.Width=n,this.Height=a,this.context.viewport(0,0,this.Width,this.Height))},OnContextLost:function(e){e.preventDefault(),this.RingTexture.Device=null,this.contextLostEvent.Fire(this)},OnContextRestored:function(e){var t=this;window.requestAnimationFrame((function(e){t.renderState.Reset(),t.ResourceState.Reset(),t.RingTexture.Device=t,t.contextRestoredEvent.Fire(t)}))},SetAlphaBlending:function(e){switch(e){case 0:this.renderState.SetBlendFactors(!1,1,0);var t=this.renderState;1!=t.depthWriteEnabled&&(t.depthWriteEnabled=!0,t.context.depthMask(!0)),515!=t.depthCompareMode&&(t.depthCompareMode=515,t.context.depthFunc(515));break;case 1:this.renderState.SetBlendFactors(!0,1,771);var n=this.renderState;0!=n.depthWriteEnabled&&(n.depthWriteEnabled=!1,n.context.depthMask(!1)),515!=n.depthCompareMode&&(n.depthCompareMode=515,n.context.depthFunc(515))}}};var Ne=function(){};Ne.__name__=!0;var Le=function(){};Le.__name__=!0,Le.FindBooleanQueryParameter=function(e,t,n){var a=Le.FindQueryParameter(e,t).toLowerCase();return"true"==a||"false"!=a&&n},Le.FindStringQueryParameter=function(e,t,n){var a=Le.FindQueryParameter(e,t);return""==a?n:a},Le.FindQueryParameter=function(e,t){var n=e.search.indexOf(t);if(-1==n)return"";var a=e.search.indexOf("&",n);-1==a&&(a=e.search.length);var i=t.length+1;return l.substr(e.search,n+i,a-n-i)};var Be=function(){};Be.__name__=!0;var Ee=function(e){var t=this;this.Url=e,st.Load([e],(function(e){var n=new Int32Array(e[0]);t.Width=n[0],t.Height=n[1],t.Mipmaps=n[2],t.data=e[0]})),Te.HiddenObserve(this,"texture",(function(e,t){$e.ReturnTexture(e)}),!0),this.FloatCubeTextureObserver=new We(this)};Ee.__name__=!0,Ee.prototype={_updateLoaded:function(){return null!=this.texture},_updateDevice:function(){return null==this.World?null:this.World.Device},_updatetexture:function(){return null==this.Device||null==this.data?null:$e.GetOrCreateTexture(this.Device,"FloatTexture:"+this.Url,this)},FillTexture:function(e){var t=this.Device.context;t.bindTexture(34067,e);for(var n=12,a=0,i=this.Mipmaps;a<i;){var r=a++,l=this.Width/Math.pow(2,r)|0,o=this.Height/Math.pow(2,r)|0,s=l*o*4*4|0;t.texImage2D(34069,r,6408,l,o,0,6408,5126,new Float32Array(this.data,n+0*s)),t.texImage2D(34070,r,6408,l,o,0,6408,5126,new Float32Array(this.data,n+s)),t.texImage2D(34071,r,6408,l,o,0,6408,5126,new Float32Array(this.data,n+2*s)),t.texImage2D(34072,r,6408,l,o,0,6408,5126,new Float32Array(this.data,n+3*s)),t.texImage2D(34073,r,6408,l,o,0,6408,5126,new Float32Array(this.data,n+4*s)),t.texImage2D(34074,r,6408,l,o,0,6408,5126,new Float32Array(this.data,n+5*s)),n+=6*s}this.Device.context.texParameteri(34067,10242,33071),this.Device.context.texParameteri(34067,10243,33071),this.Device.context.texParameteri(34067,10240,9729),this.Mipmaps>1?this.Device.context.texParameteri(34067,10241,9987):this.Device.context.texParameteri(34067,10241,9729)}};var We=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.texture=e._updatetexture(),t.state_texture=!0},r=function(e,n){t.state_Device=f.ScheduleCallback(t.state_Device,a)};Te.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=f.ScheduleCallback(t.state_Loaded,n)})),Te.HiddenObserve(e,"World",(function(e,n){null!=e&&Te.HiddenForget(e,"Device",r),null!=n&&Te.HiddenObserve(n,"Device",r),t.state_Device=f.ScheduleCallback(t.state_Device,a)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"data",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"Url",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),n(),a(),i()};We.__name__=!0;var Ue=function(e){var t=this;this.Url=e,st.Load([e],(function(e){var n=new Int32Array(e[0]);t.Width=n[0],t.Height=n[1],t.data=e[0]})),Te.HiddenObserve(this,"texture",(function(e,t){$e.ReturnTexture(e)}),!0),this.FloatTextureObserver=new ze(this)};Ue.__name__=!0,Ue.prototype={_updateLoaded:function(){return null!=this.texture},_updateDevice:function(){return null==this.World?null:this.World.Device},_updatetexture:function(){return null==this.Device||null==this.data?null:$e.GetOrCreateTexture(this.Device,"FloatTexture:"+this.Url,this)},FillTexture:function(e){var t=this.Device.context;t.bindTexture(3553,e),t.texImage2D(3553,0,6408,this.Width,this.Height,0,6408,5126,new Float32Array(this.data,8)),this.Device.context.texParameteri(3553,10242,33071),this.Device.context.texParameteri(3553,10243,33071),this.Device.context.texParameteri(3553,10240,9728),this.Device.context.texParameteri(3553,10241,9728)}};var ze=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.texture=e._updatetexture(),t.state_texture=!0},r=function(e,n){t.state_Device=f.ScheduleCallback(t.state_Device,a)};Te.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=f.ScheduleCallback(t.state_Loaded,n)})),Te.HiddenObserve(e,"World",(function(e,n){null!=e&&Te.HiddenForget(e,"Device",r),null!=n&&Te.HiddenObserve(n,"Device",r),t.state_Device=f.ScheduleCallback(t.state_Device,a)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"data",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"Url",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),n(),a(),i()};ze.__name__=!0;var Ge=function(e){this.Data=e,this.Length=e.length,Te.HiddenObserve(this,"buffer",(function(e,t){$e.ReturnBuffer(e)}),!0),this.IndexBufferObserver=new Xe(this)};Ge.__name__=!0,Ge.prototype={_updateDevice:function(){return null==this.Mesh?null:this.Mesh.Device},_updatebuffer:function(){return null==this.Device||null==this.Data?null:$e.GetOrCreateBuffer(this.Device,this.Data,!0)}};var Xe=function(e){var t=this;this.state_Device=!1,this.state_buffer=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.buffer=e._updatebuffer(),t.state_buffer=!0},i=function(e,a){t.state_Device=f.ScheduleCallback(t.state_Device,n)};Te.HiddenObserve(e,"Mesh",(function(e,a){null!=e&&Te.HiddenForget(e,"Device",i),null!=a&&Te.HiddenObserve(a,"Device",i),t.state_Device=f.ScheduleCallback(t.state_Device,n)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_buffer=f.ScheduleCallback(t.state_buffer,a)})),Te.HiddenObserve(e,"Data",(function(e,n){t.state_buffer=f.ScheduleCallback(t.state_buffer,a)})),n(),a()};Xe.__name__=!0;var Ye=function(e,t){var n=this;this.UrlRGB=e,this.UrlM=t,dt.Load([e,t],(function(e){n.imageRGB=e[0],n.imageM=e[1],n.Width=n.imageRGB.width,n.Height=n.imageRGB.height})),Te.HiddenObserve(this,"texture",(function(e,t){$e.ReturnTexture(e)}),!0),this.LightmapTextureObserver=new Ze(this)};Ye.__name__=!0,Ye.prototype={_updateLoaded:function(){return null!=this.texture},_updateDevice:function(){return null==this.World?null:this.World.Device},_updatetexture:function(){return null==this.Device||null==this.imageRGB||null==this.imageM?null:$e.GetOrCreateTexture(this.Device,"LightmapTexture:"+this.UrlRGB+":"+this.UrlM,this)},FillTexture:function(e){var t=window.document.createElement("canvas");t.width=this.Width,t.height=this.Height;var n=t.getContext("2d",null);n.drawImage(this.imageM,0,0);var a=n.getImageData(0,0,this.Width,this.Height).data;n.drawImage(this.imageRGB,0,0);for(var i=n.getImageData(0,0,this.Width,this.Height),r=i.data,l=a.length,o=0;o<l;)r[o+3]=a[o],o+=4;var s=this.Device.context;s.bindTexture(3553,e),s.pixelStorei(37441,0),s.texImage2D(3553,0,6408,6408,5121,i),s.texParameteri(3553,10242,33071),s.texParameteri(3553,10243,33071),s.texParameteri(3553,10241,9729),s.texParameteri(3553,10240,9729)}};var Ze=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.texture=e._updatetexture(),t.state_texture=!0},r=function(e,n){t.state_Device=f.ScheduleCallback(t.state_Device,a)};Te.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=f.ScheduleCallback(t.state_Loaded,n)})),Te.HiddenObserve(e,"World",(function(e,n){null!=e&&Te.HiddenForget(e,"Device",r),null!=n&&Te.HiddenObserve(n,"Device",r),t.state_Device=f.ScheduleCallback(t.state_Device,a)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"imageRGB",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"imageM",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"UrlRGB",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),Te.HiddenObserve(e,"UrlM",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,i)})),n(),a(),i()};Ze.__name__=!0;var Qe=function(){Te.HiddenObserve(this,"vertexShader",(function(e,t){$e.ReturnShader(e)}),!0),Te.HiddenObserve(this,"fragmentShader",(function(e,t){$e.ReturnShader(e)}),!0),Te.HiddenObserve(this,"program",(function(e,t){$e.ReturnProgram(e)}),!0),this.MaterialObserver=new je(this)};Qe.__name__=!0,Qe.prototype={_updateDevice:function(){return null==this.Renderable?null:this.Renderable.Device},_updateWorld:function(){return null==this.Renderable?null:this.Renderable.context},Draw:function(){var e=this.Device;if(null!=e){var t=e.ResourceState,n=this.program;t.currentProgram=n,t.context.useProgram(n),this.BindAttributes()&&(e.SetAlphaBlending(this.AlphaBlending),e.context.bindBuffer(34963,this.Renderable.Mesh.IndexBuffer.buffer),e.context.drawElements(4,this.Renderable.Mesh.IndexBuffer.Length,5123,0))}},BindAttributes:function(){return!1},_updateshaderCode:function(){return null},_updatevertexShaderCode:function(){return null!=this.shaderCode?this.shaderCode.VertexShader:null},_updatefragmentShaderCode:function(){return null!=this.shaderCode?this.shaderCode.FragmentShader:null},_updatevertexShader:function(){return null==this.Device||null==this.vertexShaderCode?null:$e.GetOrCreateShader(this.Device,this.vertexShaderCode,!0)},_updatefragmentShader:function(){return null==this.Device||null==this.fragmentShaderCode?null:$e.GetOrCreateShader(this.Device,this.fragmentShaderCode,!1)},_updateprogram:function(){return null==this.Device||null==this.vertexShader||null==this.fragmentShader?null:$e.GetOrCreateProgram(this.Device,this.vertexShader,this.fragmentShader)},_updateAlphaBlending:function(){return null}};var je=function(e){var t=this;this.state_Device=!1,this.state_World=!1,this.state_shaderCode=!1,this.state_vertexShaderCode=!1,this.state_fragmentShaderCode=!1,this.state_vertexShader=!1,this.state_fragmentShader=!1,this.state_program=!1,this.state_AlphaBlending=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.World=e._updateWorld(),t.state_World=!0},i=function(){e.vertexShaderCode=e._updatevertexShaderCode(),t.state_vertexShaderCode=!0},r=function(){e.fragmentShaderCode=e._updatefragmentShaderCode(),t.state_fragmentShaderCode=!0},l=function(){e.vertexShader=e._updatevertexShader(),t.state_vertexShader=!0},o=function(){e.fragmentShader=e._updatefragmentShader(),t.state_fragmentShader=!0},s=function(){e.program=e._updateprogram(),t.state_program=!0},u=function(e,a){t.state_Device=f.ScheduleCallback(t.state_Device,n)},d=function(e,n){t.state_World=f.ScheduleCallback(t.state_World,a)},c=function(e,n){t.state_vertexShaderCode=f.ScheduleCallback(t.state_vertexShaderCode,i)},h=function(e,n){t.state_fragmentShaderCode=f.ScheduleCallback(t.state_fragmentShaderCode,r)};Te.HiddenObserve(e,"Renderable",(function(e,i){null!=e&&(Te.HiddenForget(e,"Device",u),Te.HiddenForget(e,"context",d)),null!=i&&(Te.HiddenObserve(i,"Device",u),Te.HiddenObserve(i,"context",d)),t.state_Device=f.ScheduleCallback(t.state_Device,n),t.state_World=f.ScheduleCallback(t.state_World,a)})),Te.HiddenObserve(e,"shaderCode",(function(e,n){null!=e&&(Te.HiddenForget(e,"VertexShader",c),Te.HiddenForget(e,"FragmentShader",h)),null!=n&&(Te.HiddenObserve(n,"VertexShader",c),Te.HiddenObserve(n,"FragmentShader",h)),t.state_vertexShaderCode=f.ScheduleCallback(t.state_vertexShaderCode,i),t.state_fragmentShaderCode=f.ScheduleCallback(t.state_fragmentShaderCode,r)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_vertexShader=f.ScheduleCallback(t.state_vertexShader,l),t.state_fragmentShader=f.ScheduleCallback(t.state_fragmentShader,o),t.state_program=f.ScheduleCallback(t.state_program,s)})),Te.HiddenObserve(e,"vertexShaderCode",(function(e,n){t.state_vertexShader=f.ScheduleCallback(t.state_vertexShader,l)})),Te.HiddenObserve(e,"fragmentShaderCode",(function(e,n){t.state_fragmentShader=f.ScheduleCallback(t.state_fragmentShader,o)})),Te.HiddenObserve(e,"vertexShader",(function(e,n){t.state_program=f.ScheduleCallback(t.state_program,s)})),Te.HiddenObserve(e,"fragmentShader",(function(e,n){t.state_program=f.ScheduleCallback(t.state_program,s)})),n(),a(),e.shaderCode=e._updateshaderCode(),t.state_shaderCode=!0,i(),r(),l(),o(),s(),e.AlphaBlending=e._updateAlphaBlending(),t.state_AlphaBlending=!0};je.__name__=!0;var qe=function(e,t,n,a,i){if(this.IndexBuffer=null,this.Tangents=null,this.AmbientOcclusions=null,this.TextureCoordinates=null,this.Normals=null,this.Positions=null,this.IndexBuffer=new Ge(e),this.IndexBuffer.Mesh=this,this.Positions=new lt(0,t),this.Positions.Mesh=this,this.Normals=new lt(1,n),this.Normals.Mesh=this,this.TextureCoordinates=new lt(2,a),this.TextureCoordinates.Mesh=this,null==i){for(var r=[],l=0,o=this.Positions.Length;l<o;)++l,r.push(1);i=new Float32Array(r)}this.AmbientOcclusions=new lt(3,i),this.get_AmbientOcclusions().Mesh=this,this.Tangents=new lt(4,new Float32Array(rt.GenerateTangentData(this.Positions.Data,this.Normals.Data,this.TextureCoordinates.Data,this.IndexBuffer.Data))),this.get_Tangents().Mesh=this,this.NumberOfVertices=t.length/3|0,this.NumberOfPrimitives=e.length/3|0,this.MeshObserver=new Ke(this)};qe.__name__=!0,qe.prototype={_updateDevice:function(){return null==this.Renderable?null:this.Renderable.Device},get_AmbientOcclusions:function(){if(null==this.AmbientOcclusions){for(var e=[],t=0,n=this.Positions.Length;t<n;)++t,e.push(1);this.AmbientOcclusions=new lt(3,new Float32Array(e)),this.AmbientOcclusions.Mesh=this}return this.AmbientOcclusions},get_Tangents:function(){return null==this.Tangents&&(this.Tangents=new lt(4,new Float32Array(rt.GenerateTangentData(this.Positions.Data,this.Normals.Data,this.TextureCoordinates.Data,this.IndexBuffer.Data))),this.Tangents.Mesh=this),this.Tangents}};var Ke=function(e){var t=this;this.state_Device=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(e,a){t.state_Device=f.ScheduleCallback(t.state_Device,n)};Te.HiddenObserve(e,"Renderable",(function(e,i){null!=e&&Te.HiddenForget(e,"Device",a),null!=i&&Te.HiddenObserve(i,"Device",a),t.state_Device=f.ScheduleCallback(t.state_Device,n)})),n()};Ke.__name__=!0;var Je=function(e){this.context=e,this.Reset()};Je.__name__=!0,Je.prototype={Reset:function(){this.alphaBlendingEnabled=null,this.alphaSourceBlend=null,this.alphaDestinationBlend=null,this.depthWriteEnabled=null,this.depthCompareMode=null,this.culling=null,this.context.enable(2929);2!=this.culling&&(this.culling=2,this.context.enable(2884),this.context.frontFace(2304)),this.context.clearColor(0,0,0,0)},SetBlendFactors:function(e,t,n){if(this.alphaBlendingEnabled!=e){if(this.alphaBlendingEnabled=e,!e)return void this.context.disable(3042);this.context.enable(3042)}this.alphaSourceBlend==t&&this.alphaDestinationBlend==n||(this.alphaSourceBlend=t,this.alphaDestinationBlend=n,this.context.blendFunc(t,n))}};var $e=function(){};$e.__name__=!0,$e.GetOrCreateTexture=function(e,t,n){return $e.GetOrCreateResource(e,$e.textureCache,$e.textureClaims,t,(function(){var t=e.context.createTexture();return n.FillTexture(t),t}))},$e.ReturnTexture=function(e){$e.ReturnResource(e,$e.textureCache,$e.textureClaims,0)},$e.GetOrCreateShader=function(e,t,n){return $e.GetOrCreateResource(e,$e.shaderCache,$e.shaderClaims,t,(function(){var a=e.context.createShader(n?35633:35632);return e.context.shaderSource(a,t),e.context.compileShader(a),a._shaderId=""+$e.shaderId,$e.shaderId++,a}))},$e.ReturnShader=function(e){$e.ReturnResource(e,$e.shaderCache,$e.shaderClaims,1)},$e.GetOrCreateProgram=function(e,t,n){return $e.GetOrCreateResource(e,$e.programCache,$e.programClaims,t._shaderId+":"+n._shaderId,(function(){var a=e.context.createProgram();return e.context.attachShader(a,t),e.context.attachShader(a,n),e.context.linkProgram(a),a}))},$e.ReturnProgram=function(e){$e.ReturnResource(e,$e.programCache,$e.programClaims,2)},$e.GetOrCreateBuffer=function(e,t,n){var a=t._Id;return null==a&&(a=""+$e.bufferId,$e.bufferId++,t._Id=a),$e.GetOrCreateResource(e,$e.bufferCache,$e.bufferClaims,a,(function(){var a=n?34963:34962,i=e.context.createBuffer();return e.context.bindBuffer(a,i),e.context.bufferData(a,t,35044),i}))},$e.ReturnBuffer=function(e){$e.ReturnResource(e,$e.bufferCache,$e.bufferClaims,3)},$e.GetOrCreateResource=function(e,t,n,a,i){var r=e.Id+":"+a,l=t[r];return null==l?((l=i())._cacheId=r,l._device=e,t[r]=l,n[r]=1):n[r]=n[r]+1,l},$e.ReturnResource=function(e,t,n,a){if(null!=e){var i=e._cacheId,r=n[i];if(0==--r){var l=e._device.context;switch(a){case 0:l.deleteTexture(e);break;case 1:l.deleteShader(e);break;case 2:l.deleteProgram(e);break;case 3:l.deleteBuffer(e)}t[i]=null,n[i]=null}else n[i]=r}};var et=function(e){this.context=e,this.Reset()};et.__name__=!0,et.prototype={Reset:function(){this.currentProgram=null,this.boundTextures=[],this.boundBuffers=[]}};var tt=function(e){this.Width=128,this.Height=2,this.Device=e,Te.HiddenObserve(this,"texture",(function(e,t){$e.ReturnTexture(e)}),!0),this.RingTextureObserver=new nt(this)};tt.__name__=!0,tt.prototype={_updateLoaded:function(){return null!=this.texture},_updatetexture:function(){return null==this.Device?null:$e.GetOrCreateTexture(this.Device,"RingTexture",this)},FillTexture:function(e){var t=this.Device.context;t.bindTexture(3553,e);for(var n=new Uint8Array(this.Width*this.Height*3),a=0,i=0,r=this.Height;i<r;){++i;for(var l=0,o=this.Width;l<o;){var s=l++;s<32||s>96?(n[3*a]=0,n[3*a+1]=0,n[3*a+2]=0):(n[3*a]=255,n[3*a+1]=255,n[3*a+2]=255),++a}}t.texImage2D(3553,0,6407,this.Width,this.Height,0,6407,5121,n),t.generateMipmap(3553),t.texParameteri(3553,10241,9987),t.texParameteri(3553,10240,9729),t.texParameteri(3553,10242,10497),t.texParameteri(3553,10243,10497)}};var nt=function(e){var t=this;this.state_Loaded=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.texture=e._updatetexture(),t.state_texture=!0};Te.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=f.ScheduleCallback(t.state_Loaded,n)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_texture=f.ScheduleCallback(t.state_texture,a)})),n(),a()};nt.__name__=!0;var at=function(e,t){this.Uri=e,this.isIndexBuffer=t,Te.HiddenObserve(this,"buffer",(function(e,t){$e.ReturnBuffer(e)}),!0),this.UriBufferObserver=new it(this)};at.__name__=!0,at.prototype={_updateLoaded:function(){return null!=this.buffer},_updateDevice:function(){return null==this.DeviceProvider?null:this.DeviceProvider.Device},_updatebuffer:function(){return null==this.Device||null==this.Data?null:$e.GetOrCreateBuffer(this.Device,this.Data,this.isIndexBuffer)}};var it=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_buffer=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.buffer=e._updatebuffer(),t.state_buffer=!0},r=function(e,n){t.state_Device=f.ScheduleCallback(t.state_Device,a)};Te.HiddenObserve(e,"buffer",(function(e,a){t.state_Loaded=f.ScheduleCallback(t.state_Loaded,n)})),Te.HiddenObserve(e,"DeviceProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"Device",r),null!=n&&Te.HiddenObserve(n,"Device",r),t.state_Device=f.ScheduleCallback(t.state_Device,a)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_buffer=f.ScheduleCallback(t.state_buffer,i)})),Te.HiddenObserve(e,"Data",(function(e,n){t.state_buffer=f.ScheduleCallback(t.state_buffer,i)})),Te.HiddenObserve(e,"isIndexBuffer",(function(e,n){t.state_buffer=f.ScheduleCallback(t.state_buffer,i)})),n(),a(),i()};it.__name__=!0;var rt=function(){};rt.__name__=!0,rt.GenerateTangentData=function(e,t,n,a){for(var i=e.length/3|0,r=new Float32Array(i),l=new Float32Array(i),o=new Float32Array(i),s=new Float32Array(i),u=new Float32Array(i),d=new Float32Array(i),c=0;c<a.length;){var h=a[c],_=a[c+1],g=a[c+2],b=3*h,v=e[b],f=e[b+1],S=e[b+2],p=3*_,m=3*g,C=2*h,y=n[C],k=n[C+1],H=2*_,V=2*g,O=e[p]-v,F=e[p+1]-f,w=e[p+2]-S,x=e[m]-v,D=e[m+1]-f,P=e[m+2]-S,A=n[H]-y,I=n[H+1]-k,T=n[V]-y,M=n[V+1]-k,R=A*M-T*I,N=0==R?0:1/R,L=(M*O-I*x)*N,B=(M*F-I*D)*N,E=(M*w-I*P)*N,W=(A*x-T*O)*N,U=(A*D-T*F)*N,z=(A*P-T*w)*N;r[h]+=L,l[h]+=B,o[h]+=E,r[_]+=L,l[_]+=B,o[_]+=E,r[g]+=L,l[g]+=B,o[g]+=E,s[h]+=W,u[h]+=U,d[h]+=z,s[_]+=W,u[_]+=U,d[_]+=z,s[g]+=W,u[g]+=U,d[g]+=z,c+=3}for(var G=new Float32Array(3*i),X=0,Y=0,Z=0,Q=0,j=0,q=0,K=0;K<i;){var J=K++,$=3*J,ee=t[$],te=t[$+1],ne=t[$+2];X=r[J],Y=l[J],Z=o[J],Q=s[J],j=u[J],q=d[J];var ae=X*ee+Y*te+Z*ne;if(Y-=te*ae,Z-=ne*ae,0!=(X-=ee*ae)||0!=Y||0!=Z){var ie=Math.sqrt(X*X+Y*Y+Z*Z);X*=ie=0==ie?1:1/ie,Y*=ie,Z*=ie}(te*Z-ne*Y)*Q+(ne*X-ee*Z)*j+(ee*Y-te*X)*q<0&&(X*=-1,Y*=-1,Z*=-1),G[3*J]=X,G[3*J+1]=Y,G[3*J+2]=Z}return G};var lt=function(e,t){var n;switch(this.Data=t,this.VertexSemantic=e,this.VertexSemantic){case 0:case 1:case 4:n=3;break;case 2:n=2;break;case 3:n=1}this.Length=t.length/n|0,Te.HiddenObserve(this,"buffer",(function(e,t){$e.ReturnBuffer(e)}),!0),this.VertexBufferObserver=new ot(this)};lt.__name__=!0,lt.prototype={_updateDevice:function(){return null==this.Mesh?null:this.Mesh.Device},_updatebuffer:function(){return null==this.Device||null==this.Data?null:$e.GetOrCreateBuffer(this.Device,this.Data,!1)}};var ot=function(e){var t=this;this.state_Device=!1,this.state_buffer=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.buffer=e._updatebuffer(),t.state_buffer=!0},i=function(e,a){t.state_Device=f.ScheduleCallback(t.state_Device,n)};Te.HiddenObserve(e,"Mesh",(function(e,a){null!=e&&Te.HiddenForget(e,"Device",i),null!=a&&Te.HiddenObserve(a,"Device",i),t.state_Device=f.ScheduleCallback(t.state_Device,n)})),Te.HiddenObserve(e,"Device",(function(e,n){t.state_buffer=f.ScheduleCallback(t.state_buffer,a)})),Te.HiddenObserve(e,"Data",(function(e,n){t.state_buffer=f.ScheduleCallback(t.state_buffer,a)})),n(),a()};ot.__name__=!0;var st=function(){};st.__name__=!0,st.Load=function(e,t,n){for(var a=[],i=e.length,r=0,l=e.length;r<l;){var o=[r++],s=ut.GetArrayBuffer(e[o[0]]);s.then(function(e){return function(n){i-=1,a[e[0]]=n,0==i&&t(a)}}(o)),s.catch((function(e){n()}))}};var ut=function(){};ut.__name__=!0,ut.GetArrayBuffer=function(e){return ut.PerformRequest(e,"GET","arraybuffer")},ut.PerformRequest=function(e,t,n){return new Promise((function(a,i){var r=new XMLHttpRequest;r.onload=function(){200==r.status?a(r.response):i(r.statusText)},r.onerror=function(){i("Network Error")},r.open(t,e,!0),r.responseType=n,r.send()}))};var dt=function(){};dt.__name__=!0,dt.Load=function(e,t,n){for(var a=[],i=e.length,r=!1,l=0;l<e.length;){var o=e[l++],s=new Image;a.push(s),s.onload=function(){0==(i-=1)&&t(a)},s.onerror=function(){r||(null!=n&&n(),r=!0)},s.crossOrigin="Anonymous",s.src=o}};var ct=function(e){if(!ct.initialized){var t=window.document.createElement("style");t.type="text/css",t.textContent="@keyframes "+ct.animationName+"{from{opacity:0;}to{opacity:0;}}",window.document.head.appendChild(t),ct.initialized=!0}this.callback=e,this.InitializeElements()};ct.__name__=!0,ct.prototype={InitializeElements:function(){this.resizeSensor=this.AppendChildDivElement(null,"animation: 1ms "+ct.animationName+"; opacity: 0;"+ct.divStyle),this.resizeSensor.className=ct.className,this.expand=this.AppendChildDivElement(this.resizeSensor,ct.divStyle),this.expandChild=this.AppendChildDivElement(this.expand,"width: 100000px; height: 100000px;"+ct.childDivStyle),this.shrink=this.AppendChildDivElement(this.resizeSensor,ct.divStyle),this.shrinkChild=this.AppendChildDivElement(this.shrink,"width: 200%; height: 200%;"+ct.childDivStyle),this.expand.addEventListener("scroll",Is(this,this.OnResize)),this.shrink.addEventListener("scroll",Is(this,this.OnResize)),null!=this.resizeSensor.style.getPropertyValue("animationName")&&this.resizeSensor.addEventListener("animationstart",Is(this,this.AnimationHandler))},Attach:function(e){null!=this.resizeSensor.parentElement&&this.resizeSensor.parentElement.removeChild(this.resizeSensor),null!=e&&(e.appendChild(this.resizeSensor),this.OnResize())},AnimationHandler:function(e){e.animationName==ct.animationName&&this.Reset()},OnResize:function(){if(this.Reset(),null!=this.resizeSensor&&null!=this.resizeSensor.parentElement){var e=window.getComputedStyle(this.resizeSensor.parentElement),t=this.resizeSensor.parentElement.clientWidth-c.parseInt(e.paddingLeft)-c.parseInt(e.paddingRight),n=this.resizeSensor.parentElement.clientHeight-c.parseInt(e.paddingTop)-c.parseInt(e.paddingBottom);t=0|Math.max(t,0),n=0|Math.max(n,0),this.callback(t,n)}},Reset:function(){this.expand.scrollLeft=1e5,this.expand.scrollTop=1e5,this.shrink.scrollLeft=1e5,this.shrink.scrollTop=1e5},AppendChildDivElement:function(e,t){var n=window.document.createElement("div");return null!=t&&(n.style.cssText=t),null!=e&&e.appendChild(n),n}};var ht=function(){this.Height=0,this.Width=0;var e=this;this.ResizeObserverIsAvailable()?this.observer=new window.ResizeObserver((function(t,n){var a=t[0];return e.Width=0|a.contentRect.width,e.Height=0|a.contentRect.height})):this.polyfillObserver=new ct((function(t,n){return e.Width=t,e.Height=n}))};ht.__name__=!0,ht.prototype={ResizeObserverIsAvailable:function(){return null!=window.ResizeObserver},Attach:function(e){null!=this.observer?(null!=this.target&&this.observer.unobserve(this.target),this.target=e,null!=e&&this.observer.observe(e)):null!=this.polyfillObserver&&this.polyfillObserver.Attach(e)}};var _t=function(e,t,n){this.Target=null,this.queriedElements=[],this.Target=null==t?window.document:t,this.querySelector=e,this.attributeFilter=n,this.FindNow(),"loading"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",Is(this,this.FindOnDomLoaded)):this.InitializeObserver()};_t.__name__=!0,_t.prototype={InitializeObserver:function(){var e=this;this.mutationObserver=new MutationObserver(Is(this,this.FindOnDomMutation));var t={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0};this.mutationObserver.observe(this.Target,t),Te.HiddenObserve(this,"Target",(function(n,a){if(null!=n){e.mutationObserver.disconnect();for(var i=e.queriedElements.slice(),r=0;r<i.length;)e.RemoveElement(i[r++])}null!=a&&(e.mutationObserver.observe(e.Target,t),e.FindNow())}),!0)},FindNow:function(){for(var e=this.Target.querySelectorAll(this.querySelector),t=[],n=0,a=this.queriedElements;n<a.length;){var i=a[n];++n,-1==Array.prototype.indexOf.call(e,i)&&t.push(i)}for(var r=0;r<t.length;){var l=t[r];++r,this.RemoveElement(l)}for(var o=[],s=0;s<e.length;){var u=e[s];++s,-1==this.queriedElements.indexOf(u)&&o.push(u)}for(var d=0;d<o.length;){var c=o[d];++d,this.AddElement(c)}var h=0!=t.length;(0!=o.length||h)&&this.OnElementsChanged()},FindOnDomLoaded:function(){window.document.removeEventListener("DOMContentLoaded",Is(this,this.FindOnDomLoaded)),this.FindNow(),null==this.mutationObserver&&this.InitializeObserver()},FindOnDomMutation:function(e,t){for(var n=!1,a=!1,i=0;i<e.length;){var r=e[i];if(++i,"attributes"==r.type){if(null!=this.attributeFilter&&-1==this.attributeFilter.indexOf(r.attributeName))continue;var l=r.target;if(r.oldValue==l.getAttribute(r.attributeName))continue;if(null==l.parentElement)continue;if(Ps.MatchesQuerySelector(l,this.querySelector))n=!0,this.AddElement(l);else{a=!0,this.RemoveElement(l);for(var o=0,s=this.queriedElements;o<s.length;){var u=s[o];++o,Ps.MatchesQuerySelector(u,this.querySelector)||(a=!0,this.RemoveElement(u))}for(var d=0,c=l.querySelectorAll(this.querySelector);d<c.length;)n=!0,this.AddElement(c[d++])}}else if("childList"==r.type){for(var h=0,_=r.addedNodes;h<_.length;){var g=_[h];if(++h,1==g.nodeType){var b=g;if(Ps.MatchesQuerySelector(b,this.querySelector))n=!0,this.AddElement(b);else{n=!0;for(var v=b.querySelectorAll(this.querySelector),f=0;f<v.length;)this.AddElement(v[f++])}}}if(null!=r.removedNodes&&r.removedNodes.length>0)for(var S=0,p=this.queriedElements;S<p.length;){var m=p[S];++S,window.document.documentElement.contains(m)||(a=!0,this.RemoveElement(m))}}}(a||n)&&this.OnElementsChanged()},OnElementsChanged:function(){},AddElement:function(e){-1==this.queriedElements.indexOf(e)&&this.queriedElements.push(e)},RemoveElement:function(e){l.remove(this.queriedElements,e)}};var gt=function(e,t,n,a){this.callback=n,this.attribute=t,_t.call(this,e,a,[t])};gt.__name__=!0,gt.__super__=_t,gt.prototype=i(_t.prototype,{OnElementsChanged:function(){_t.prototype.OnElementsChanged.call(this);for(var e=this.queriedElements,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=e[i].getAttribute(this.attribute)}this.Result=t,null!=this.callback&&this.callback(t)}});var bt=function(e,t,n){this.transform=n,_t.call(this,e,t)};bt.__name__=!0,bt.__super__=_t,bt.prototype=i(_t.prototype,{OnElementsChanged:function(){_t.prototype.OnElementsChanged.call(this),this.queriedElements.length>0?null!=this.transform?this.Result=this.transform(this.queriedElements[0]):this.Result=this.queriedElements[0]:this.Result=null}});var vt=function(e,t,n){this.transform=n,_t.call(this,e,t)};vt.__name__=!0,vt.__super__=_t,vt.prototype=i(_t.prototype,{OnElementsChanged:function(){if(_t.prototype.OnElementsChanged.call(this),this.queriedElements.length>0)if(null!=this.transform){for(var e=this.queriedElements,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.transform(e[i])}this.Result=t}else this.Result=this.queriedElements;else this.Result=null}});var ft=function(e){this.stringFactory=e,Te.HiddenObserve(this,"Value",(function(e,t){ee.Fire("integrationdisplaymode",new ce(t))}),!0),this.ConfigurationDisplayModeObserver=new St(this)};ft.__name__=!0,ft.prototype={_updateDisplayMode:function(){return null==this.stringFactory||null==this.Configuration||null==this.Configuration.IntegrationDisplayMode?null:this.stringFactory.Create(this.Configuration.IntegrationDisplayMode)},_updateValue:function(){return null==this.DisplayMode?null:this.DisplayMode.Value}};var St=function(e){var t=this;this.state_DisplayMode=!1,this.state_Value=!1;var n=function(){e.DisplayMode=e._updateDisplayMode(),t.state_DisplayMode=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_DisplayMode=f.ScheduleCallback(t.state_DisplayMode,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"stringFactory",(function(e,a){t.state_DisplayMode=f.ScheduleCallback(t.state_DisplayMode,n)})),Te.HiddenObserve(e,"Configuration",(function(e,a){null!=e&&Te.HiddenForget(e,"IntegrationDisplayMode",i),null!=a&&Te.HiddenObserve(a,"IntegrationDisplayMode",i),t.state_DisplayMode=f.ScheduleCallback(t.state_DisplayMode,n)})),Te.HiddenObserve(e,"DisplayMode",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};St.__name__=!0;var pt=function(e){this.settings=e};pt.__name__=!0,pt.prototype={Transform:function(e){if(Hs.IsNullOrWhiteSpace(e))return null;var t=e;if(null==this.settings||1!=this.settings.DisableRemoveGBs){var n=new RegExp("[\\(\\[]?(1|2|3|6|7|8|9|10|12|16|32|64|128|256|512|1024|2048|4096|8192|16384)[\\W_]*(GB RAM|GB|GO|GT|G|TB)\\b[\\)\\]]?|[\\(\\[]?(4|5)[\\W_]*(GB RAM|GB|GO|GT|TB)\\b[\\)\\]]?","gi".split("u").join(""));t=e.replace(n,"")}var a=new RegExp("[;?@=$,<>*%:&#\\\\/]","ig".split("u").join("")),i=t.replace(a,"");if(i=h.replace(i,"+",""),t=h.replace(h.replace(t=i,"\n",""),"\r",""),null==this.settings||1!=this.settings.DisableRemoveMultipleSpaces){for(var r=t;;){if(r==(r=h.replace(r,"  "," ")))break}t=r}if(null==this.settings||1!=this.settings.DisableToKebabCase){var l=new RegExp("\\s","g".split("u").join(""));t=t.replace(l,"-")}if(null==this.settings||1!=this.settings.DisableRemoveMultipleDashes){for(var o=t;;){if(o==(o=h.replace(o,"--","-")))break}t=o}if(null==this.settings||1!=this.settings.DisableRemoveOpeningDashes){for(var s=t;h.startsWith(s,"-");)s=s.substring(1,s.length);t=s}if(null==this.settings||1!=this.settings.DisableRemoveTrailingDashes){for(var u=t;h.endsWith(u,"-");)u=u.substring(0,u.length-1);t=u}return null!=this.settings&&1==this.settings.DisableToLowerCase||(t=t.toLowerCase()),Hs.IsNullOrWhiteSpace(t)?null:t}};var mt=function(){};mt.__name__=!0;var Ct=function(e){this.route=e,this.FullscreenManagerObserver=new yt(this)};Ct.__name__=!0,Ct.prototype={_updateIsFullscreen:function(){if(null==this.route)return!1;var e=this.route.ContainsFullscreen;return e?(window.document.addEventListener("keyup",Is(this,this.KeyUp)),ee.Fire("enterfullscreen",new ue)):(window.document.removeEventListener("keyup",Is(this,this.KeyUp)),this.IsFullscreen&&ee.Fire("leavefullscreen",new _e)),e},ExitFullscreen:function(){this.route.GoTo("")},KeyUp:function(e){27==e.keyCode&&this.ExitFullscreen()}};var yt=function(e){var t=this;this.state_IsFullscreen=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(e,a){t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)};Te.HiddenObserve(e,"route",(function(e,i){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",a),null!=i&&Te.HiddenObserve(i,"ContainsFullscreen",a),t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)})),Te.HiddenObserve(e,"IsFullscreen",(function(e,a){t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)})),n()};yt.__name__=!0;var kt=function(e){this.catalogManager=new pa,this.objectFactory=new Ir,this.floatFactory=new Ar,this.elementFactory=new Pr,this.boolFactory=new wr,this.stringFactory=new Tr,this.contentIdentifierSanitizer=new pt(e.SanitizerSettings),this.RegisterComponents();var t=new Pt(200),n=new ft(this.stringFactory),a=n,i=new ys(null),r=new ys(null),l=new Ei,s=new ms(l);this.stringFactory.BoolFactory=this.boolFactory,this.stringFactory.ElementFactory=this.elementFactory,this.stringFactory.FloatFactory=this.floatFactory,this.stringFactory.IntervalUpdater=t,this.stringFactory.ObjectFactory=this.objectFactory,this.stringFactory.Sanitizer=this.contentIdentifierSanitizer,this.stringFactory.ColorPickerValue=i,this.stringFactory.CatalogManager=this.catalogManager,this.boolFactory.ActiveTestVariantName=s,this.boolFactory.ElementFactory=this.elementFactory,this.boolFactory.FloatFactory=this.floatFactory,this.boolFactory.IntervalUpdater=t,this.boolFactory.ObjectFactory=this.objectFactory,this.boolFactory.StringFactory=this.stringFactory,this.boolFactory.isCatalogOpenValue=r,this.boolFactory.FloatComparator=new yr,this.boolFactory.StringComparator=new kr,this.elementFactory.BoolFactory=this.boolFactory,this.elementFactory.StringFactory=this.stringFactory,this.floatFactory.ElementFactory=this.elementFactory,this.floatFactory.IntervalUpdater=t,this.floatFactory.ObjectFactory=this.objectFactory,this.floatFactory.StringFactory=this.stringFactory,this.objectFactory.BoolFactory=this.boolFactory,this.objectFactory.ElementFactory=this.elementFactory,this.objectFactory.FloatFactory=this.floatFactory,this.objectFactory.IntervalUpdater=t,this.objectFactory.StringFactory=this.stringFactory;var u=new Ni,d=new Ct(u),c=new Ii(e,this.stringFactory);c=new xi(c,this.contentIdentifierSanitizer);var h=new Ii({ContentIdentifierProvider:e.ComparisonContentIdentifierProvider},this.stringFactory);h=new xi(h,this.contentIdentifierSanitizer);var g=window.BinkiesSettings.ViewSettings,b=new Bi(e.Settings.AccessKey,g.ViewId),v=new R(c,b),f=new fs(!1),m=new gs(h,f),C=new R(m,b),y=new ys(!1),k="";g.BrowserSupportsBrotli?k=".br":g.BrowserSupportsGzip&&(k=".gz");var H=new Vt(g.PlayerPath+"/player.min.js"+k,y,u),V=new Ft(new Y(v),new Q(v),H,y,u);this.boolFactory.State=V;var O=new E;new T(new J(new q(new Y(v),V,u),V.WantToShowContent,u),g.BrowserSupportsBrotli,O),new T(new Y(C),g.BrowserSupportsBrotli,O),ee.AddListener("engaged",(function(e,t){return V.IsEngaged=!0}));var F=new la,w=new ys;a=new Ss(a,w);var x=new Yo(window.navigator),D=v,P=null;if(nn.DebuggerEnabled()||"dev"==e.Settings.IntegrationVersion){var A=new an(v);D=A,x=new ln(x);var I=new _l("DebugDisplayMode");a=new Ss(a,I);var M,N=new _l("DebugActiveTestVariantName");s.Decoratee=new Ss(s.Decoratee,N);var L=o.find(e.Features,(function(e){return"Root"==e.Id}));M=null!=L?L.Settings.targetElement:{id:"cssselector",settings:{selector:{id:"constant",settings:{value:'[data-binkies-content="root"]'}}}};var B=null,W=o.find(e.Features,(function(e){return"Testing"==e.Id}));null!=W&&(B=W.Settings.testVariants);var U=new nn;U.ElementFactory=this.elementFactory,U.State=V,U.ShareManager=F,U.ContentIdentifierProvider=c,U.ComparisonContentIdentifierProvider=m,U.ContentQueue=v,U.LoadStateProvider=A,U.TargetDefinition=M,U.IntegrationSettings=e.Settings,U.DebugDisplayMode=I,U.Route=u,U.DebugActiveTestVariantName=N,U.TestVariants=B,new ke(U,U);var z=window.document.head,G=window.document.createElement("script");G.src="https://binkiesteaserstorage.blob.core.windows.net/diagnostic/idcrawler/idcrawler.js",G.async=!0,G.type="text/javascript";var X=Ve.Append;null==X&&(X=Ve.Append),z.appendChild(G),P=U.GridDebuggingEnabled}var Z=new Go;Te.HiddenObserve(Z,"IsUserInteracting",(function(e,t){t&&ee.Fire("engaged",new se)}),!0),Z.SetScreenSizeProvider(new Nt);var j=new Co(Z,Z,Z,Z),K=Math.PI,$=new so(Z,j.Create(mo.Bookmark([{X:0,Y:Math.sin(.5*K),Z:0,W:Math.cos(.5*K)}],.5,22)));S.afterComputedPropertiesUpdated.Register((function(e){$.Update(S.TotalElapsedTime,e)})),this.boolFactory.IntegrationDisplayMode=a,this.boolFactory.NetworkSpeedProvider=x;var te=new ys("none"),ne=e.Features,ae=this.boolFactory,ie=this.stringFactory,re=new _,le=new Fi(new wi);new ba(ne,new Dr(V,te,v,C,D,H,ae,ie,F,$,j,Z,re,P,a,w,le,new p,u,d,f,this.objectFactory,i,r,this.catalogManager),V,v,te,H,this.elementFactory,this.boolFactory,this.stringFactory,this.objectFactory,a,u,l,O,this.catalogManager,e.Settings),Te.HiddenObserve(a,"Value",(function(e,t){V.WantToShowContent.SetValue(V.WantToShowContent.Value||"onpage"==t)}),!0),n.Configuration=e};kt.__name__=!0,kt.prototype={RegisterComponents:function(){De.RegisterComponent("buttoncomponent",Bt),De.RegisterComponent("textcomponent",ha),De.RegisterComponent("player",Tt),De.RegisterComponent("gridarea",Fn),De.RegisterComponent("elementdebugger",cn),De.RegisterComponent("resizesensor",na),De.RegisterComponent("showhide3dbutton",sa),De.RegisterComponent("flipper",pn),De.RegisterComponent("gallery",Cn),De.RegisterComponent("hand",Tn),De.RegisterComponent("loadingbar",Yn),De.RegisterComponent("partymodehint",qn),De.RegisterComponent("resetnavigationbutton",Jn),De.RegisterComponent("grid",Pn),De.RegisterComponent("integrationplayer",En),De.RegisterComponent("inlinebox",Ln),De.RegisterComponent("layout",Un),De.RegisterComponent("image",Rn),De.RegisterComponent("sharebutton",ia),De.RegisterComponent("linkbutton",Gn),De.RegisterComponent("dropdown",un),De.RegisterComponent("stylepane",da),De.RegisterComponent("displaymodebutton",bn),De.RegisterComponent("dynamiccomponent",fn),De.RegisterComponent("navigationbuttons",Qn),De.RegisterComponent("route",ea),De.RegisterComponent("gotoroutebutton",Vn),De.RegisterComponent("googleform",kn),De.RegisterComponent("colorpicker",en),De.RegisterComponent("opencatalogbutton",Qt),De.RegisterComponent("closecatalogbutton",Yt),De.RegisterComponent("catalog",Wt),De.RegisterComponent("searchresult",Gt),De.RegisterComponent("catalogcolorpicker",Jt),De.RegisterComponent("catalogcolorpickerbutton",qt),De.RegisterComponent("dimensions",_n)}};var Ht=function(e){var t=this;if(null==e&&(e=window.BinkiesIntegrationConfiguration),!ga.IntegrationAlreadyOnPage(e.Settings)){var n=window.BinkiesSettings.ViewSettings;this.SetDebugTrace(e);var a=o.find(e.Features,(function(e){return"GoogleAnalytics"==e.Id})),i=o.find(e.Features,(function(e){return"CustomAnalytics"==e.Id}));ba.CreateStaticFeatureInstance(a),ba.CreateStaticFeatureInstance(i);var r=new O(null,new H(null,new V(null,new w(n.StatsUrl,n.StatsToken))));new F(e.Settings.AccessKey,n.ViewId,r),ee.Fire("integrationloaded",new he),window.BinkiesSettings.Supports3D((function(n,a,i){if(ee.Fire("supports3d",new pe(n,a)),n){var r;if(null==i)r=null;else{var l=i.getContextAttributes(),o=null==l?null:l.antialias,s=i.getExtension("WEBGL_debug_renderer_info");r={Antialias:o,Renderer:null==s?null:i.getParameter(s.UNMASKED_RENDERER_WEBGL),WebGLVersion:i.getParameter(7938)}}ee.Fire("driverinfo",new oe(r)),t.IncludeStyles(['.compare[data-binkies-content="pageTarget"] [data-binkies-content="root"]{display:none;height:40px;margin-top:20px;position:relative !important}\n','#binkies-content-area{pointer-events:none;user-select:none}#binkies-content-area>*:not(.binkies-unselectable){pointer-events:all}#binkies-player-component{pointer-events:all;display:inline-block;position:relative;width:100%;height:100%}#binkies-scene{position:absolute;left:0px;right:0px;top:0px;bottom:0px}.binkies-cursor-fallback canvas.rotate{cursor:url("https://az589851.vo.msecnd.net/integrations/NYYmTGo0/adqmp1m2/4e54a05/content/cursor_rotate.cur"),auto}.binkies-cursor-modern canvas.rotate{cursor:url("https://az589851.vo.msecnd.net/integrations/NYYmTGo0/adqmp1m2/4e54a05/content/cursor_rotate.png") 16 16,auto;cursor:-webkit-image-set(url("https://az589851.vo.msecnd.net/integrations/NYYmTGo0/adqmp1m2/4e54a05/content/cursor_rotate.png") 1x, url("https://az589851.vo.msecnd.net/integrations/NYYmTGo0/adqmp1m2/4e54a05/content/cursor_rotate_high.png") 2x) 16 16,crosshair}#binkies-pointer-area{position:absolute;padding-right:48px;padding-bottom:77px;top:0px;right:0px;left:0px;bottom:0px;display:none;overflow:hidden;display:block}@keyframes binkies-pointer-animation{0%{transform:translate(50%, 80%);opacity:0}2%{transform:translate(50%, 80%);opacity:1}7%,9%{transform:translate(50%, 50%)}16%,18%{transform:translate(5%, 50%)}25%{transform:translate(95%, 50%)}27%{transform:translate(5%, 50%);opacity:1}29%,100%{transform:translate(5%, 50%);opacity:0}}.binkies-modern-hand .binkies-pointer-display{animation:binkies-pointer-display-animation 13.75s steps(1, end) 4s infinite}@keyframes binkies-pointer-display-animation{0%{background-position:48px 0px}7%{background-position:0px 0px}26%,100%{background-position:48px 0px}}.binkies-simple-hand .binkies-pointer-inner-visual{display:none}.binkies-modern-hand .binkies-pointer-inner-visual{animation:binkies-pointer-inner-animation 13.75s linear 4s infinite}@keyframes binkies-pointer-inner-animation{0%,6.99%{opacity:0;margin-top:3px;margin-left:5px;width:28px;height:28px}7%,26%{opacity:1;margin-top:3px;margin-left:5px;width:28px;height:28px}28%,100%{opacity:0;margin-top:-11px;margin-left:-9px;width:56px;height:56px}}.binkies-simple-hand .binkies-pointer-outer-visual{display:none}.binkies-modern-hand .binkies-pointer-outer-visual{animation:binkies-pointer-outer-animation 13.75s linear 4s infinite}@keyframes binkies-pointer-outer-animation{0%,6.99%{opacity:0;margin-top:3px;margin-left:5px;width:28px;height:28px}7%{opacity:0.8;margin-top:3px;margin-left:5px;width:28px;height:28px}9%,100%{opacity:0;margin-top:-11px;margin-left:-9px;width:56px;height:56px}}.binkies-mode-switcher{height:100%;width:100%}.binkies-mode-switcher .binkies-mode-switcher-header{width:100%;justify-content:center}.binkies-mode-switcher .binkies-mode-switcher-content{flex:1 1 auto;position:relative}.binkies-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.binkies-gallery{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.binkies-animated{transition:opacity .5s,visibility .5s}.binkies-visible{opacity:1;visibility:visible}.binkies-hidden{opacity:0;visibility:hidden}.grid-cell>div{box-sizing:border-box}.binkies-button{height:100%;width:100%}.binkies-button *{height:100%;width:100%}.binkies-vertical-box{display:flex;flex-direction:column}.binkies-vertical-box>*{max-height:100%;flex-direction:column}.binkies-vertical-box *{width:100%;height:auto}.binkies-horizontal-box{display:flex;flex-direction:row}.binkies-horizontal-box>*{max-width:100%;flex-direction:row}.binkies-horizontal-box *{height:100%;width:auto}.binkies-start-aligned{justify-content:flex-start}.binkies-end-aligned{justify-content:flex-end}.binkies-center-aligned{justify-content:center}.binkies-stretch-aligned{justify-content:center}.binkies-stretch-aligned *{flex:1 1 auto}.binkies-spacebetween-aligned{justify-content:space-between}.binkies-flex-centered{display:flex;justify-content:center;align-items:center;min-width:0%;min-height:0%}.binkies-sensor-element{position:absolute;left:0px;top:0px;right:0px;bottom:0px;overflow:hidden;z-index:-1;visibility:hidden}div[data-binkies-content="root"]{opacity:0}div[data-binkies-content="root"][mounted="true"]{transition:opacity 0.5s linear 0.3s;opacity:1}\n'],e.Settings.IntegrationUrlPath),new kt(e)}}),mt.AllowSoftwareRendering)}};Ht.__name__=!0,Ht.prototype={SetDebugTrace:function(e){var t=ks.trace;ks.trace=function(n,a){(nn.DebuggerEnabled()||"dev"==e.Settings.IntegrationVersion)&&t(n,a)}},IncludeStyles:function(e,t){for(var n=0;n<e.length;){var a=h.replace(e[n++],"https://az589851.vo.msecnd.net/integrations/NYYmTGo0/adqmp1m2/4e54a05/",t+"/"),i=window.document.head,r=window.document.createElement("style");r.textContent=a;var l=Ve.Append;null==l&&(l=Ve.Append),i.appendChild(r)}}};var Vt=function(e,t,n){this.Downloaded=!1,this.url=e,this.wantToShowContent=t,this.route=n,this.ScriptDownloaderObserver=new Ot(this)};Vt.__name__=!0,Vt.prototype={_updateShouldDownload:function(){var e=this;if(this.ShouldDownload)return!0;if(!this.wantToShowContent.Value&&!this.route.ContainsFullscreen)return!1;var t=this.url,n=window.document.head,a=function(){return e.Downloaded=!0},i=window.document.createElement("script");i.src=t,i.async=!0,i.type="text/javascript",null!=a&&i.addEventListener("load",(function(e){a()}));var r=Ve.Append;return null==r&&(r=Ve.Append),n.appendChild(i),!0}};var Ot=function(e){var t=this;this.state_ShouldDownload=!1;var n=function(){e.ShouldDownload=e._updateShouldDownload(),t.state_ShouldDownload=!0},a=function(e,a){t.state_ShouldDownload=f.ScheduleCallback(t.state_ShouldDownload,n)},i=function(e,a){t.state_ShouldDownload=f.ScheduleCallback(t.state_ShouldDownload,n)};Te.HiddenObserve(e,"ShouldDownload",(function(e,a){t.state_ShouldDownload=f.ScheduleCallback(t.state_ShouldDownload,n)})),Te.HiddenObserve(e,"wantToShowContent",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_ShouldDownload=f.ScheduleCallback(t.state_ShouldDownload,n)})),Te.HiddenObserve(e,"route",(function(e,a){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",i),null!=a&&Te.HiddenObserve(a,"ContainsFullscreen",i),t.state_ShouldDownload=f.ScheduleCallback(t.state_ShouldDownload,n)})),Te.HiddenObserve(e,"url",(function(e,a){t.state_ShouldDownload=f.ScheduleCallback(t.state_ShouldDownload,n)})),n()};Ot.__name__=!0;var Ft=function(e,t,n,a,i){this.IsEngaged=!1,this.CanShowFullscreen=!1,this.CanShowContent=!1,this.latestProvider=e,this.loadingProvider=t,this.playerDownloader=n,this.WantToShowContent=a,this.route=i,this.StateObserver=new wt(this)};Ft.__name__=!0,Ft.prototype={_updateContentLoading:function(){return null!=this.loadingProvider&&null!=this.loadingProvider.ProductColor},_updateContentDownloaded:function(){return null!=this.latestProvider&&null!=this.latestProvider.ProductColor&&null!=this.latestProvider.ProductColor.Color&&this.latestProvider.ProductColor.Color.LoadState==B.Loaded},_updateContentCanBeDownloaded:function(){return null!=this.latestProvider&&null!=this.latestProvider.ProductColor&&null!=this.latestProvider.ProductColor.Color&&(!!this.latestProvider.ProductColor.Color.ReadyForCustomer&&this.latestProvider.ProductColor.Color.LoadState==B.NotLoaded)},_updateContentAvailable:function(){return!(!this.ContentCanBeDownloaded&&!this.ContentLoading)||this.ContentDownloaded},_updateResourcesLoaded:function(){return!!this.ContentDownloaded&&this.playerDownloader.Downloaded},_updateShowContent:function(){return!(!this.WantToShowContent.Value||!this.CanShowContent)&&this.ResourcesLoaded},_updateShowFullscreen:function(){return null!=this.route&&(!!this.route.ContainsFullscreen&&this.CanShowFullscreen)},Reset:function(){this.route.GoTo(""),this.IsEngaged=!1}};var wt=function(e){var t=this;this.state_ContentLoading=!1,this.state_ContentDownloaded=!1,this.state_ContentCanBeDownloaded=!1,this.state_ContentAvailable=!1,this.state_ResourcesLoaded=!1,this.state_ShowContent=!1,this.state_ShowFullscreen=!1;var n=function(){e.ContentLoading=e._updateContentLoading(),t.state_ContentLoading=!0},a=function(){e.ContentDownloaded=e._updateContentDownloaded(),t.state_ContentDownloaded=!0},i=function(){e.ContentCanBeDownloaded=e._updateContentCanBeDownloaded(),t.state_ContentCanBeDownloaded=!0},r=function(){e.ContentAvailable=e._updateContentAvailable(),t.state_ContentAvailable=!0},l=function(){e.ResourcesLoaded=e._updateResourcesLoaded(),t.state_ResourcesLoaded=!0},o=function(){e.ShowContent=e._updateShowContent(),t.state_ShowContent=!0},s=function(){e.ShowFullscreen=e._updateShowFullscreen(),t.state_ShowFullscreen=!0},u=function(e,a){t.state_ContentLoading=f.ScheduleCallback(t.state_ContentLoading,n)},d=function(e,n){t.state_ContentDownloaded=f.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=f.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},c=function(e,n){t.state_ContentCanBeDownloaded=f.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},h=function(e,n){null!=e&&(Te.HiddenForget(e,"LoadState",d),Te.HiddenForget(e,"ReadyForCustomer",c)),null!=n&&(Te.HiddenObserve(n,"LoadState",d),Te.HiddenObserve(n,"ReadyForCustomer",c)),t.state_ContentDownloaded=f.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=f.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},_=function(e,n){null!=e&&Te.HiddenForget(e,"Color",h),null!=n&&Te.HiddenObserve(n,"Color",h),t.state_ContentDownloaded=f.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=f.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},g=function(e,n){t.state_ResourcesLoaded=f.ScheduleCallback(t.state_ResourcesLoaded,l)},b=function(e,n){t.state_ShowContent=f.ScheduleCallback(t.state_ShowContent,o)},v=function(e,n){t.state_ShowFullscreen=f.ScheduleCallback(t.state_ShowFullscreen,s)};Te.HiddenObserve(e,"loadingProvider",(function(e,a){null!=e&&Te.HiddenForget(e,"ProductColor",u),null!=a&&Te.HiddenObserve(a,"ProductColor",u),t.state_ContentLoading=f.ScheduleCallback(t.state_ContentLoading,n)})),Te.HiddenObserve(e,"latestProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"ProductColor",_),null!=n&&Te.HiddenObserve(n,"ProductColor",_),t.state_ContentDownloaded=f.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=f.ScheduleCallback(t.state_ContentCanBeDownloaded,i)})),Te.HiddenObserve(e,"ContentCanBeDownloaded",(function(e,n){t.state_ContentAvailable=f.ScheduleCallback(t.state_ContentAvailable,r)})),Te.HiddenObserve(e,"ContentLoading",(function(e,n){t.state_ContentAvailable=f.ScheduleCallback(t.state_ContentAvailable,r)})),Te.HiddenObserve(e,"ContentDownloaded",(function(e,n){t.state_ContentAvailable=f.ScheduleCallback(t.state_ContentAvailable,r),t.state_ResourcesLoaded=f.ScheduleCallback(t.state_ResourcesLoaded,l)})),Te.HiddenObserve(e,"playerDownloader",(function(e,n){null!=e&&Te.HiddenForget(e,"Downloaded",g),null!=n&&Te.HiddenObserve(n,"Downloaded",g),t.state_ResourcesLoaded=f.ScheduleCallback(t.state_ResourcesLoaded,l)})),Te.HiddenObserve(e,"WantToShowContent",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",b),null!=n&&Te.HiddenObserve(n,"Value",b),t.state_ShowContent=f.ScheduleCallback(t.state_ShowContent,o)})),Te.HiddenObserve(e,"CanShowContent",(function(e,n){t.state_ShowContent=f.ScheduleCallback(t.state_ShowContent,o)})),Te.HiddenObserve(e,"ResourcesLoaded",(function(e,n){t.state_ShowContent=f.ScheduleCallback(t.state_ShowContent,o)})),Te.HiddenObserve(e,"route",(function(e,n){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",v),null!=n&&Te.HiddenObserve(n,"ContainsFullscreen",v),t.state_ShowFullscreen=f.ScheduleCallback(t.state_ShowFullscreen,s)})),Te.HiddenObserve(e,"CanShowFullscreen",(function(e,n){t.state_ShowFullscreen=f.ScheduleCallback(t.state_ShowFullscreen,s)})),n(),a(),i(),r(),l(),o(),s()};wt.__name__=!0;var xt=function(){};xt.__name__=!0,xt.getLocalStorage=function(){try{var e=window.localStorage;if(e.getItem(""),0==e.length){var t="_hx_"+Math.random();e.setItem(t,t),e.removeItem(t)}return e}catch(e){return null}};var Dt=function(){};Dt.__name__=!0,Dt.prototype={getItem:function(e){return null!=Dt.storage?Dt.storage.getItem(e):null},setItem:function(e,t){null==Dt.storage||Dt.storage.setItem(e,t)},removeItem:function(e){null==Dt.storage||Dt.storage.removeItem(e)}};var Pt=function(e,t){null==t&&(t=!0),this.Value=0,this.updateInterval=e,t&&this.Run()};Pt.__name__=!0,Pt.prototype={Run:function(){this.intervalID=window.setInterval(Is(this,this.tick),this.updateInterval)},tick:function(){this.Value++}};var At=function(){this.yOffset=0,this.xOffset=0,Pe.call(this),At.cssAddedToPage||(this.AddStyleToHead(".binkies-draggable\n{\n\tposition: fixed;\n}\n\n.binkies-dragger\n{\n\tuser-select: none;\n\tcursor: move;\n}"),At.cssAddedToPage=!0)};At.__name__=!0,At.SetTranslate=function(e,t,n){n.style.transform="translate3d("+e+"px, "+t+"px, 0)"},At.__super__=Pe,At.prototype=i(Pe.prototype,{Mounted:function(){Pe.prototype.Mounted.call(this),this.draggableElement=this.root,this.draggerElement=this.root.querySelector(".binkies-dragger"),this.draggerElement.addEventListener("pointerdown",Is(this,this.DragStart),!1),window.addEventListener("pointerup",Is(this,this.DragEnd),!1)},Unmounted:function(){Pe.prototype.Unmounted.call(this),this.draggerElement.removeEventListener("pointerdown",Is(this,this.DragStart)),window.removeEventListener("pointerup",Is(this,this.DragEnd))},DragStart:function(e){this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,window.addEventListener("pointermove",Is(this,this.Drag),!1),window.document.addEventListener("touchmove",Is(this,this.preventBehavior),{passive:!1})},DragEnd:function(){this.initialX=this.currentX,this.initialY=this.currentY,window.removeEventListener("pointermove",Is(this,this.Drag),!1),window.document.removeEventListener("touchmove",Is(this,this.preventBehavior))},Drag:function(e){e.preventDefault(),this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,At.SetTranslate(this.currentX,this.currentY,this.draggableElement)},preventBehavior:function(e){e.preventDefault()}});var It=function(e,t,n){this.Composition=e,this.OptionUId=t,this.ProductUId=n};It.__name__=!0;var Tt=function(){this.sceneItems=[],this.cursorFallback="Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Trident")>-1||"Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Edge")>-1,Pe.call(this),this.PlayerComponentObserver=new Mt(this)};Tt.__name__=!0,Tt.__super__=Pe,Tt.prototype=i(Pe.prototype,{_updateAriaValue:function(){return null!=this.AriaLabel?this.AriaLabel:""},_updateUpdateSceneItems:function(){if(null==this.playerHandle)return!1;if(null==this.SceneManager)return!1;if(null==this.NavigationManager||null==this.NavigationManager.NavigationModel)return!1;for(var e=this.sceneItems,t=this.SceneManager.SceneItems,n=0|Math.min(0|Math.max(e.length,t.length),this.NavigationManager.NavigationModel.ProductTransformModels.length),a=!1,i=0;i<n;){var r=i++,l=e[r],s=t[r],u=null!=s?s.Composition:null,d=null!=s?s.OptionUId:null,c=null!=s?s.ProductUId:null;(null!=l?l.Composition:null)==u&&(null!=l?l.OptionUId:null)==d||(a=!0,e[r]=new It(u,d,c),null!=u&&null!=d&&(this.playerHandle.switchToComposition(u,d,r),ee.Fire("contentswitched",new le(c,d))))}if(a){for(var h=new Array(e.length),_=0,g=e.length;_<g;){var b=_++;h[b]=e[b].Composition}if(o.has(h,null))return!1;this.FireEvent("CompositionsChanged",h)}return!0},_updateUpdateNav:function(){if(null==this.NavigationManager||null==this.NavigationManager.NavigationModel)return null;if(null==this.playerHandle)return null;for(var e=this.NavigationManager.NavigationModel,t=[],n=0,a=e.ProductTransformModels;n<a.length;){var i=a[n];++n,t.push({position:i.ProductPosition,orientation:i.ProductOrientation})}return this.playerHandle.updateExternalNavigation({camera:{position:e.CameraPosition,orientation:e.CameraOrientation,fov:e.CameraFieldOfView,near:.01,far:10},products:t}),null},Mounted:function(){if(null==this.PlayerParameters)throw new ws("We want playerHandle parameters!");this.playerHandle=this.PlayerProvider.GetPlayer(this.PlayerParameters),this.playerHandle.appendTo(this.root),this.playerHandle.resume(),this.FireEvent("PlayerMounted",this.playerHandle.getPlayer())},Unmounted:function(){this.playerHandle.remove(),this.playerHandle.pause(),this.PlayerProvider.ReturnPlayer(this.playerHandle),this.playerHandle=null},_updateVirtualDom:function(){var e=null;return(e=Fe.CreateNode("div")).Attributes.role="img",e.Attributes.id="binkies-player-component",e.Attributes.class=this.cursorFallback?"binkies-cursor-fallback":"binkies-cursor-modern",e.Attributes["aria-label"]=this.AriaValue,null!=this.PlayerParameters&&e.AddNode("style").AddText("\n\t\t\t.binkies-gallery *\n\t\t\t{\n\t\t\t\tvisibility: hidden!important;\n\t\t\t}\n\t\t\t.binkies-bookmark\n\t\t\t{\n\t\t\t\twidth: "+this.PlayerParameters.galleryBookmarkWidth+"px;\n\t\t\t\theight: "+this.PlayerParameters.galleryBookmarkHeight+"px;\n\t\t\t}\n\t\t"),null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Mt=function(e){var t=this;this.state_AriaValue=!1,this.state_UpdateSceneItems=!1,this.state_UpdateNav=!1,this.state_VirtualDom=!1;var n=function(){e.AriaValue=e._updateAriaValue(),t.state_AriaValue=!0},a=function(){e.UpdateSceneItems=e._updateUpdateSceneItems(),t.state_UpdateSceneItems=!0},i=function(){e.UpdateNav=e._updateUpdateNav(),t.state_UpdateNav=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},l=function(e,n){t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)},o=function(e,n){t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},s=function(e,n){t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)},u=function(e,n){t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)},d=function(e,n){t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)},c=function(e,n){null!=e&&(Te.HiddenForget(e,"Composition",s),Te.HiddenForget(e,"OptionUId",u),Te.HiddenForget(e,"ProductUId",d)),null!=n&&(Te.HiddenObserve(n,"Composition",s),Te.HiddenObserve(n,"OptionUId",u),Te.HiddenObserve(n,"ProductUId",d)),t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)},h=function(e,n){t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},_=function(e,n){t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},g=function(e,n){null!=e&&(Te.HiddenForget(e,"ProductPosition",h),Te.HiddenForget(e,"ProductOrientation",_)),null!=n&&(Te.HiddenObserve(n,"ProductPosition",h),Te.HiddenObserve(n,"ProductOrientation",_)),t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},b=function(e,n){t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},v=function(e,n){t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},S=function(e,n){t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},p=function(e,n){null!=e&&(Te.HiddenForget(e,"ProductTransformModels",g),Te.HiddenForget(e,"CameraPosition",b),Te.HiddenForget(e,"CameraOrientation",v),Te.HiddenForget(e,"CameraFieldOfView",S)),null!=n&&(Te.HiddenObserve(n,"ProductTransformModels",g),Te.HiddenObserve(n,"CameraPosition",b),Te.HiddenObserve(n,"CameraOrientation",v),Te.HiddenObserve(n,"CameraFieldOfView",S)),t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)},m=function(e,n){t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)},C=function(e,n){t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)},y=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)},k=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)};Te.HiddenObserve(e,"AriaLabel",(function(e,a){t.state_AriaValue=f.ScheduleCallback(t.state_AriaValue,n)})),Te.HiddenObserve(e,"playerHandle",(function(e,n){null!=e&&(Te.HiddenForget(e,"switchToComposition",l),Te.HiddenForget(e,"updateExternalNavigation",o)),null!=n&&(Te.HiddenObserve(n,"switchToComposition",l),Te.HiddenObserve(n,"updateExternalNavigation",o)),t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)})),Te.HiddenObserve(e,"SceneManager",(function(e,n){null!=e&&Te.HiddenForget(e,"SceneItems",c),null!=n&&Te.HiddenObserve(n,"SceneItems",c),t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)})),Te.HiddenObserve(e,"NavigationManager",(function(e,n){null!=e&&Te.HiddenForget(e,"NavigationModel",p),null!=n&&Te.HiddenObserve(n,"NavigationModel",p),t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=f.ScheduleCallback(t.state_UpdateNav,i)})),Te.HiddenObserve(e,"sceneItems",(function(e,n){null!=e&&(Te.HiddenForget(e,"Composition",m),Te.HiddenForget(e,"OptionUId",C)),null!=n&&(Te.HiddenObserve(n,"Composition",m),Te.HiddenObserve(n,"OptionUId",C)),t.state_UpdateSceneItems=f.ScheduleCallback(t.state_UpdateSceneItems,a)})),Te.HiddenObserve(e,"cursorFallback",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"AriaValue",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"PlayerParameters",(function(e,n){null!=e&&(Te.HiddenForget(e,"galleryBookmarkWidth",y),Te.HiddenForget(e,"galleryBookmarkHeight",k)),null!=n&&(Te.HiddenObserve(n,"galleryBookmarkWidth",y),Te.HiddenObserve(n,"galleryBookmarkHeight",k)),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};Mt.__name__=!0;var Rt=function(e){this.player=e};Rt.__name__=!0,Rt.prototype={ScreenPointToRay:function(e){return this.ScreenCoordinatesToRay(e.X,e.Y)},ScreenCoordinatesToRay:function(e,t){return this.player.Renderer.MainCamera.ScreenPointToRay(e,t)}};var Nt=function(){this.PixelRatio=1,this.sensor=new ht,this.SceneSizeProviderObserver=new Lt(this)};Nt.__name__=!0,Nt.prototype={_updateDomQuery:function(){return new bt("#binkies-scene")},_updateQueryWatcher:function(){return null!=this.DomQuery&&(this.sensor.Attach(this.DomQuery.Result),!0)},_updateWidth:function(){return this.sensor.Width},_updateHeight:function(){return this.sensor.Height},_updateAspectRatio:function(){return this.Width/this.Height}};var Lt=function(e){var t=this;this.state_DomQuery=!1,this.state_QueryWatcher=!1,this.state_Width=!1,this.state_Height=!1,this.state_AspectRatio=!1;var n=function(){e.QueryWatcher=e._updateQueryWatcher(),t.state_QueryWatcher=!0},a=function(){e.Width=e._updateWidth(),t.state_Width=!0},i=function(){e.Height=e._updateHeight(),t.state_Height=!0},r=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},l=function(e,a){t.state_QueryWatcher=f.ScheduleCallback(t.state_QueryWatcher,n)},o=function(e,n){t.state_Width=f.ScheduleCallback(t.state_Width,a)},s=function(e,n){t.state_Height=f.ScheduleCallback(t.state_Height,i)};Te.HiddenObserve(e,"DomQuery",(function(e,a){null!=e&&Te.HiddenForget(e,"Result",l),null!=a&&Te.HiddenObserve(a,"Result",l),t.state_QueryWatcher=f.ScheduleCallback(t.state_QueryWatcher,n)})),Te.HiddenObserve(e,"sensor",(function(e,n){null!=e&&(Te.HiddenForget(e,"Width",o),Te.HiddenForget(e,"Height",s)),null!=n&&(Te.HiddenObserve(n,"Width",o),Te.HiddenObserve(n,"Height",s)),t.state_Width=f.ScheduleCallback(t.state_Width,a),t.state_Height=f.ScheduleCallback(t.state_Height,i)})),Te.HiddenObserve(e,"Width",(function(e,n){t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,r)})),Te.HiddenObserve(e,"Height",(function(e,n){t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,r)})),e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0,n(),a(),i(),r()};Lt.__name__=!0;var Bt=function(){this.HasPopup=!1,Pe.call(this),this.ButtonComponentObserver=new Et(this)};Bt.__name__=!0,Bt.__super__=Pe,Bt.prototype=i(Pe.prototype,{Mounted:function(){Pe.prototype.Mounted.call(this),window.addEventListener("click",Is(this,this.EndHover))},Unmounted:function(){Pe.prototype.Unmounted.call(this),window.removeEventListener("click",Is(this,this.EndHover))},_updateAriaValue:function(){return null!=this.AriaLabel?this.AriaLabel:""},_updateCombinedIdleStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t];if(++t,null!=a&&(null!=a.imageSource&&(e.imageSource=a.imageSource),null!=a.imageScale&&(e.imageScale=a.imageScale),null!=a.aspectRatio&&(e.aspectRatio=a.aspectRatio),null!=a.border&&(e.border=a.border),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderRadius&&(e.borderRadius=a.borderRadius),null!=a.background&&(e.background=a.background),null!=a.boxShadow&&(e.boxShadow=a.boxShadow),null!=a.opacity&&(e.opacity=a.opacity),null!=a.text)){null==e.text&&(e.text={});var i=e.text,r=a.text;if(null!=r&&(null!=r.content&&(i.content=r.content),null!=r.verticalAlign&&(i.verticalAlign=r.verticalAlign),null!=r.horizontalAlign&&(i.horizontalAlign=r.horizontalAlign),null!=r.padding&&(i.padding=r.padding),null!=r.style)){null==i.style&&(i.style={});var l=i.style,o=r.style;null!=o&&(null!=o.fontFamily&&(l.fontFamily=o.fontFamily),null!=o.color&&(l.color=o.color),null!=o.textShadow&&(l.textShadow=o.textShadow),null!=o.opacity&&(l.opacity=o.opacity),null!=o.fontSize&&(l.fontSize=o.fontSize),null!=o.textDecoration&&(l.textDecoration=o.textDecoration),null!=o.border&&(l.border=o.border),null!=o.borderWidth&&(l.borderWidth=o.borderWidth),null!=o.padding&&(l.padding=o.padding),null!=o.fontWeight&&(l.fontWeight=o.fontWeight))}}}return e},_updateCombinedHoverStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].hover;if(null!=a&&(null!=a.imageSource&&(e.imageSource=a.imageSource),null!=a.imageScale&&(e.imageScale=a.imageScale),null!=a.aspectRatio&&(e.aspectRatio=a.aspectRatio),null!=a.border&&(e.border=a.border),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderRadius&&(e.borderRadius=a.borderRadius),null!=a.background&&(e.background=a.background),null!=a.boxShadow&&(e.boxShadow=a.boxShadow),null!=a.opacity&&(e.opacity=a.opacity),null!=a.text)){null==e.text&&(e.text={});var i=e.text,r=a.text;if(null!=r&&(null!=r.content&&(i.content=r.content),null!=r.verticalAlign&&(i.verticalAlign=r.verticalAlign),null!=r.horizontalAlign&&(i.horizontalAlign=r.horizontalAlign),null!=r.padding&&(i.padding=r.padding),null!=r.style)){null==i.style&&(i.style={});var l=i.style,o=r.style;null!=o&&(null!=o.fontFamily&&(l.fontFamily=o.fontFamily),null!=o.color&&(l.color=o.color),null!=o.textShadow&&(l.textShadow=o.textShadow),null!=o.opacity&&(l.opacity=o.opacity),null!=o.fontSize&&(l.fontSize=o.fontSize),null!=o.textDecoration&&(l.textDecoration=o.textDecoration),null!=o.border&&(l.border=o.border),null!=o.borderWidth&&(l.borderWidth=o.borderWidth),null!=o.padding&&(l.padding=o.padding),null!=o.fontWeight&&(l.fontWeight=o.fontWeight))}}}return e},_updateCombinedActiveStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].active;if(null!=a&&(null!=a.imageSource&&(e.imageSource=a.imageSource),null!=a.imageScale&&(e.imageScale=a.imageScale),null!=a.aspectRatio&&(e.aspectRatio=a.aspectRatio),null!=a.border&&(e.border=a.border),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderRadius&&(e.borderRadius=a.borderRadius),null!=a.background&&(e.background=a.background),null!=a.boxShadow&&(e.boxShadow=a.boxShadow),null!=a.opacity&&(e.opacity=a.opacity),null!=a.text)){null==e.text&&(e.text={});var i=e.text,r=a.text;if(null!=r&&(null!=r.content&&(i.content=r.content),null!=r.verticalAlign&&(i.verticalAlign=r.verticalAlign),null!=r.horizontalAlign&&(i.horizontalAlign=r.horizontalAlign),null!=r.padding&&(i.padding=r.padding),null!=r.style)){null==i.style&&(i.style={});var l=i.style,o=r.style;null!=o&&(null!=o.fontFamily&&(l.fontFamily=o.fontFamily),null!=o.color&&(l.color=o.color),null!=o.textShadow&&(l.textShadow=o.textShadow),null!=o.opacity&&(l.opacity=o.opacity),null!=o.fontSize&&(l.fontSize=o.fontSize),null!=o.textDecoration&&(l.textDecoration=o.textDecoration),null!=o.border&&(l.border=o.border),null!=o.borderWidth&&(l.borderWidth=o.borderWidth),null!=o.padding&&(l.padding=o.padding),null!=o.fontWeight&&(l.fontWeight=o.fontWeight))}}}return e},_updateCurrentStyle:function(){var e={},t=this.CombinedIdleStyle;if(null!=t&&(null!=t.imageSource&&(e.imageSource=t.imageSource),null!=t.imageScale&&(e.imageScale=t.imageScale),null!=t.aspectRatio&&(e.aspectRatio=t.aspectRatio),null!=t.border&&(e.border=t.border),null!=t.borderWidth&&(e.borderWidth=t.borderWidth),null!=t.borderRadius&&(e.borderRadius=t.borderRadius),null!=t.background&&(e.background=t.background),null!=t.boxShadow&&(e.boxShadow=t.boxShadow),null!=t.opacity&&(e.opacity=t.opacity),null!=t.text)){null==e.text&&(e.text={});var n=e.text,a=t.text;if(null!=a&&(null!=a.content&&(n.content=a.content),null!=a.verticalAlign&&(n.verticalAlign=a.verticalAlign),null!=a.horizontalAlign&&(n.horizontalAlign=a.horizontalAlign),null!=a.padding&&(n.padding=a.padding),null!=a.style)){null==n.style&&(n.style={});var i=n.style,r=a.style;null!=r&&(null!=r.fontFamily&&(i.fontFamily=r.fontFamily),null!=r.color&&(i.color=r.color),null!=r.textShadow&&(i.textShadow=r.textShadow),null!=r.opacity&&(i.opacity=r.opacity),null!=r.fontSize&&(i.fontSize=r.fontSize),null!=r.textDecoration&&(i.textDecoration=r.textDecoration),null!=r.border&&(i.border=r.border),null!=r.borderWidth&&(i.borderWidth=r.borderWidth),null!=r.padding&&(i.padding=r.padding),null!=r.fontWeight&&(i.fontWeight=r.fontWeight))}}if(this.IsActive){var l=this.CombinedActiveStyle;if(null!=l&&(null!=l.imageSource&&(e.imageSource=l.imageSource),null!=l.imageScale&&(e.imageScale=l.imageScale),null!=l.aspectRatio&&(e.aspectRatio=l.aspectRatio),null!=l.border&&(e.border=l.border),null!=l.borderWidth&&(e.borderWidth=l.borderWidth),null!=l.borderRadius&&(e.borderRadius=l.borderRadius),null!=l.background&&(e.background=l.background),null!=l.boxShadow&&(e.boxShadow=l.boxShadow),null!=l.opacity&&(e.opacity=l.opacity),null!=l.text)){null==e.text&&(e.text={});var o=e.text,s=l.text;if(null!=s&&(null!=s.content&&(o.content=s.content),null!=s.verticalAlign&&(o.verticalAlign=s.verticalAlign),null!=s.horizontalAlign&&(o.horizontalAlign=s.horizontalAlign),null!=s.padding&&(o.padding=s.padding),null!=s.style)){null==o.style&&(o.style={});var u=o.style,d=s.style;null!=d&&(null!=d.fontFamily&&(u.fontFamily=d.fontFamily),null!=d.color&&(u.color=d.color),null!=d.textShadow&&(u.textShadow=d.textShadow),null!=d.opacity&&(u.opacity=d.opacity),null!=d.fontSize&&(u.fontSize=d.fontSize),null!=d.textDecoration&&(u.textDecoration=d.textDecoration),null!=d.border&&(u.border=d.border),null!=d.borderWidth&&(u.borderWidth=d.borderWidth),null!=d.padding&&(u.padding=d.padding),null!=d.fontWeight&&(u.fontWeight=d.fontWeight))}}}else if(this.isHovered){var c=this.CombinedHoverStyle;if(null!=c&&(null!=c.imageSource&&(e.imageSource=c.imageSource),null!=c.imageScale&&(e.imageScale=c.imageScale),null!=c.aspectRatio&&(e.aspectRatio=c.aspectRatio),null!=c.border&&(e.border=c.border),null!=c.borderWidth&&(e.borderWidth=c.borderWidth),null!=c.borderRadius&&(e.borderRadius=c.borderRadius),null!=c.background&&(e.background=c.background),null!=c.boxShadow&&(e.boxShadow=c.boxShadow),null!=c.opacity&&(e.opacity=c.opacity),null!=c.text)){null==e.text&&(e.text={});var h=e.text,_=c.text;if(null!=_&&(null!=_.content&&(h.content=_.content),null!=_.verticalAlign&&(h.verticalAlign=_.verticalAlign),null!=_.horizontalAlign&&(h.horizontalAlign=_.horizontalAlign),null!=_.padding&&(h.padding=_.padding),null!=_.style)){null==h.style&&(h.style={});var g=h.style,b=_.style;null!=b&&(null!=b.fontFamily&&(g.fontFamily=b.fontFamily),null!=b.color&&(g.color=b.color),null!=b.textShadow&&(g.textShadow=b.textShadow),null!=b.opacity&&(g.opacity=b.opacity),null!=b.fontSize&&(g.fontSize=b.fontSize),null!=b.textDecoration&&(g.textDecoration=b.textDecoration),null!=b.border&&(g.border=b.border),null!=b.borderWidth&&(g.borderWidth=b.borderWidth),null!=b.padding&&(g.padding=b.padding),null!=b.fontWeight&&(g.fontWeight=b.fontWeight))}}}return e},_updateCurrentImageSourceValue:function(){return null==this.CurrentStyle||null==this.CurrentStyle.imageSource?null:this.StringFactory.Create(this.CurrentStyle.imageSource)},_updateHasText:function(){return null!=this.CurrentStyle&&null!=this.CurrentStyle.text},_updateCurrentImageSource:function(){return null==this.CurrentImageSourceValue?null:this.CurrentImageSourceValue.Value},_updateAspectRatio:function(){if(null==this.CurrentStyle||null==this.CurrentStyle.aspectRatio)return{width:1,height:1};var e=this.CurrentStyle.aspectRatio;return null==e.width&&(e.width=1),null==e.height&&(e.height=1),e},_updateCanvasWrapperStyle:function(){if(null==this.CurrentStyle)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.CurrentStyle.border)||e.push("border: "+this.CurrentStyle.border),Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderWidth)||e.push("border-width: "+this.CurrentStyle.borderWidth),Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderRadius)||e.push("border-radius: "+this.CurrentStyle.borderRadius),Hs.IsNullOrWhiteSpace(this.CurrentStyle.background)||e.push("background: "+this.CurrentStyle.background),Hs.IsNullOrWhiteSpace(this.CurrentStyle.boxShadow)||e.push("box-shadow: "+this.CurrentStyle.boxShadow),Hs.IsNullOrWhiteSpace(this.CurrentStyle.opacity)||e.push("opacity: "+this.CurrentStyle.opacity),e.join(";")},_updateCanvasStyle:function(){if(null==this.CurrentStyle)return"";var e=[];return null!=this.CurrentStyle.imageScale&&e.push("transform: scale("+this.CurrentStyle.imageScale+")"),Hs.IsNullOrWhiteSpace(this.CurrentImageSource)||(e.push("background-image: url('"+this.CurrentImageSource+"')"),e.push("background-size: contain"),e.push("background-repeat: no-repeat"),e.push("background-position: center")),this.HasText&&e.push("position: absolute"),e.join(";")},Click:function(){this.EndHover(),ee.Fire("engaged",new se),this.FireEvent("click")},StartHover:function(){this.isHovered=!0},EndHover:function(){this.isHovered=!1},_updateVirtualDom:function(){var e=this,t=function(){e.StartHover()};t.hash=0;var n=function(){e.EndHover()};n.hash=1;var a=function(){e.Click()};a.hash=2;var i=null;if(null!=this.Styles){(i=Fe.CreateNode("div")).Attributes.style="flex: 0 0 auto",i.Events.mouseover=t,i.Events.mouseout=n,i.Attributes.class="binkies-button binkies-flex-centered";var r=i.AddNode("div");if(r.Attributes.tabindex=0,r.Attributes.style="cursor: pointer; pointer-events: all; position: relative; box-sizing: border-box; flex: 1 0 auto; "+this.CanvasWrapperStyle,r.Attributes.role="button",r.Events.click=a,r.Attributes.class="binkies-flex-centered",r.Attributes["aria-label"]=this.AriaValue,r.Attributes["aria-haspopup"]=this.HasPopup,this.HasText){var l=r.AddNode("textcomponent");l.Attributes.StringFactory=this.StringFactory,l.Attributes.Settings=this.CurrentStyle.text}var o=r.AddNode("canvas");o.Attributes.width=this.AspectRatio.width,o.Attributes.style="flex: none; display: inline-block; "+this.CanvasStyle,o.Attributes.height=this.AspectRatio.height}return null==i&&(i=Fe.CreateNode(this.converter.GetPlaceholderTag())),i}});var Et=function(e){var t=this;this.state_AriaValue=!1,this.state_CombinedIdleStyle=!1,this.state_CombinedHoverStyle=!1,this.state_CombinedActiveStyle=!1,this.state_CurrentStyle=!1,this.state_CurrentImageSourceValue=!1,this.state_HasText=!1,this.state_CurrentImageSource=!1,this.state_AspectRatio=!1,this.state_CanvasWrapperStyle=!1,this.state_CanvasStyle=!1,this.state_VirtualDom=!1;var n=function(){e.AriaValue=e._updateAriaValue(),t.state_AriaValue=!0},a=function(){e.CombinedIdleStyle=e._updateCombinedIdleStyle(),t.state_CombinedIdleStyle=!0},i=function(){e.CombinedHoverStyle=e._updateCombinedHoverStyle(),t.state_CombinedHoverStyle=!0},r=function(){e.CombinedActiveStyle=e._updateCombinedActiveStyle(),t.state_CombinedActiveStyle=!0},l=function(){e.CurrentStyle=e._updateCurrentStyle(),t.state_CurrentStyle=!0},o=function(){e.CurrentImageSourceValue=e._updateCurrentImageSourceValue(),t.state_CurrentImageSourceValue=!0},s=function(){e.HasText=e._updateHasText(),t.state_HasText=!0},u=function(){e.CurrentImageSource=e._updateCurrentImageSource(),t.state_CurrentImageSource=!0},d=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},c=function(){e.CanvasWrapperStyle=e._updateCanvasWrapperStyle(),t.state_CanvasWrapperStyle=!0},h=function(){e.CanvasStyle=e._updateCanvasStyle(),t.state_CanvasStyle=!0},_=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},g=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},b=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},v=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},S=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},p=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},m=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},C=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},y=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},k=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},H=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},V=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},O=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},F=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},w=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},x=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},D=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},P=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},A=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},I=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},T=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},M=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},R=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},N=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},L=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",w),Te.HiddenForget(e,"color",x),Te.HiddenForget(e,"textShadow",D),Te.HiddenForget(e,"opacity",P),Te.HiddenForget(e,"fontSize",A),Te.HiddenForget(e,"textDecoration",I),Te.HiddenForget(e,"border",T),Te.HiddenForget(e,"borderWidth",M),Te.HiddenForget(e,"padding",R),Te.HiddenForget(e,"fontWeight",N)),null!=n&&(Te.HiddenObserve(n,"fontFamily",w),Te.HiddenObserve(n,"color",x),Te.HiddenObserve(n,"textShadow",D),Te.HiddenObserve(n,"opacity",P),Te.HiddenObserve(n,"fontSize",A),Te.HiddenObserve(n,"textDecoration",I),Te.HiddenObserve(n,"border",T),Te.HiddenObserve(n,"borderWidth",M),Te.HiddenObserve(n,"padding",R),Te.HiddenObserve(n,"fontWeight",N)),t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},B=function(e,n){null!=e&&(Te.HiddenForget(e,"content",H),Te.HiddenForget(e,"verticalAlign",V),Te.HiddenForget(e,"horizontalAlign",O),Te.HiddenForget(e,"padding",F),Te.HiddenForget(e,"style",L)),null!=n&&(Te.HiddenObserve(n,"content",H),Te.HiddenObserve(n,"verticalAlign",V),Te.HiddenObserve(n,"horizontalAlign",O),Te.HiddenObserve(n,"padding",F),Te.HiddenObserve(n,"style",L)),t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a)},E=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},W=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},U=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},z=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},G=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},X=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},Y=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},Z=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},Q=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},j=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},q=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},K=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},J=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},$=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},ee=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},te=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},ne=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},ae=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},ie=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},re=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},le=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},oe=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},se=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},ue=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",$),Te.HiddenForget(e,"color",ee),Te.HiddenForget(e,"textShadow",te),Te.HiddenForget(e,"opacity",ne),Te.HiddenForget(e,"fontSize",ae),Te.HiddenForget(e,"textDecoration",ie),Te.HiddenForget(e,"border",re),Te.HiddenForget(e,"borderWidth",le),Te.HiddenForget(e,"padding",oe),Te.HiddenForget(e,"fontWeight",se)),null!=n&&(Te.HiddenObserve(n,"fontFamily",$),Te.HiddenObserve(n,"color",ee),Te.HiddenObserve(n,"textShadow",te),Te.HiddenObserve(n,"opacity",ne),Te.HiddenObserve(n,"fontSize",ae),Te.HiddenObserve(n,"textDecoration",ie),Te.HiddenObserve(n,"border",re),Te.HiddenObserve(n,"borderWidth",le),Te.HiddenObserve(n,"padding",oe),Te.HiddenObserve(n,"fontWeight",se)),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},de=function(e,n){null!=e&&(Te.HiddenForget(e,"content",j),Te.HiddenForget(e,"verticalAlign",q),Te.HiddenForget(e,"horizontalAlign",K),Te.HiddenForget(e,"padding",J),Te.HiddenForget(e,"style",ue)),null!=n&&(Te.HiddenObserve(n,"content",j),Te.HiddenObserve(n,"verticalAlign",q),Te.HiddenObserve(n,"horizontalAlign",K),Te.HiddenObserve(n,"padding",J),Te.HiddenObserve(n,"style",ue)),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},ce=function(e,n){null!=e&&(Te.HiddenForget(e,"imageSource",E),Te.HiddenForget(e,"imageScale",W),Te.HiddenForget(e,"aspectRatio",U),Te.HiddenForget(e,"border",z),Te.HiddenForget(e,"borderWidth",G),Te.HiddenForget(e,"borderRadius",X),Te.HiddenForget(e,"background",Y),Te.HiddenForget(e,"boxShadow",Z),Te.HiddenForget(e,"opacity",Q),Te.HiddenForget(e,"text",de)),null!=n&&(Te.HiddenObserve(n,"imageSource",E),Te.HiddenObserve(n,"imageScale",W),Te.HiddenObserve(n,"aspectRatio",U),Te.HiddenObserve(n,"border",z),Te.HiddenObserve(n,"borderWidth",G),Te.HiddenObserve(n,"borderRadius",X),Te.HiddenObserve(n,"background",Y),Te.HiddenObserve(n,"boxShadow",Z),Te.HiddenObserve(n,"opacity",Q),Te.HiddenObserve(n,"text",de)),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i)},he=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},_e=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},ge=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},be=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},ve=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},fe=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Se=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},pe=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},me=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ce=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},ye=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},ke=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},He=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ve=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Oe=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Fe=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},we=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},xe=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},De=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Pe=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ae=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ie=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Me=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Re=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",Ve),Te.HiddenForget(e,"color",Oe),Te.HiddenForget(e,"textShadow",Fe),Te.HiddenForget(e,"opacity",we),Te.HiddenForget(e,"fontSize",xe),Te.HiddenForget(e,"textDecoration",De),Te.HiddenForget(e,"border",Pe),Te.HiddenForget(e,"borderWidth",Ae),Te.HiddenForget(e,"padding",Ie),Te.HiddenForget(e,"fontWeight",Me)),null!=n&&(Te.HiddenObserve(n,"fontFamily",Ve),Te.HiddenObserve(n,"color",Oe),Te.HiddenObserve(n,"textShadow",Fe),Te.HiddenObserve(n,"opacity",we),Te.HiddenObserve(n,"fontSize",xe),Te.HiddenObserve(n,"textDecoration",De),Te.HiddenObserve(n,"border",Pe),Te.HiddenObserve(n,"borderWidth",Ae),Te.HiddenObserve(n,"padding",Ie),Te.HiddenObserve(n,"fontWeight",Me)),t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ne=function(e,n){null!=e&&(Te.HiddenForget(e,"content",Ce),Te.HiddenForget(e,"verticalAlign",ye),Te.HiddenForget(e,"horizontalAlign",ke),Te.HiddenForget(e,"padding",He),Te.HiddenForget(e,"style",Re)),null!=n&&(Te.HiddenObserve(n,"content",Ce),Te.HiddenObserve(n,"verticalAlign",ye),Te.HiddenObserve(n,"horizontalAlign",ke),Te.HiddenObserve(n,"padding",He),Te.HiddenObserve(n,"style",Re)),t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Le=function(e,n){null!=e&&(Te.HiddenForget(e,"imageSource",he),Te.HiddenForget(e,"imageScale",_e),Te.HiddenForget(e,"aspectRatio",ge),Te.HiddenForget(e,"border",be),Te.HiddenForget(e,"borderWidth",ve),Te.HiddenForget(e,"borderRadius",fe),Te.HiddenForget(e,"background",Se),Te.HiddenForget(e,"boxShadow",pe),Te.HiddenForget(e,"opacity",me),Te.HiddenForget(e,"text",Ne)),null!=n&&(Te.HiddenObserve(n,"imageSource",he),Te.HiddenObserve(n,"imageScale",_e),Te.HiddenObserve(n,"aspectRatio",ge),Te.HiddenObserve(n,"border",be),Te.HiddenObserve(n,"borderWidth",ve),Te.HiddenObserve(n,"borderRadius",fe),Te.HiddenObserve(n,"background",Se),Te.HiddenObserve(n,"boxShadow",pe),Te.HiddenObserve(n,"opacity",me),Te.HiddenObserve(n,"text",Ne)),t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r)},Be=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ee=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},We=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ue=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},ze=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ge=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Xe=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ye=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ze=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Qe=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},je=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},qe=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ke=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Je=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},$e=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},et=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},tt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},nt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},at=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},it=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},rt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},lt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},ot=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},st=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",Je),Te.HiddenForget(e,"color",$e),Te.HiddenForget(e,"textShadow",et),Te.HiddenForget(e,"opacity",tt),Te.HiddenForget(e,"fontSize",nt),Te.HiddenForget(e,"textDecoration",at),Te.HiddenForget(e,"border",it),Te.HiddenForget(e,"borderWidth",rt),Te.HiddenForget(e,"padding",lt),Te.HiddenForget(e,"fontWeight",ot)),null!=n&&(Te.HiddenObserve(n,"fontFamily",Je),Te.HiddenObserve(n,"color",$e),Te.HiddenObserve(n,"textShadow",et),Te.HiddenObserve(n,"opacity",tt),Te.HiddenObserve(n,"fontSize",nt),Te.HiddenObserve(n,"textDecoration",at),Te.HiddenObserve(n,"border",it),Te.HiddenObserve(n,"borderWidth",rt),Te.HiddenObserve(n,"padding",lt),Te.HiddenObserve(n,"fontWeight",ot)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},ut=function(e,n){null!=e&&(Te.HiddenForget(e,"content",Qe),Te.HiddenForget(e,"verticalAlign",je),Te.HiddenForget(e,"horizontalAlign",qe),Te.HiddenForget(e,"padding",Ke),Te.HiddenForget(e,"style",st)),null!=n&&(Te.HiddenObserve(n,"content",Qe),Te.HiddenObserve(n,"verticalAlign",je),Te.HiddenObserve(n,"horizontalAlign",qe),Te.HiddenObserve(n,"padding",Ke),Te.HiddenObserve(n,"style",st)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},dt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},ct=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},ht=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},_t=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},gt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},bt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},vt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},ft=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},St=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},pt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},mt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ct=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},yt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},kt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ht=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Vt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ot=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ft=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},wt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},xt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Dt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Pt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},At=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},It=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",kt),Te.HiddenForget(e,"color",Ht),Te.HiddenForget(e,"textShadow",Vt),Te.HiddenForget(e,"opacity",Ot),Te.HiddenForget(e,"fontSize",Ft),Te.HiddenForget(e,"textDecoration",wt),Te.HiddenForget(e,"border",xt),Te.HiddenForget(e,"borderWidth",Dt),Te.HiddenForget(e,"padding",Pt),Te.HiddenForget(e,"fontWeight",At)),null!=n&&(Te.HiddenObserve(n,"fontFamily",kt),Te.HiddenObserve(n,"color",Ht),Te.HiddenObserve(n,"textShadow",Vt),Te.HiddenObserve(n,"opacity",Ot),Te.HiddenObserve(n,"fontSize",Ft),Te.HiddenObserve(n,"textDecoration",wt),Te.HiddenObserve(n,"border",xt),Te.HiddenObserve(n,"borderWidth",Dt),Te.HiddenObserve(n,"padding",Pt),Te.HiddenObserve(n,"fontWeight",At)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Tt=function(e,n){null!=e&&(Te.HiddenForget(e,"content",pt),Te.HiddenForget(e,"verticalAlign",mt),Te.HiddenForget(e,"horizontalAlign",Ct),Te.HiddenForget(e,"padding",yt),Te.HiddenForget(e,"style",It)),null!=n&&(Te.HiddenObserve(n,"content",pt),Te.HiddenObserve(n,"verticalAlign",mt),Te.HiddenObserve(n,"horizontalAlign",Ct),Te.HiddenObserve(n,"padding",yt),Te.HiddenObserve(n,"style",It)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Mt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Rt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Nt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Lt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Bt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Et=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Wt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Ut=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},zt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Gt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Xt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Yt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Zt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Qt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},jt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},qt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Kt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},Jt=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},$t=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},en=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},tn=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},nn=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},an=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},rn=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",Qt),Te.HiddenForget(e,"color",jt),Te.HiddenForget(e,"textShadow",qt),Te.HiddenForget(e,"opacity",Kt),Te.HiddenForget(e,"fontSize",Jt),Te.HiddenForget(e,"textDecoration",$t),Te.HiddenForget(e,"border",en),Te.HiddenForget(e,"borderWidth",tn),Te.HiddenForget(e,"padding",nn),Te.HiddenForget(e,"fontWeight",an)),null!=n&&(Te.HiddenObserve(n,"fontFamily",Qt),Te.HiddenObserve(n,"color",jt),Te.HiddenObserve(n,"textShadow",qt),Te.HiddenObserve(n,"opacity",Kt),Te.HiddenObserve(n,"fontSize",Jt),Te.HiddenObserve(n,"textDecoration",$t),Te.HiddenObserve(n,"border",en),Te.HiddenObserve(n,"borderWidth",tn),Te.HiddenObserve(n,"padding",nn),Te.HiddenObserve(n,"fontWeight",an)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},ln=function(e,n){null!=e&&(Te.HiddenForget(e,"content",Gt),Te.HiddenForget(e,"verticalAlign",Xt),Te.HiddenForget(e,"horizontalAlign",Yt),Te.HiddenForget(e,"padding",Zt),Te.HiddenForget(e,"style",rn)),null!=n&&(Te.HiddenObserve(n,"content",Gt),Te.HiddenObserve(n,"verticalAlign",Xt),Te.HiddenObserve(n,"horizontalAlign",Yt),Te.HiddenObserve(n,"padding",Zt),Te.HiddenObserve(n,"style",rn)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)},on=function(e,n){t.state_CurrentImageSourceValue=f.ScheduleCallback(t.state_CurrentImageSourceValue,o)},sn=function(e,n){t.state_HasText=f.ScheduleCallback(t.state_HasText,s),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)},un=function(e,n){t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,d)},dn=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,c)},cn=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,c)},hn=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,c)},_n=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,c)},gn=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,c)},bn=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,c)},vn=function(e,n){t.state_CanvasStyle=f.ScheduleCallback(t.state_CanvasStyle,h)},fn=function(e,n){t.state_CurrentImageSource=f.ScheduleCallback(t.state_CurrentImageSource,u)},Sn=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)},pn=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)};Te.HiddenObserve(e,"AriaLabel",(function(e,a){t.state_AriaValue=f.ScheduleCallback(t.state_AriaValue,n)})),Te.HiddenObserve(e,"Styles",(function(e,n){null!=e&&(Te.HiddenForget(e,"imageSource",g),Te.HiddenForget(e,"imageScale",b),Te.HiddenForget(e,"aspectRatio",v),Te.HiddenForget(e,"border",S),Te.HiddenForget(e,"borderWidth",p),Te.HiddenForget(e,"borderRadius",m),Te.HiddenForget(e,"background",C),Te.HiddenForget(e,"boxShadow",y),Te.HiddenForget(e,"opacity",k),Te.HiddenForget(e,"text",B),Te.HiddenForget(e,"hover",ce),Te.HiddenForget(e,"active",Le)),null!=n&&(Te.HiddenObserve(n,"imageSource",g),Te.HiddenObserve(n,"imageScale",b),Te.HiddenObserve(n,"aspectRatio",v),Te.HiddenObserve(n,"border",S),Te.HiddenObserve(n,"borderWidth",p),Te.HiddenObserve(n,"borderRadius",m),Te.HiddenObserve(n,"background",C),Te.HiddenObserve(n,"boxShadow",y),Te.HiddenObserve(n,"opacity",k),Te.HiddenObserve(n,"text",B),Te.HiddenObserve(n,"hover",ce),Te.HiddenObserve(n,"active",Le)),t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,a),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,i),t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"CombinedIdleStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"imageSource",Be),Te.HiddenForget(e,"imageScale",Ee),Te.HiddenForget(e,"aspectRatio",We),Te.HiddenForget(e,"border",Ue),Te.HiddenForget(e,"borderWidth",ze),Te.HiddenForget(e,"borderRadius",Ge),Te.HiddenForget(e,"background",Xe),Te.HiddenForget(e,"boxShadow",Ye),Te.HiddenForget(e,"opacity",Ze),Te.HiddenForget(e,"text",ut)),null!=n&&(Te.HiddenObserve(n,"imageSource",Be),Te.HiddenObserve(n,"imageScale",Ee),Te.HiddenObserve(n,"aspectRatio",We),Te.HiddenObserve(n,"border",Ue),Te.HiddenObserve(n,"borderWidth",ze),Te.HiddenObserve(n,"borderRadius",Ge),Te.HiddenObserve(n,"background",Xe),Te.HiddenObserve(n,"boxShadow",Ye),Te.HiddenObserve(n,"opacity",Ze),Te.HiddenObserve(n,"text",ut)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)})),Te.HiddenObserve(e,"IsActive",(function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)})),Te.HiddenObserve(e,"CombinedActiveStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"imageSource",dt),Te.HiddenForget(e,"imageScale",ct),Te.HiddenForget(e,"aspectRatio",ht),Te.HiddenForget(e,"border",_t),Te.HiddenForget(e,"borderWidth",gt),Te.HiddenForget(e,"borderRadius",bt),Te.HiddenForget(e,"background",vt),Te.HiddenForget(e,"boxShadow",ft),Te.HiddenForget(e,"opacity",St),Te.HiddenForget(e,"text",Tt)),null!=n&&(Te.HiddenObserve(n,"imageSource",dt),Te.HiddenObserve(n,"imageScale",ct),Te.HiddenObserve(n,"aspectRatio",ht),Te.HiddenObserve(n,"border",_t),Te.HiddenObserve(n,"borderWidth",gt),Te.HiddenObserve(n,"borderRadius",bt),Te.HiddenObserve(n,"background",vt),Te.HiddenObserve(n,"boxShadow",ft),Te.HiddenObserve(n,"opacity",St),Te.HiddenObserve(n,"text",Tt)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)})),Te.HiddenObserve(e,"isHovered",(function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)})),Te.HiddenObserve(e,"CombinedHoverStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"imageSource",Mt),Te.HiddenForget(e,"imageScale",Rt),Te.HiddenForget(e,"aspectRatio",Nt),Te.HiddenForget(e,"border",Lt),Te.HiddenForget(e,"borderWidth",Bt),Te.HiddenForget(e,"borderRadius",Et),Te.HiddenForget(e,"background",Wt),Te.HiddenForget(e,"boxShadow",Ut),Te.HiddenForget(e,"opacity",zt),Te.HiddenForget(e,"text",ln)),null!=n&&(Te.HiddenObserve(n,"imageSource",Mt),Te.HiddenObserve(n,"imageScale",Rt),Te.HiddenObserve(n,"aspectRatio",Nt),Te.HiddenObserve(n,"border",Lt),Te.HiddenObserve(n,"borderWidth",Bt),Te.HiddenObserve(n,"borderRadius",Et),Te.HiddenObserve(n,"background",Wt),Te.HiddenObserve(n,"boxShadow",Ut),Te.HiddenObserve(n,"opacity",zt),Te.HiddenObserve(n,"text",ln)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,l)})),Te.HiddenObserve(e,"CurrentStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"imageSource",on),Te.HiddenForget(e,"text",sn),Te.HiddenForget(e,"aspectRatio",un),Te.HiddenForget(e,"border",dn),Te.HiddenForget(e,"borderWidth",cn),Te.HiddenForget(e,"borderRadius",hn),Te.HiddenForget(e,"background",_n),Te.HiddenForget(e,"boxShadow",gn),Te.HiddenForget(e,"opacity",bn),Te.HiddenForget(e,"imageScale",vn)),null!=n&&(Te.HiddenObserve(n,"imageSource",on),Te.HiddenObserve(n,"text",sn),Te.HiddenObserve(n,"aspectRatio",un),Te.HiddenObserve(n,"border",dn),Te.HiddenObserve(n,"borderWidth",cn),Te.HiddenObserve(n,"borderRadius",hn),Te.HiddenObserve(n,"background",_n),Te.HiddenObserve(n,"boxShadow",gn),Te.HiddenObserve(n,"opacity",bn),Te.HiddenObserve(n,"imageScale",vn)),t.state_CurrentImageSourceValue=f.ScheduleCallback(t.state_CurrentImageSourceValue,o),t.state_HasText=f.ScheduleCallback(t.state_HasText,s),t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,d),t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,c),t.state_CanvasStyle=f.ScheduleCallback(t.state_CanvasStyle,h),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"CurrentImageSourceValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",fn),null!=n&&Te.HiddenObserve(n,"Value",fn),t.state_CurrentImageSource=f.ScheduleCallback(t.state_CurrentImageSource,u)})),Te.HiddenObserve(e,"CurrentImageSource",(function(e,n){t.state_CanvasStyle=f.ScheduleCallback(t.state_CanvasStyle,h)})),Te.HiddenObserve(e,"HasText",(function(e,n){t.state_CanvasStyle=f.ScheduleCallback(t.state_CanvasStyle,h),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"CanvasWrapperStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"AriaValue",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"HasPopup",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"AspectRatio",(function(e,n){null!=e&&(Te.HiddenForget(e,"width",Sn),Te.HiddenForget(e,"height",pn)),null!=n&&(Te.HiddenObserve(n,"width",Sn),Te.HiddenObserve(n,"height",pn)),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"CanvasStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),n(),a(),i(),r(),l(),o(),s(),u(),d(),c(),h(),_()};Et.__name__=!0;var Wt=function(){this.AvailableSpace=new zt(0,0,0,0,0),this.NullProduct={Brand:"",Name:"",UId:"",Colors:[],Category:0,Width:0,Height:0,Thickness:0},Pe.call(this),this.CatalogComponentObserver=new Ut(this)};Wt.__name__=!0,Wt.__super__=Pe,Wt.prototype=i(Pe.prototype,{SensorSizeChanged:function(e,t){this.AvailableSpace=new zt(0,0,e,t,16)},OnWheel:function(e){e.stopPropagation()},_updateDisplay:function(){return null!=this.Settings&&(null!=this.IsCatalogOpen&&null!=this.IsCatalogOpen.Value)},_updateProducts:function(){return null==this.CatalogManager||null==this.CatalogManager.catalog||null==this.CatalogManager.catalog.Products?[]:this.CatalogManager.catalog.Products},_updatevseries:function(){if(null==this.Products)return[];if(null==this.Settings||null==this.Settings.stride)return[];for(var e=Math.ceil(this.Products.length/this.Settings.stride),t=[],n=0;n<e;)t.push({min:this.Settings.stride*n++,count:this.Settings.stride});return t},_updatehseries:function(){if(null==this.Products)return[];if(null==this.Settings||null==this.Settings.stride)return[];for(var e=Math.ceil(this.Products.length/this.Settings.stride),t=[],n=0,a=this.Settings.stride;n<a;)t.push({min:e*n++,count:e});return t},_updateflexStyle:function(){if(null==this.Settings||null==this.Settings.layout)return"";switch(this.Settings.layout){case 0:return"flex-wrap: wrap;\n\t\t\t\talign-items: center;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: start; align-content: center;";case 1:return"\n\t\t\t\talign-items: center;\n\t\t\t\tflex-direction: column;\n\t\t\t\tjustify-content: start; align-content: start;"}},_updateseries:function(){if(null==this.Settings||null==this.Settings.layout)return[];switch(this.Settings.layout){case 0:return this.hseries;case 1:return this.vseries}},_updateitemSpace:function(){var e=Math.min(245,this.AvailableSpace.Height);return new zt(0,0,.5755102040816327*e,e,Math.min(16,.8*this.AvailableSpace.FontSize))},_updateBaseURL:function(){return null==this.CatalogManager||null==this.CatalogManager.catalog||null==this.CatalogManager.catalog.BaseURL?null:this.CatalogManager.catalog.BaseURL},PhoneClicked:function(e,t){switch(this.IsCatalogOpen.Value){case"left":this.CatalogManager.SelectLeftProduct(e.UId),this.CatalogManager.SelectLeftColor(t.OptionUId);break;case"right":this.CatalogManager.SelectRightProduct(e.UId),this.CatalogManager.SelectRightColor(t.OptionUId)}this.IsCatalogOpen.SetValue(null)},_updateBackgroungColor:function(){return null==this.Settings||null==this.Settings.backgroundColor?"white":this.Settings.backgroundColor},_updateBackgroungOpacity:function(){return null==this.Settings||null==this.Settings.backgroundOpacity?"0":this.Settings.backgroundOpacity},_updateBackgroungStyle:function(){return"background-color:"+this.BackgroungColor+"; opacity:"+this.BackgroungOpacity+";"},_updateVirtualDom:function(){var e=this,t=function(t){e.OnWheel(t)};t.hash=0;var n=function(t,n){e.SensorSizeChanged(t,n)};n.hash=1;var a=function(t,n){e.PhoneClicked(t,n)};a.hash=2;var i=null;if(this.Display){(i=Fe.CreateNode("div")).Attributes.style="width: 100%; height: 100%; position: relative",i.AddNode("div").Attributes.style="\n      position: absolute;\n      top: 0px;\n      left: 0px;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      "+this.BackgroungStyle+";\n    ";var r=i.AddNode("div");r.Attributes.style="\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        pointer-events: all;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      ",r.Events.wheel=t,r.Attributes.class="scroll-container",r.AddNode("resizesensor").Events.SizeChanged=n;var l=r.AddNode("div");l.Attributes.style="\n          width: 100%;\n          height: 100%;\n          text-align: center;\n          position: relative;\n          display: flex;\n          "+this.flexStyle+"\n        ",l.Attributes.class="search-container";for(var o=0,s=this.series.length;o<s;){var u=o++,d=l.AddNode("div");d.Attributes.style="display: flex; flex-direction: row";for(var c=this.series[u].min,h=this.series[u].min+this.series[u].count;c<h;){var _=c++;if(null!=this.Products[_]){var g=d.AddNode("searchresult");g.Events.PhoneClicked=a,g.Attributes.Settings=this.Settings,g.Attributes.Product=this.Products[_],g.Attributes.MaxHeight=this.MaxHeight,g.Attributes.BaseURL=this.BaseURL,g.Attributes.AvailableSpace=this.itemSpace}if(null==this.Products[_]){var b=d.AddNode("searchresult");b.Attributes.Settings=this.Settings,b.Attributes.Product=this.NullProduct,b.Attributes.MaxHeight=this.MaxHeight,b.Attributes.AvailableSpace=this.itemSpace}}}}return null==i&&(i=Fe.CreateNode(this.converter.GetPlaceholderTag())),i}});var Ut=function(e){var t=this;this.state_Display=!1,this.state_Products=!1,this.state_vseries=!1,this.state_hseries=!1,this.state_flexStyle=!1,this.state_series=!1,this.state_itemSpace=!1,this.state_BaseURL=!1,this.state_BackgroungColor=!1,this.state_BackgroungOpacity=!1,this.state_BackgroungStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.Products=e._updateProducts(),t.state_Products=!0},i=function(){e.vseries=e._updatevseries(),t.state_vseries=!0},r=function(){e.hseries=e._updatehseries(),t.state_hseries=!0},l=function(){e.flexStyle=e._updateflexStyle(),t.state_flexStyle=!0},o=function(){e.series=e._updateseries(),t.state_series=!0},s=function(){e.itemSpace=e._updateitemSpace(),t.state_itemSpace=!0},u=function(){e.BaseURL=e._updateBaseURL(),t.state_BaseURL=!0},d=function(){e.BackgroungColor=e._updateBackgroungColor(),t.state_BackgroungColor=!0},c=function(){e.BackgroungOpacity=e._updateBackgroungOpacity(),t.state_BackgroungOpacity=!0},h=function(){e.BackgroungStyle=e._updateBackgroungStyle(),t.state_BackgroungStyle=!0},_=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},g=function(e,n){t.state_vseries=f.ScheduleCallback(t.state_vseries,i),t.state_hseries=f.ScheduleCallback(t.state_hseries,r)},b=function(e,n){t.state_flexStyle=f.ScheduleCallback(t.state_flexStyle,l),t.state_series=f.ScheduleCallback(t.state_series,o)},v=function(e,n){t.state_BackgroungColor=f.ScheduleCallback(t.state_BackgroungColor,d)},S=function(e,n){t.state_BackgroungOpacity=f.ScheduleCallback(t.state_BackgroungOpacity,c)},p=function(e,a){t.state_Display=f.ScheduleCallback(t.state_Display,n)},m=function(e,n){t.state_Products=f.ScheduleCallback(t.state_Products,a)},C=function(e,n){t.state_BaseURL=f.ScheduleCallback(t.state_BaseURL,u)},y=function(e,n){null!=e&&(Te.HiddenForget(e,"Products",m),Te.HiddenForget(e,"BaseURL",C)),null!=n&&(Te.HiddenObserve(n,"Products",m),Te.HiddenObserve(n,"BaseURL",C)),t.state_Products=f.ScheduleCallback(t.state_Products,a),t.state_BaseURL=f.ScheduleCallback(t.state_BaseURL,u)},k=function(e,n){t.state_itemSpace=f.ScheduleCallback(t.state_itemSpace,s)},H=function(e,n){t.state_itemSpace=f.ScheduleCallback(t.state_itemSpace,s)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"stride",g),Te.HiddenForget(e,"layout",b),Te.HiddenForget(e,"backgroundColor",v),Te.HiddenForget(e,"backgroundOpacity",S)),null!=a&&(Te.HiddenObserve(a,"stride",g),Te.HiddenObserve(a,"layout",b),Te.HiddenObserve(a,"backgroundColor",v),Te.HiddenObserve(a,"backgroundOpacity",S)),t.state_Display=f.ScheduleCallback(t.state_Display,n),t.state_vseries=f.ScheduleCallback(t.state_vseries,i),t.state_hseries=f.ScheduleCallback(t.state_hseries,r),t.state_flexStyle=f.ScheduleCallback(t.state_flexStyle,l),t.state_series=f.ScheduleCallback(t.state_series,o),t.state_BackgroungColor=f.ScheduleCallback(t.state_BackgroungColor,d),t.state_BackgroungOpacity=f.ScheduleCallback(t.state_BackgroungOpacity,c),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"IsCatalogOpen",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",p),null!=a&&Te.HiddenObserve(a,"Value",p),t.state_Display=f.ScheduleCallback(t.state_Display,n)})),Te.HiddenObserve(e,"CatalogManager",(function(e,n){null!=e&&Te.HiddenForget(e,"catalog",y),null!=n&&Te.HiddenObserve(n,"catalog",y),t.state_Products=f.ScheduleCallback(t.state_Products,a),t.state_BaseURL=f.ScheduleCallback(t.state_BaseURL,u)})),Te.HiddenObserve(e,"Products",(function(e,n){t.state_vseries=f.ScheduleCallback(t.state_vseries,i),t.state_hseries=f.ScheduleCallback(t.state_hseries,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"hseries",(function(e,n){t.state_series=f.ScheduleCallback(t.state_series,o)})),Te.HiddenObserve(e,"vseries",(function(e,n){t.state_series=f.ScheduleCallback(t.state_series,o)})),Te.HiddenObserve(e,"AvailableSpace",(function(e,n){null!=e&&(Te.HiddenForget(e,"Height",k),Te.HiddenForget(e,"FontSize",H)),null!=n&&(Te.HiddenObserve(n,"Height",k),Te.HiddenObserve(n,"FontSize",H)),t.state_itemSpace=f.ScheduleCallback(t.state_itemSpace,s)})),Te.HiddenObserve(e,"BackgroungColor",(function(e,n){t.state_BackgroungStyle=f.ScheduleCallback(t.state_BackgroungStyle,h)})),Te.HiddenObserve(e,"BackgroungOpacity",(function(e,n){t.state_BackgroungStyle=f.ScheduleCallback(t.state_BackgroungStyle,h)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"BackgroungStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"flexStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"series",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"MaxHeight",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"BaseURL",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"itemSpace",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"NullProduct",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),n(),a(),i(),r(),l(),o(),s(),u(),d(),c(),h(),_()};Ut.__name__=!0;var zt=function(e,t,n,a,i){this.X=e,this.Y=t,this.Width=n,this.Height=a,this.FontSize=i};zt.__name__=!0;var Gt=function(){this.AvailableSpace=new zt(0,0,0,0,0),this.ScaleFactor="height: 100%;";var e=this;Pe.call(this),Te.HiddenObserve(this,"Product",(function(t,n){null!=n&&(e.selectedColor=n.Colors[0])}),!1),Te.HiddenObserve(this,"MaxHeight",(function(t,n){if(null!=n){var a=e.Product.Height;e.Product.Width>e.Product.Height&&(a=e.Product.Width),e.ScaleFactor="height: "+a/e.MaxHeight.h[e.Product.Category]*100+"%;"}}),!0),this.SearchResultComponentObserver=new Xt(this)};Gt.__name__=!0,Gt.__super__=Pe,Gt.prototype=i(Pe.prototype,{HoverColor:function(e){this.selectedColor=e},_updateRotateThumbnail:function(){return null==this.Product||this.Product.Height>this.Product.Width?"":"transform: rotate(90deg);"},_updateTextStyle:function(){if(null==this.Settings)return"";var e="";return Hs.IsNullOrWhiteSpace(this.Settings.fontFamily)||(e="font-family: "+this.Settings.fontFamily+";"),e},_updateVirtualDom:function(){var e=this,t=function(){e.FireEvent("PhoneClicked",e.Product,e.selectedColor)};t.hash=0;var n=null;if(null!=this.Product){(n=Fe.CreateNode("div")).Attributes.style="width: "+this.AvailableSpace.Width+"px; height: "+this.AvailableSpace.Height+"px; cursor: pointer; pointer-events: all;\t vertical-align: middle;margin: 0px 5px;font-size: 14px;max-height: 100%;",n.Events.click=t,n.Attributes.class="searchresult "+(""!=this.Product.Name?"clickable":"");var a=n.AddNode("div");if(a.Attributes.style="max-width: 100%; height: 80%; position: relative; overflow: hidden;",null!=this.selectedColor&&null!=this.BaseURL){var i=a.AddNode("img");i.Attributes.style=this.ScaleFactor+" "+this.RotateThumbnail+" position: absolute; left: -600px; right: -600px; bottom:0px; margin: 0 auto;",i.Attributes.src=this.BaseURL+"/thumbs/"+this.selectedColor.OptionUId+".png"}var r=n.AddNode("div");r.Attributes.class="text";var l=r.AddNode("span");l.Attributes.style="font-size: "+(this.AvailableSpace.FontSize-1)+"px; font-weight: 300; color: #959698; text-transform: uppercase; "+this.TextStyle,l.Attributes.class="uppercase light",l.AddText(this.Product.Brand),r.AddNode("br");var o=r.AddNode("span");o.Attributes.style="white-space: nowrap; font-size: "+this.AvailableSpace.FontSize+"px; font-weight: 900; color: #353D48; text-transform: uppercase; "+this.TextStyle,o.Attributes.class="uppercase dark bold",o.AddText(this.Product.Name)}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var Xt=function(e){var t=this;this.state_RotateThumbnail=!1,this.state_TextStyle=!1,this.state_VirtualDom=!1;var n=function(){e.RotateThumbnail=e._updateRotateThumbnail(),t.state_RotateThumbnail=!0},a=function(){e.TextStyle=e._updateTextStyle(),t.state_TextStyle=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,a){t.state_RotateThumbnail=f.ScheduleCallback(t.state_RotateThumbnail,n)},l=function(e,a){t.state_RotateThumbnail=f.ScheduleCallback(t.state_RotateThumbnail,n)},o=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)},s=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)},u=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,a)},d=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)},c=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)},h=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)},_=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)};Te.HiddenObserve(e,"Product",(function(e,a){null!=e&&(Te.HiddenForget(e,"Height",r),Te.HiddenForget(e,"Width",l),Te.HiddenForget(e,"Name",o),Te.HiddenForget(e,"Brand",s)),null!=a&&(Te.HiddenObserve(a,"Height",r),Te.HiddenObserve(a,"Width",l),Te.HiddenObserve(a,"Name",o),Te.HiddenObserve(a,"Brand",s)),t.state_RotateThumbnail=f.ScheduleCallback(t.state_RotateThumbnail,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"Settings",(function(e,n){null!=e&&Te.HiddenForget(e,"fontFamily",u),null!=n&&Te.HiddenObserve(n,"fontFamily",u),t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,a)})),Te.HiddenObserve(e,"selectedColor",(function(e,n){null!=e&&Te.HiddenForget(e,"OptionUId",d),null!=n&&Te.HiddenObserve(n,"OptionUId",d),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"AvailableSpace",(function(e,n){null!=e&&(Te.HiddenForget(e,"Width",c),Te.HiddenForget(e,"Height",h),Te.HiddenForget(e,"FontSize",_)),null!=n&&(Te.HiddenObserve(n,"Width",c),Te.HiddenObserve(n,"Height",h),Te.HiddenObserve(n,"FontSize",_)),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"BaseURL",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"ScaleFactor",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"RotateThumbnail",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"TextStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),n(),a(),i()};Xt.__name__=!0;var Yt=function(){Pe.call(this),this.CloseCatalogButtonComponentObserver=new Zt(this)};Yt.__name__=!0,Yt.__super__=Pe,Yt.prototype=i(Pe.prototype,{_updateTitleValue:function(){return null==this.Settings||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.title)},_updateTitle:function(){return null==this.TitleValue?null:this.TitleValue.Value},Mounted:function(){Pe.prototype.Mounted.call(this),window.addEventListener("click",Is(this,this.EndHover))},Unmounted:function(){Pe.prototype.Unmounted.call(this),window.removeEventListener("click",Is(this,this.EndHover))},SensorSizeChanged:function(e,t){this.width=e,this.height=t},_updateIconSize:function(){return 0|Math.min(this.width,this.height)},_updateFlexDirection:function(){if(null==this.Settings||null==this.Settings.alignment)return"row";switch(this.Settings.alignment){case"left":return"row";case"right":return"row-reverse"}},_updateFlexAlign:function(){if(null==this.Settings||null==this.Settings.alignment)return"flex-start";switch(this.Settings.alignment){case"left":return"flex-start";case"right":return"flex-end"}},_updateDisplay:function(){return null!=this.Settings&&(!!this.IsOpened&&this.IsCatalogOpen.Value==this.Settings.product)},_updateStyles:function(){return null==this.Settings||null==this.Settings.styles?null:this.Settings.styles},_updateCombinedIdleStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t];++t,null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderColor&&(e.borderColor=a.borderColor),null!=a.borderStyle&&(e.borderStyle=a.borderStyle))}return e},_updateCombinedHoverStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].hover;null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderColor&&(e.borderColor=a.borderColor),null!=a.borderStyle&&(e.borderStyle=a.borderStyle))}return e},_updateCurrentStyle:function(){var e={},t=this.CombinedIdleStyle;if(null!=t&&(null!=t.fontFamily&&(e.fontFamily=t.fontFamily),null!=t.color&&(e.color=t.color),null!=t.fontWeight&&(e.fontWeight=t.fontWeight),null!=t.fontSize&&(e.fontSize=t.fontSize),null!=t.borderWidth&&(e.borderWidth=t.borderWidth),null!=t.borderColor&&(e.borderColor=t.borderColor),null!=t.borderStyle&&(e.borderStyle=t.borderStyle)),this.isHovered){var n=this.CombinedHoverStyle;null!=n&&(null!=n.fontFamily&&(e.fontFamily=n.fontFamily),null!=n.color&&(e.color=n.color),null!=n.fontWeight&&(e.fontWeight=n.fontWeight),null!=n.fontSize&&(e.fontSize=n.fontSize),null!=n.borderWidth&&(e.borderWidth=n.borderWidth),null!=n.borderColor&&(e.borderColor=n.borderColor),null!=n.borderStyle&&(e.borderStyle=n.borderStyle))}return e},_updateBorderStyle:function(){if(null==this.CurrentStyle)return"";var e="";return Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderWidth)||(e="border-width: "+this.CurrentStyle.borderWidth+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderColor)||(e+="border-color: "+this.CurrentStyle.borderColor+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderStyle)||(e+="border-style: "+this.CurrentStyle.borderStyle+";"),e},_updateTextStyle:function(){if(null==this.CurrentStyle)return"";var e="";return Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontFamily)||(e="font-family: "+this.CurrentStyle.fontFamily+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.color)||(e+="color: "+this.CurrentStyle.color+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontWeight)||(e+="font-weight: "+this.CurrentStyle.fontWeight+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontSize)||(e+="font-size: "+this.CurrentStyle.fontSize+";"),e},_updateIsOpened:function(){return null!=this.IsCatalogOpen&&null!=this.IsCatalogOpen.Value},Click:function(){this.EndHover(),ee.Fire("engaged",new se),this.IsOpened?this.IsCatalogOpen.SetValue(null):this.IsCatalogOpen.SetValue(this.Settings.product)},StartHover:function(){this.isHovered=!0},EndHover:function(){this.isHovered=!1},_updateVirtualDom:function(){var e=this,t=function(t,n){e.SensorSizeChanged(t,n)};t.hash=0;var n=function(){e.StartHover()};n.hash=1;var a=function(){e.EndHover()};a.hash=2;var i=function(){e.Click()};i.hash=3;var r=null;if(this.Display){(r=Fe.CreateNode("div")).Attributes.style="width: 100%; height: 100%";var l=r.AddNode("div");l.Attributes.style="display: flex; justify-content: "+this.FlexAlign+";height:100%",l.AddNode("resizesensor").Events.SizeChanged=t;var o=l.AddNode("div");o.Attributes.tabindex=0,o.Attributes.style="\n            cursor: pointer;\n            pointer-events: all;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n            width: 100%;\n            height: 100%;\n\t\t\t      flex-direction: "+this.FlexDirection+";\n            "+this.BorderStyle+"\n          ",o.Attributes.role="button",o.Events.mouseover=n,o.Events.mouseout=a,o.Events.click=i;var s=o.AddNode("svg");s.Attributes.xmlns="http://www.w3.org/2000/svg",s.Attributes.width="100%",s.Attributes.viewBox="0 0 48 48",s.Attributes.style="\n            left: 0px; \n            right: 0px;\n            width: "+this.IconSize+"px;\n            height: "+this.IconSize+"px;\n            margin-right: "+("left"==this.Settings.alignment?4.8:0)+"px;\n            margin-left: "+("right"==this.Settings.alignment?4.8:0)+"px;\n            fill: "+this.CurrentStyle.color+";\n            "+("right"==this.Settings.product?"transform: rotate(180deg);":"")+"\n            ",s.Attributes.height="100%",s.Attributes.class="dark";var u=s.AddNode("polyline");u.Attributes.style="fill: none; stroke: #353d48",u.Attributes.points="29,14 19,24 29,34";var d=o.AddNode("p");d.Attributes.translate="no",d.Attributes.style="width: auto; height: auto; margin:0; "+this.TextStyle,d.Attributes.class="notranslate",d.AddText("\n          "+this.Title+"\n        ")}return null==r&&(r=Fe.CreateNode(this.converter.GetPlaceholderTag())),r}});var Zt=function(e){var t=this;this.state_TitleValue=!1,this.state_Title=!1,this.state_IconSize=!1,this.state_FlexDirection=!1,this.state_FlexAlign=!1,this.state_Display=!1,this.state_Styles=!1,this.state_CombinedIdleStyle=!1,this.state_CombinedHoverStyle=!1,this.state_CurrentStyle=!1,this.state_BorderStyle=!1,this.state_TextStyle=!1,this.state_IsOpened=!1,this.state_VirtualDom=!1;var n=function(){e.TitleValue=e._updateTitleValue(),t.state_TitleValue=!0},a=function(){e.Title=e._updateTitle(),t.state_Title=!0},i=function(){e.IconSize=e._updateIconSize(),t.state_IconSize=!0},r=function(){e.FlexDirection=e._updateFlexDirection(),t.state_FlexDirection=!0},l=function(){e.FlexAlign=e._updateFlexAlign(),t.state_FlexAlign=!0},o=function(){e.Display=e._updateDisplay(),t.state_Display=!0},s=function(){e.Styles=e._updateStyles(),t.state_Styles=!0},u=function(){e.CombinedIdleStyle=e._updateCombinedIdleStyle(),t.state_CombinedIdleStyle=!0},d=function(){e.CombinedHoverStyle=e._updateCombinedHoverStyle(),t.state_CombinedHoverStyle=!0},c=function(){e.CurrentStyle=e._updateCurrentStyle(),t.state_CurrentStyle=!0},h=function(){e.BorderStyle=e._updateBorderStyle(),t.state_BorderStyle=!0},_=function(){e.TextStyle=e._updateTextStyle(),t.state_TextStyle=!0},g=function(){e.IsOpened=e._updateIsOpened(),t.state_IsOpened=!0},b=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},v=function(e,a){t.state_TitleValue=f.ScheduleCallback(t.state_TitleValue,n)},S=function(e,n){t.state_FlexDirection=f.ScheduleCallback(t.state_FlexDirection,r),t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)},p=function(e,n){t.state_Display=f.ScheduleCallback(t.state_Display,o),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)},m=function(e,n){t.state_Styles=f.ScheduleCallback(t.state_Styles,s)},C=function(e,n){t.state_Title=f.ScheduleCallback(t.state_Title,a)},y=function(e,n){t.state_Display=f.ScheduleCallback(t.state_Display,o),t.state_IsOpened=f.ScheduleCallback(t.state_IsOpened,g)},k=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},H=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},V=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},O=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},F=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},w=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},x=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},D=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},P=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},A=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},I=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},T=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},M=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},R=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},N=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",D),Te.HiddenForget(e,"color",P),Te.HiddenForget(e,"fontWeight",A),Te.HiddenForget(e,"fontSize",I),Te.HiddenForget(e,"borderWidth",T),Te.HiddenForget(e,"borderColor",M),Te.HiddenForget(e,"borderStyle",R)),null!=n&&(Te.HiddenObserve(n,"fontFamily",D),Te.HiddenObserve(n,"color",P),Te.HiddenObserve(n,"fontWeight",A),Te.HiddenObserve(n,"fontSize",I),Te.HiddenObserve(n,"borderWidth",T),Te.HiddenObserve(n,"borderColor",M),Te.HiddenObserve(n,"borderStyle",R)),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},L=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},B=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},E=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},W=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},U=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},z=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},G=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},X=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},Y=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},Z=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},Q=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},j=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},q=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},K=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},J=function(e,n){t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h)},$=function(e,n){t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h)},ee=function(e,n){t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h)},te=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_)},ne=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)},ae=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_)},ie=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"title",v),Te.HiddenForget(e,"alignment",S),Te.HiddenForget(e,"product",p),Te.HiddenForget(e,"styles",m)),null!=a&&(Te.HiddenObserve(a,"title",v),Te.HiddenObserve(a,"alignment",S),Te.HiddenObserve(a,"product",p),Te.HiddenObserve(a,"styles",m)),t.state_TitleValue=f.ScheduleCallback(t.state_TitleValue,n),t.state_FlexDirection=f.ScheduleCallback(t.state_FlexDirection,r),t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,l),t.state_Display=f.ScheduleCallback(t.state_Display,o),t.state_Styles=f.ScheduleCallback(t.state_Styles,s),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"StringFactory",(function(e,a){t.state_TitleValue=f.ScheduleCallback(t.state_TitleValue,n)})),Te.HiddenObserve(e,"TitleValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",C),null!=n&&Te.HiddenObserve(n,"Value",C),t.state_Title=f.ScheduleCallback(t.state_Title,a)})),Te.HiddenObserve(e,"width",(function(e,n){t.state_IconSize=f.ScheduleCallback(t.state_IconSize,i)})),Te.HiddenObserve(e,"height",(function(e,n){t.state_IconSize=f.ScheduleCallback(t.state_IconSize,i)})),Te.HiddenObserve(e,"IsOpened",(function(e,n){t.state_Display=f.ScheduleCallback(t.state_Display,o)})),Te.HiddenObserve(e,"IsCatalogOpen",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",y),null!=n&&Te.HiddenObserve(n,"Value",y),t.state_Display=f.ScheduleCallback(t.state_Display,o),t.state_IsOpened=f.ScheduleCallback(t.state_IsOpened,g)})),Te.HiddenObserve(e,"Styles",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",k),Te.HiddenForget(e,"color",H),Te.HiddenForget(e,"fontWeight",V),Te.HiddenForget(e,"fontSize",O),Te.HiddenForget(e,"borderWidth",F),Te.HiddenForget(e,"borderColor",w),Te.HiddenForget(e,"borderStyle",x),Te.HiddenForget(e,"hover",N)),null!=n&&(Te.HiddenObserve(n,"fontFamily",k),Te.HiddenObserve(n,"color",H),Te.HiddenObserve(n,"fontWeight",V),Te.HiddenObserve(n,"fontSize",O),Te.HiddenObserve(n,"borderWidth",F),Te.HiddenObserve(n,"borderColor",w),Te.HiddenObserve(n,"borderStyle",x),Te.HiddenObserve(n,"hover",N)),t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)})),Te.HiddenObserve(e,"CombinedIdleStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",L),Te.HiddenForget(e,"color",B),Te.HiddenForget(e,"fontWeight",E),Te.HiddenForget(e,"fontSize",W),Te.HiddenForget(e,"borderWidth",U),Te.HiddenForget(e,"borderColor",z),Te.HiddenForget(e,"borderStyle",G)),null!=n&&(Te.HiddenObserve(n,"fontFamily",L),Te.HiddenObserve(n,"color",B),Te.HiddenObserve(n,"fontWeight",E),Te.HiddenObserve(n,"fontSize",W),Te.HiddenObserve(n,"borderWidth",U),Te.HiddenObserve(n,"borderColor",z),Te.HiddenObserve(n,"borderStyle",G)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"isHovered",(function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"CombinedHoverStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",X),Te.HiddenForget(e,"color",Y),Te.HiddenForget(e,"fontWeight",Z),Te.HiddenForget(e,"fontSize",Q),Te.HiddenForget(e,"borderWidth",j),Te.HiddenForget(e,"borderColor",q),Te.HiddenForget(e,"borderStyle",K)),null!=n&&(Te.HiddenObserve(n,"fontFamily",X),Te.HiddenObserve(n,"color",Y),Te.HiddenObserve(n,"fontWeight",Z),Te.HiddenObserve(n,"fontSize",Q),Te.HiddenObserve(n,"borderWidth",j),Te.HiddenObserve(n,"borderColor",q),Te.HiddenObserve(n,"borderStyle",K)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"CurrentStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"borderWidth",J),Te.HiddenForget(e,"borderColor",$),Te.HiddenForget(e,"borderStyle",ee),Te.HiddenForget(e,"fontFamily",te),Te.HiddenForget(e,"color",ne),Te.HiddenForget(e,"fontWeight",ae),Te.HiddenForget(e,"fontSize",ie)),null!=n&&(Te.HiddenObserve(n,"borderWidth",J),Te.HiddenObserve(n,"borderColor",$),Te.HiddenObserve(n,"borderStyle",ee),Te.HiddenObserve(n,"fontFamily",te),Te.HiddenObserve(n,"color",ne),Te.HiddenObserve(n,"fontWeight",ae),Te.HiddenObserve(n,"fontSize",ie)),t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h),t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"FlexAlign",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"FlexDirection",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"BorderStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"IconSize",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"TextStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"Title",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),n(),a(),i(),r(),l(),o(),s(),u(),d(),c(),h(),_(),g(),b()};Zt.__name__=!0;var Qt=function(){Pe.call(this),this.OpenCatalogButtonComponentObserver=new jt(this)};Qt.__name__=!0,Qt.__super__=Pe,Qt.prototype=i(Pe.prototype,{_updateProduct:function(){if(null==this.Settings||null==this.Settings.product)return null;switch(this.Settings.product){case"left":return this.CatalogManager.SelectedLeftProduct;case"right":return this.CatalogManager.SelectedRightProduct}},_updateTitle:function(){return null==this.Product?null:this.Product.Brand+" "+this.Product.Name},Mounted:function(){Pe.prototype.Mounted.call(this),window.addEventListener("click",Is(this,this.EndHover))},Unmounted:function(){Pe.prototype.Unmounted.call(this),window.removeEventListener("click",Is(this,this.EndHover))},SensorSizeChanged:function(e,t){this.width=e,this.height=t},_updateIconSize:function(){return 0|Math.min(this.width,this.height)},_updateFlexDirection:function(){if(null==this.Settings||null==this.Settings.alignment)return"row";switch(this.Settings.alignment){case"left":return"row";case"right":return"row-reverse"}},_updateFlexAlign:function(){if(null==this.Settings||null==this.Settings.alignment)return"flex-start";switch(this.Settings.alignment){case"left":return"flex-start";case"right":return"flex-end"}},_updateDisplay:function(){return null!=this.Settings&&!this.IsOpened},_updateStyles:function(){return null==this.Settings||null==this.Settings.styles?null:this.Settings.styles},_updateCombinedIdleStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t];++t,null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderColor&&(e.borderColor=a.borderColor),null!=a.borderStyle&&(e.borderStyle=a.borderStyle))}return e},_updateCombinedHoverStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].hover;null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderColor&&(e.borderColor=a.borderColor),null!=a.borderStyle&&(e.borderStyle=a.borderStyle))}return e},_updateCurrentStyle:function(){var e={},t=this.CombinedIdleStyle;if(null!=t&&(null!=t.fontFamily&&(e.fontFamily=t.fontFamily),null!=t.color&&(e.color=t.color),null!=t.fontWeight&&(e.fontWeight=t.fontWeight),null!=t.fontSize&&(e.fontSize=t.fontSize),null!=t.borderWidth&&(e.borderWidth=t.borderWidth),null!=t.borderColor&&(e.borderColor=t.borderColor),null!=t.borderStyle&&(e.borderStyle=t.borderStyle)),this.isHovered){var n=this.CombinedHoverStyle;null!=n&&(null!=n.fontFamily&&(e.fontFamily=n.fontFamily),null!=n.color&&(e.color=n.color),null!=n.fontWeight&&(e.fontWeight=n.fontWeight),null!=n.fontSize&&(e.fontSize=n.fontSize),null!=n.borderWidth&&(e.borderWidth=n.borderWidth),null!=n.borderColor&&(e.borderColor=n.borderColor),null!=n.borderStyle&&(e.borderStyle=n.borderStyle))}return e},_updateBorderStyle:function(){if(null==this.CurrentStyle)return"";var e="";return Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderWidth)||(e="border-width: "+this.CurrentStyle.borderWidth+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderColor)||(e+="border-color: "+this.CurrentStyle.borderColor+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.borderStyle)||(e+="border-style: "+this.CurrentStyle.borderStyle+";"),e},_updateTextStyle:function(){if(null==this.CurrentStyle)return"";var e="";return Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontFamily)||(e="font-family: "+this.CurrentStyle.fontFamily+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.color)||(e+="color: "+this.CurrentStyle.color+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontWeight)||(e+="font-weight: "+this.CurrentStyle.fontWeight+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontSize)||(e+="font-size: "+this.CurrentStyle.fontSize+";"),e},_updateIsOpened:function(){return null!=this.IsCatalogOpen&&null!=this.IsCatalogOpen.Value},Click:function(){this.EndHover(),ee.Fire("engaged",new se),this.IsOpened?this.IsCatalogOpen.SetValue(null):this.IsCatalogOpen.SetValue(this.Settings.product)},StartHover:function(){this.isHovered=!0},EndHover:function(){this.isHovered=!1},_updateVirtualDom:function(){var e=this,t=function(t,n){e.SensorSizeChanged(t,n)};t.hash=0;var n=function(){e.StartHover()};n.hash=1;var a=function(){e.EndHover()};a.hash=2;var i=function(){e.Click()};i.hash=3;var r=null;if(this.Display){(r=Fe.CreateNode("div")).Attributes.style="width: 100%; height: 100%";var l=r.AddNode("div");l.Attributes.style="display: flex; justify-content: "+this.FlexAlign+";height:100%",l.AddNode("resizesensor").Events.SizeChanged=t;var o=l.AddNode("div");o.Attributes.tabindex=0,o.Attributes.style="\n            cursor: pointer;\n            pointer-events: all;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n            width: 100%;\n            height: 100%;\n\t\t\t      flex-direction: "+this.FlexDirection+";\n            "+this.BorderStyle+"\n          ",o.Attributes.role="button",o.Events.mouseover=n,o.Events.mouseout=a,o.Events.click=i;var s=o.AddNode("svg");s.Attributes.xmlns="http://www.w3.org/2000/svg",s.Attributes.width="66%",s.Attributes.viewBox="0 0 33.46 23.46",s.Attributes.style="\t\t\t\t      \n            left: 0px; \n            right: 0px;\n            width: "+this.IconSize+"px;\n            height: "+this.IconSize+"px;\n            margin-right: "+("left"==this.Settings.alignment?4.8:0)+"px;\n            margin-left: "+("right"==this.Settings.alignment?4.8:0)+"px;\n            fill: "+this.CurrentStyle.color+";\n            padding:0 6px;\n            box-sizing: border-box;\n            ",s.Attributes.height="100%",s.Attributes.class="dark";var u=s.AddNode("path");u.Attributes.transform="translate(-116.77 -37.77)",u.Attributes.style="fill-rule: evenodd",u.Attributes.d="M127,49l-10-5.5,10-5.5v5h20v1H127v5Zm13,1,10.012,5.5L140,61V56H121V55h19V50Z";var d=o.AddNode("p");d.Attributes.translate="no",d.Attributes.style="width: auto; height: auto; margin:0; "+this.TextStyle+";",d.Attributes.class="notranslate",d.AddText("\n          "+this.Title+"\n        ")}return null==r&&(r=Fe.CreateNode(this.converter.GetPlaceholderTag())),r}});var jt=function(e){var t=this;this.state_Product=!1,this.state_Title=!1,this.state_IconSize=!1,this.state_FlexDirection=!1,this.state_FlexAlign=!1,this.state_Display=!1,this.state_Styles=!1,this.state_CombinedIdleStyle=!1,this.state_CombinedHoverStyle=!1,this.state_CurrentStyle=!1,this.state_BorderStyle=!1,this.state_TextStyle=!1,this.state_IsOpened=!1,this.state_VirtualDom=!1;var n=function(){e.Product=e._updateProduct(),t.state_Product=!0},a=function(){e.Title=e._updateTitle(),t.state_Title=!0},i=function(){e.IconSize=e._updateIconSize(),t.state_IconSize=!0},r=function(){e.FlexDirection=e._updateFlexDirection(),t.state_FlexDirection=!0},l=function(){e.FlexAlign=e._updateFlexAlign(),t.state_FlexAlign=!0},o=function(){e.Display=e._updateDisplay(),t.state_Display=!0},s=function(){e.Styles=e._updateStyles(),t.state_Styles=!0},u=function(){e.CombinedIdleStyle=e._updateCombinedIdleStyle(),t.state_CombinedIdleStyle=!0},d=function(){e.CombinedHoverStyle=e._updateCombinedHoverStyle(),t.state_CombinedHoverStyle=!0},c=function(){e.CurrentStyle=e._updateCurrentStyle(),t.state_CurrentStyle=!0},h=function(){e.BorderStyle=e._updateBorderStyle(),t.state_BorderStyle=!0},_=function(){e.TextStyle=e._updateTextStyle(),t.state_TextStyle=!0},g=function(){e.IsOpened=e._updateIsOpened(),t.state_IsOpened=!0},b=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},v=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},S=function(e,n){t.state_FlexDirection=f.ScheduleCallback(t.state_FlexDirection,r),t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)},p=function(e,n){t.state_Styles=f.ScheduleCallback(t.state_Styles,s)},m=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},C=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},y=function(e,n){t.state_Title=f.ScheduleCallback(t.state_Title,a)},k=function(e,n){t.state_Title=f.ScheduleCallback(t.state_Title,a)},H=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},V=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},O=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},F=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},w=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},x=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},D=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u)},P=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},A=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},I=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},T=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},M=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},R=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},N=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},L=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",P),Te.HiddenForget(e,"color",A),Te.HiddenForget(e,"fontWeight",I),Te.HiddenForget(e,"fontSize",T),Te.HiddenForget(e,"borderWidth",M),Te.HiddenForget(e,"borderColor",R),Te.HiddenForget(e,"borderStyle",N)),null!=n&&(Te.HiddenObserve(n,"fontFamily",P),Te.HiddenObserve(n,"color",A),Te.HiddenObserve(n,"fontWeight",I),Te.HiddenObserve(n,"fontSize",T),Te.HiddenObserve(n,"borderWidth",M),Te.HiddenObserve(n,"borderColor",R),Te.HiddenObserve(n,"borderStyle",N)),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)},B=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},E=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},W=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},U=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},z=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},G=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},X=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},Y=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},Z=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},Q=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},j=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},q=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},K=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},J=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},$=function(e,n){t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h)},ee=function(e,n){t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h)},te=function(e,n){t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h)},ne=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_)},ae=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)},ie=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_)},re=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_)},le=function(e,n){t.state_IsOpened=f.ScheduleCallback(t.state_IsOpened,g)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"product",v),Te.HiddenForget(e,"alignment",S),Te.HiddenForget(e,"styles",p)),null!=a&&(Te.HiddenObserve(a,"product",v),Te.HiddenObserve(a,"alignment",S),Te.HiddenObserve(a,"styles",p)),t.state_Product=f.ScheduleCallback(t.state_Product,n),t.state_FlexDirection=f.ScheduleCallback(t.state_FlexDirection,r),t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,l),t.state_Display=f.ScheduleCallback(t.state_Display,o),t.state_Styles=f.ScheduleCallback(t.state_Styles,s),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"CatalogManager",(function(e,a){null!=e&&(Te.HiddenForget(e,"SelectedLeftProduct",m),Te.HiddenForget(e,"SelectedRightProduct",C)),null!=a&&(Te.HiddenObserve(a,"SelectedLeftProduct",m),Te.HiddenObserve(a,"SelectedRightProduct",C)),t.state_Product=f.ScheduleCallback(t.state_Product,n)})),Te.HiddenObserve(e,"Product",(function(e,n){null!=e&&(Te.HiddenForget(e,"Brand",y),Te.HiddenForget(e,"Name",k)),null!=n&&(Te.HiddenObserve(n,"Brand",y),Te.HiddenObserve(n,"Name",k)),t.state_Title=f.ScheduleCallback(t.state_Title,a)})),Te.HiddenObserve(e,"width",(function(e,n){t.state_IconSize=f.ScheduleCallback(t.state_IconSize,i)})),Te.HiddenObserve(e,"height",(function(e,n){t.state_IconSize=f.ScheduleCallback(t.state_IconSize,i)})),Te.HiddenObserve(e,"IsOpened",(function(e,n){t.state_Display=f.ScheduleCallback(t.state_Display,o)})),Te.HiddenObserve(e,"Styles",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",H),Te.HiddenForget(e,"color",V),Te.HiddenForget(e,"fontWeight",O),Te.HiddenForget(e,"fontSize",F),Te.HiddenForget(e,"borderWidth",w),Te.HiddenForget(e,"borderColor",x),Te.HiddenForget(e,"borderStyle",D),Te.HiddenForget(e,"hover",L)),null!=n&&(Te.HiddenObserve(n,"fontFamily",H),Te.HiddenObserve(n,"color",V),Te.HiddenObserve(n,"fontWeight",O),Te.HiddenObserve(n,"fontSize",F),Te.HiddenObserve(n,"borderWidth",w),Te.HiddenObserve(n,"borderColor",x),Te.HiddenObserve(n,"borderStyle",D),Te.HiddenObserve(n,"hover",L)),t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,u),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,d)})),Te.HiddenObserve(e,"CombinedIdleStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",B),Te.HiddenForget(e,"color",E),Te.HiddenForget(e,"fontWeight",W),Te.HiddenForget(e,"fontSize",U),Te.HiddenForget(e,"borderWidth",z),Te.HiddenForget(e,"borderColor",G),Te.HiddenForget(e,"borderStyle",X)),null!=n&&(Te.HiddenObserve(n,"fontFamily",B),Te.HiddenObserve(n,"color",E),Te.HiddenObserve(n,"fontWeight",W),Te.HiddenObserve(n,"fontSize",U),Te.HiddenObserve(n,"borderWidth",z),Te.HiddenObserve(n,"borderColor",G),Te.HiddenObserve(n,"borderStyle",X)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"isHovered",(function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"CombinedHoverStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",Y),Te.HiddenForget(e,"color",Z),Te.HiddenForget(e,"fontWeight",Q),Te.HiddenForget(e,"fontSize",j),Te.HiddenForget(e,"borderWidth",q),Te.HiddenForget(e,"borderColor",K),Te.HiddenForget(e,"borderStyle",J)),null!=n&&(Te.HiddenObserve(n,"fontFamily",Y),Te.HiddenObserve(n,"color",Z),Te.HiddenObserve(n,"fontWeight",Q),Te.HiddenObserve(n,"fontSize",j),Te.HiddenObserve(n,"borderWidth",q),Te.HiddenObserve(n,"borderColor",K),Te.HiddenObserve(n,"borderStyle",J)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"CurrentStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"borderWidth",$),Te.HiddenForget(e,"borderColor",ee),Te.HiddenForget(e,"borderStyle",te),Te.HiddenForget(e,"fontFamily",ne),Te.HiddenForget(e,"color",ae),Te.HiddenForget(e,"fontWeight",ie),Te.HiddenForget(e,"fontSize",re)),null!=n&&(Te.HiddenObserve(n,"borderWidth",$),Te.HiddenObserve(n,"borderColor",ee),Te.HiddenObserve(n,"borderStyle",te),Te.HiddenObserve(n,"fontFamily",ne),Te.HiddenObserve(n,"color",ae),Te.HiddenObserve(n,"fontWeight",ie),Te.HiddenObserve(n,"fontSize",re)),t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,h),t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,_),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"IsCatalogOpen",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",le),null!=n&&Te.HiddenObserve(n,"Value",le),t.state_IsOpened=f.ScheduleCallback(t.state_IsOpened,g)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"FlexAlign",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"FlexDirection",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"BorderStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"IconSize",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"TextStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),Te.HiddenObserve(e,"Title",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,b)})),n(),a(),i(),r(),l(),o(),s(),u(),d(),c(),h(),_(),g(),b()};jt.__name__=!0;var qt=function(){Pe.call(this),this.CatalogColorPickerButtonComponentObserver=new Kt(this)};qt.__name__=!0,qt.__super__=Pe,qt.prototype=i(Pe.prototype,{Mounted:function(){Pe.prototype.Mounted.call(this),window.addEventListener("click",Is(this,this.EndHover))},Unmounted:function(){Pe.prototype.Unmounted.call(this),window.removeEventListener("click",Is(this,this.EndHover))},_updateCircleSize:function(){return 0|Math.min(this.width,this.height)},_updateFlexDirection:function(){if(null==this.Settings||null==this.Settings.alignment)return"row";switch(this.Settings.alignment){case"left":return"row";case"right":return"row-reverse"}},_updateFlexAlign:function(){if(null==this.Settings||null==this.Settings.alignment)return"flex-start";switch(this.Settings.alignment){case"left":return"flex-start";case"right":return"flex-end"}},_updateDisplay:function(){return null!=this.Settings&&null!=this.Color},_updateShowColorNames:function(){return null!=this.Settings&&null!=this.Settings.showColorNames&&this.Settings.showColorNames},_updateStyles:function(){return null==this.Settings||null==this.Settings.styles?null:this.Settings.styles},_updateCombinedIdleStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t];++t,null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize))}return e},_updateCombinedHoverStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].hover;null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize))}return e},_updateCombinedActiveStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].active;null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize))}return e},_updateCurrentStyle:function(){var e={},t=this.CombinedIdleStyle;if(null!=t&&(null!=t.fontFamily&&(e.fontFamily=t.fontFamily),null!=t.color&&(e.color=t.color),null!=t.fontWeight&&(e.fontWeight=t.fontWeight),null!=t.fontSize&&(e.fontSize=t.fontSize)),this.IsActive){var n=this.CombinedActiveStyle;null!=n&&(null!=n.fontFamily&&(e.fontFamily=n.fontFamily),null!=n.color&&(e.color=n.color),null!=n.fontWeight&&(e.fontWeight=n.fontWeight),null!=n.fontSize&&(e.fontSize=n.fontSize))}else if(this.isHovered){var a=this.CombinedHoverStyle;null!=a&&(null!=a.fontFamily&&(e.fontFamily=a.fontFamily),null!=a.color&&(e.color=a.color),null!=a.fontWeight&&(e.fontWeight=a.fontWeight),null!=a.fontSize&&(e.fontSize=a.fontSize))}return e},_updateTextStyle:function(){if(null==this.CurrentStyle)return"";var e="";return Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontFamily)||(e="font-family: "+this.CurrentStyle.fontFamily+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.color)||(e+="color: "+this.CurrentStyle.color+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontWeight)||(e+="font-weight: "+this.CurrentStyle.fontWeight+";"),Hs.IsNullOrWhiteSpace(this.CurrentStyle.fontSize)||(e+="font-size: "+this.CurrentStyle.fontSize+";"),e},Click:function(){this.EndHover(),ee.Fire("engaged",new se),this.FireEvent("click")},StartHover:function(){this.isHovered=!0},EndHover:function(){this.isHovered=!1},_updateVirtualDom:function(){var e=this,t=function(){e.StartHover()};t.hash=0;var n=function(){e.EndHover()};n.hash=1;var a=function(){e.Click()};a.hash=2;var i=null;if(this.Display){(i=Fe.CreateNode("div")).Attributes.style="width: 100%; height: 100%";var r=i.AddNode("div");r.Attributes.style="display: flex; justify-content: "+this.FlexAlign+";height:100%;";var l=r.AddNode("div");l.Attributes.tabindex=0,l.Attributes.style="\n            cursor: pointer;\n            pointer-events: all;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n\t\t\t      flex-direction: "+this.FlexDirection+";\n            "+(this.ShowBottomLine?"border-bottom: 1px solid #cccccc; box-sizing: border-box":"")+"\n          ",l.Attributes.role="button",l.Events.mouseover=t,l.Events.mouseout=n,l.Events.click=a;var o=l.AddNode("svg");if(o.Attributes.viewBox="0 0 48 48",o.Attributes.style="\n\t\t\t\t      left: 0px; \n\t\t\t\t      right: 0px;\n\t\t\t\t      width: "+this.CircleSize+"px;\n            \theight: "+this.CircleSize+"px;\n              margin-right: "+("left"==this.Settings.alignment?4.8:0)+"px;\n              margin-left: "+("right"==this.Settings.alignment?4.8:0)+"px;\n              visibility: "+(this.HideCircle?"hidden":"visible")+"\n\t\t\t      ",o.Attributes.class="colorswatch",this.IsActive){var s=o.AddNode("circle");s.Attributes["stroke-width"]=2,s.Attributes.stroke="rgb(93, 107, 125)",s.Attributes.r=17,s.Attributes.fill="white",s.Attributes.cy=24,s.Attributes.cx=24}var u=o.AddNode("circle");if(u.Attributes["stroke-width"]=1,u.Attributes.stroke="#666",u.Attributes.r=14,u.Attributes.fill=this.Color.Hex,u.Attributes.cy=24,u.Attributes.cx=24,this.ShowColorNames){var d=l.AddNode("p");d.Attributes.translate="no",d.Attributes.style="width: auto; height: auto; margin:0; "+this.TextStyle,d.Attributes.class="notranslate",d.AddText("\n            "+this.Color.Name+"\n          ")}}return null==i&&(i=Fe.CreateNode(this.converter.GetPlaceholderTag())),i}});var Kt=function(e){var t=this;this.state_CircleSize=!1,this.state_FlexDirection=!1,this.state_FlexAlign=!1,this.state_Display=!1,this.state_ShowColorNames=!1,this.state_Styles=!1,this.state_CombinedIdleStyle=!1,this.state_CombinedHoverStyle=!1,this.state_CombinedActiveStyle=!1,this.state_CurrentStyle=!1,this.state_TextStyle=!1,this.state_VirtualDom=!1;var n=function(){e.CircleSize=e._updateCircleSize(),t.state_CircleSize=!0},a=function(){e.FlexDirection=e._updateFlexDirection(),t.state_FlexDirection=!0},i=function(){e.FlexAlign=e._updateFlexAlign(),t.state_FlexAlign=!0},r=function(){e.Display=e._updateDisplay(),t.state_Display=!0},l=function(){e.ShowColorNames=e._updateShowColorNames(),t.state_ShowColorNames=!0},o=function(){e.Styles=e._updateStyles(),t.state_Styles=!0},s=function(){e.CombinedIdleStyle=e._updateCombinedIdleStyle(),t.state_CombinedIdleStyle=!0},u=function(){e.CombinedHoverStyle=e._updateCombinedHoverStyle(),t.state_CombinedHoverStyle=!0},d=function(){e.CombinedActiveStyle=e._updateCombinedActiveStyle(),t.state_CombinedActiveStyle=!0},c=function(){e.CurrentStyle=e._updateCurrentStyle(),t.state_CurrentStyle=!0},h=function(){e.TextStyle=e._updateTextStyle(),t.state_TextStyle=!0},_=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},g=function(e,n){t.state_FlexDirection=f.ScheduleCallback(t.state_FlexDirection,a),t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,i),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)},b=function(e,n){t.state_ShowColorNames=f.ScheduleCallback(t.state_ShowColorNames,l)},v=function(e,n){t.state_Styles=f.ScheduleCallback(t.state_Styles,o)},S=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)},p=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)},m=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,s)},C=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,s)},y=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,s)},k=function(e,n){t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,s)},H=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,u)},V=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,u)},O=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,u)},F=function(e,n){t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,u)},w=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",H),Te.HiddenForget(e,"color",V),Te.HiddenForget(e,"fontWeight",O),Te.HiddenForget(e,"fontSize",F)),null!=n&&(Te.HiddenObserve(n,"fontFamily",H),Te.HiddenObserve(n,"color",V),Te.HiddenObserve(n,"fontWeight",O),Te.HiddenObserve(n,"fontSize",F)),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,u)},x=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,d)},D=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,d)},P=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,d)},A=function(e,n){t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,d)},I=function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",x),Te.HiddenForget(e,"color",D),Te.HiddenForget(e,"fontWeight",P),Te.HiddenForget(e,"fontSize",A)),null!=n&&(Te.HiddenObserve(n,"fontFamily",x),Te.HiddenObserve(n,"color",D),Te.HiddenObserve(n,"fontWeight",P),Te.HiddenObserve(n,"fontSize",A)),t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,d)},T=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},M=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},R=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},N=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},L=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},B=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},E=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},W=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},U=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},z=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},G=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},X=function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)},Y=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,h)},Z=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,h)},Q=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,h)},j=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,h)};Te.HiddenObserve(e,"width",(function(e,a){t.state_CircleSize=f.ScheduleCallback(t.state_CircleSize,n)})),Te.HiddenObserve(e,"height",(function(e,a){t.state_CircleSize=f.ScheduleCallback(t.state_CircleSize,n)})),Te.HiddenObserve(e,"Settings",(function(e,n){null!=e&&(Te.HiddenForget(e,"alignment",g),Te.HiddenForget(e,"showColorNames",b),Te.HiddenForget(e,"styles",v)),null!=n&&(Te.HiddenObserve(n,"alignment",g),Te.HiddenObserve(n,"showColorNames",b),Te.HiddenObserve(n,"styles",v)),t.state_FlexDirection=f.ScheduleCallback(t.state_FlexDirection,a),t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,i),t.state_Display=f.ScheduleCallback(t.state_Display,r),t.state_ShowColorNames=f.ScheduleCallback(t.state_ShowColorNames,l),t.state_Styles=f.ScheduleCallback(t.state_Styles,o),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"Color",(function(e,n){null!=e&&(Te.HiddenForget(e,"Hex",S),Te.HiddenForget(e,"Name",p)),null!=n&&(Te.HiddenObserve(n,"Hex",S),Te.HiddenObserve(n,"Name",p)),t.state_Display=f.ScheduleCallback(t.state_Display,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"Styles",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",m),Te.HiddenForget(e,"color",C),Te.HiddenForget(e,"fontWeight",y),Te.HiddenForget(e,"fontSize",k),Te.HiddenForget(e,"hover",w),Te.HiddenForget(e,"active",I)),null!=n&&(Te.HiddenObserve(n,"fontFamily",m),Te.HiddenObserve(n,"color",C),Te.HiddenObserve(n,"fontWeight",y),Te.HiddenObserve(n,"fontSize",k),Te.HiddenObserve(n,"hover",w),Te.HiddenObserve(n,"active",I)),t.state_CombinedIdleStyle=f.ScheduleCallback(t.state_CombinedIdleStyle,s),t.state_CombinedHoverStyle=f.ScheduleCallback(t.state_CombinedHoverStyle,u),t.state_CombinedActiveStyle=f.ScheduleCallback(t.state_CombinedActiveStyle,d)})),Te.HiddenObserve(e,"CombinedIdleStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",T),Te.HiddenForget(e,"color",M),Te.HiddenForget(e,"fontWeight",R),Te.HiddenForget(e,"fontSize",N)),null!=n&&(Te.HiddenObserve(n,"fontFamily",T),Te.HiddenObserve(n,"color",M),Te.HiddenObserve(n,"fontWeight",R),Te.HiddenObserve(n,"fontSize",N)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"IsActive",(function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"CombinedActiveStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",L),Te.HiddenForget(e,"color",B),Te.HiddenForget(e,"fontWeight",E),Te.HiddenForget(e,"fontSize",W)),null!=n&&(Te.HiddenObserve(n,"fontFamily",L),Te.HiddenObserve(n,"color",B),Te.HiddenObserve(n,"fontWeight",E),Te.HiddenObserve(n,"fontSize",W)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"isHovered",(function(e,n){t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"CombinedHoverStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",U),Te.HiddenForget(e,"color",z),Te.HiddenForget(e,"fontWeight",G),Te.HiddenForget(e,"fontSize",X)),null!=n&&(Te.HiddenObserve(n,"fontFamily",U),Te.HiddenObserve(n,"color",z),Te.HiddenObserve(n,"fontWeight",G),Te.HiddenObserve(n,"fontSize",X)),t.state_CurrentStyle=f.ScheduleCallback(t.state_CurrentStyle,c)})),Te.HiddenObserve(e,"CurrentStyle",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",Y),Te.HiddenForget(e,"color",Z),Te.HiddenForget(e,"fontWeight",Q),Te.HiddenForget(e,"fontSize",j)),null!=n&&(Te.HiddenObserve(n,"fontFamily",Y),Te.HiddenObserve(n,"color",Z),Te.HiddenObserve(n,"fontWeight",Q),Te.HiddenObserve(n,"fontSize",j)),t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,h)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"FlexAlign",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"FlexDirection",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"ShowBottomLine",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"CircleSize",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"HideCircle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"ShowColorNames",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),Te.HiddenObserve(e,"TextStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,_)})),n(),a(),i(),r(),l(),o(),s(),u(),d(),c(),h(),_()};Kt.__name__=!0;var Jt=function(){Pe.call(this),this.CatalogColorPickerComponentObserver=new $t(this)};Jt.__name__=!0,Jt.__super__=Pe,Jt.prototype=i(Pe.prototype,{SensorSizeChanged:function(e,t){this.width=e,this.height=t},_updatetriangleSize:function(){return null==this.height?0:5},_updateDisplay:function(){return null!=this.Settings&&null!=this.Settings},_updateProduct:function(){if(null==this.Settings||null==this.Settings.product)return null;switch(this.Settings.product){case"left":return this.CatalogManager.SelectedLeftProduct;case"right":return this.CatalogManager.SelectedRightProduct}},_updateColor:function(){if(null==this.Settings||null==this.Settings.product)return null;switch(this.Settings.product){case"left":return this.CatalogManager.SelectedLeftColor;case"right":return this.CatalogManager.SelectedRightColor}},_updateColors:function(){return null==this.Product?[]:this.Product.Colors},ToggleOpen:function(){this.CatalogManager.isColorPickerExpanded=!this.CatalogManager.isColorPickerExpanded},OnSelectColor:function(e){if(null!=this.Colors){var t=this.Colors[e];switch(this.Settings.product){case"left":this.CatalogManager.SelectLeftColor(t.OptionUId);break;case"right":this.CatalogManager.SelectRightColor(t.OptionUId)}this.CatalogManager.isColorPickerExpanded=!1}},_updateVirtualDom:function(){var e=this,t=function(t,n){e.SensorSizeChanged(t,n)};t.hash=0;var n=function(){e.ToggleOpen()};n.hash=1;var a=function(t){var n=function(){e.OnSelectColor(t)};return n.hash="2-"+Ie.GetId(t),n},i=null;if(this.Display){(i=Fe.CreateNode("div")).Attributes.style="width: 100%; height: 100%",i.AddNode("resizesensor").Events.SizeChanged=t,this.CatalogManager.isColorPickerExpanded||(i.AddNode("div").Attributes.style="position: absolute; top: 0px; bottom: 0px; margin: auto;\n        width: 0; \n        height: 0; \n        border-left: "+this.triangleSize+"px solid transparent;\n        border-right: "+this.triangleSize+"px solid transparent;\n        border-top: "+(this.triangleSize-1)+"px solid rgba(0,0,0,0.3);\n        right: "+("right"==this.Settings.alignment?"auto":"100%")+";\n        left: "+("left"==this.Settings.alignment?"auto":"100%")+";\n    "),this.CatalogManager.isColorPickerExpanded&&(i.AddNode("div").Attributes.style="position: absolute; top: 0px; bottom: 0px; margin: auto;\n        width: 0; \n        height: 0; \n        border-left: "+this.triangleSize+"px solid transparent;\n        border-right: "+this.triangleSize+"px solid transparent;\n        border-bottom: "+(this.triangleSize-1)+"px solid rgba(0,0,0,0.3);\n        left: "+("left"==this.Settings.alignment?this.height/2-this.triangleSize+"px":"auto")+";\n        right: "+("left"==this.Settings.alignment?"auto":this.height/2-this.triangleSize+"px")+";\n    ");var r=i.AddNode("catalogcolorpickerbutton");if(r.Attributes.width=this.width,r.Events.click=n,r.Attributes.height=this.height,r.Attributes.StringFactory=this.StringFactory,r.Attributes.ShowBottomLine=this.CatalogManager.isColorPickerExpanded,r.Attributes.Settings=this.Settings,r.Attributes.HideCircle=this.CatalogManager.isColorPickerExpanded,r.Attributes.Color=this.Color,this.CatalogManager.isColorPickerExpanded){var l=i.AddNode("div");l.Attributes.style="height: 100%; margin-top: 5px";for(var o=0,s=this.Colors.length;o<s;){var u=o++,d=l.AddNode("catalogcolorpickerbutton");d.Attributes.width=this.width;var c=a(u);d.Events.click=c,d.Attributes.height=this.height,d.Attributes.StringFactory=this.StringFactory,d.Attributes.Settings=this.Settings,d.Attributes.IsActive=this.Colors[u]==this.Color,d.Attributes.Color=this.Colors[u]}}}return null==i&&(i=Fe.CreateNode(this.converter.GetPlaceholderTag())),i}});var $t=function(e){var t=this;this.state_triangleSize=!1,this.state_Display=!1,this.state_Product=!1,this.state_Color=!1,this.state_Colors=!1,this.state_VirtualDom=!1;var n=function(){e.triangleSize=e._updatetriangleSize(),t.state_triangleSize=!0},a=function(){e.Display=e._updateDisplay(),t.state_Display=!0},i=function(){e.Product=e._updateProduct(),t.state_Product=!0},r=function(){e.Color=e._updateColor(),t.state_Color=!0},l=function(){e.Colors=e._updateColors(),t.state_Colors=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,n){t.state_Product=f.ScheduleCallback(t.state_Product,i),t.state_Color=f.ScheduleCallback(t.state_Color,r)},u=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)},d=function(e,n){t.state_Product=f.ScheduleCallback(t.state_Product,i)},c=function(e,n){t.state_Product=f.ScheduleCallback(t.state_Product,i)},h=function(e,n){t.state_Color=f.ScheduleCallback(t.state_Color,r)},_=function(e,n){t.state_Color=f.ScheduleCallback(t.state_Color,r)},g=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)},b=function(e,n){t.state_Colors=f.ScheduleCallback(t.state_Colors,l)};Te.HiddenObserve(e,"height",(function(e,a){t.state_triangleSize=f.ScheduleCallback(t.state_triangleSize,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"Settings",(function(e,n){null!=e&&(Te.HiddenForget(e,"product",s),Te.HiddenForget(e,"alignment",u)),null!=n&&(Te.HiddenObserve(n,"product",s),Te.HiddenObserve(n,"alignment",u)),t.state_Display=f.ScheduleCallback(t.state_Display,a),t.state_Product=f.ScheduleCallback(t.state_Product,i),t.state_Color=f.ScheduleCallback(t.state_Color,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"CatalogManager",(function(e,n){null!=e&&(Te.HiddenForget(e,"SelectedLeftProduct",d),Te.HiddenForget(e,"SelectedRightProduct",c),Te.HiddenForget(e,"SelectedLeftColor",h),Te.HiddenForget(e,"SelectedRightColor",_),Te.HiddenForget(e,"isColorPickerExpanded",g)),null!=n&&(Te.HiddenObserve(n,"SelectedLeftProduct",d),Te.HiddenObserve(n,"SelectedRightProduct",c),Te.HiddenObserve(n,"SelectedLeftColor",h),Te.HiddenObserve(n,"SelectedRightColor",_),Te.HiddenObserve(n,"isColorPickerExpanded",g)),t.state_Product=f.ScheduleCallback(t.state_Product,i),t.state_Color=f.ScheduleCallback(t.state_Color,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"Product",(function(e,n){null!=e&&Te.HiddenForget(e,"Colors",b),null!=n&&Te.HiddenObserve(n,"Colors",b),t.state_Colors=f.ScheduleCallback(t.state_Colors,l)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"triangleSize",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"width",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"Color",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"Colors",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),l(),o()};$t.__name__=!0;var en=function(){var e=C.stringGeneratorsByLength.h[0];null==e&&(e=new y(C.acceptedCharacters.split(""),null),C.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),this.activeIndex=-1,Pe.call(this),this.ColorPickerComponentObserver=new tn(this)};en.__name__=!0,en.__super__=Pe,en.prototype=i(Pe.prototype,{_updateButtonStyles:function(){var e=[];if(null==this.Colors||null==this.Colors.Value)return e;for(var t=0,n=this.Colors.Value.length;t<n;){var a=t++,i=null!=this.Settings.buttonStyles?this.Settings.buttonStyles.slice():[];i.push({background:this.Colors.Value[a].color,text:this.Colors.Value[a].text}),e.push(i)}return e},_updateActiveColorWatcher:function(){var e=this;if(null==this.SelectedColor)return!1;if(null==this.Colors)return!1;if(!this.get_IsMounted())return!1;if(null!=this.SelectedColor.Value){var t=o.find(this.Colors.Value,(function(t){return t.value==e.SelectedColor.Value})),n=this.Colors.Value.indexOf(t);-1==n?this.ClickButton(0):this.ClickButton(n)}else null!=this.Colors&&this.Colors.Value.length>0&&this.ClickButton(0);return!0},_updateColors:function(){return null==this.ObjectFactory||null==this.Settings||null==this.Settings.colors?null:this.ObjectFactory.Create(this.Settings.colors)},ClickButton:function(e){this.activeIndex=e;var t=this.Colors.Value[e];null!=t&&this.SelectedColor.SetValue(t.value)},_updateVirtualDom:function(){var e=this,t=function(t){var n=function(){e.ClickButton(t)};return n.hash="0-"+Ie.GetId(t),n},n=null;if(null!=this.Settings&&null!=this.Colors){(n=Fe.CreateNode("div")).Attributes.style="pointer-events: all; flex-wrap: wrap; overflow: hidden; flex: 0 1 auto;",n.Attributes.id=this.id,n.Attributes.class="binkies-gallery-container binkies-flex-centered";var a=n.AddNode("style");a.AddText("\n\t\t\t#"+this.id+" > div\n\t\t\t{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: inherit;\n\t\t\t\tmin-width: 0%;\n\t\t\t\tmin-height: 0%;\n\t\t\t}\n\n\t\t\t"),Hs.IsNullOrWhiteSpace(this.Settings.distanceBetweenItems)||a.AddText("\n\t\t\t#"+this.id+' > div + div::before\n\t\t\t{\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t\t");for(var i=0,r=this.Colors.Value.length;i<r;){var l=i++,o=n.AddNode("div");o.Attributes.class="binkies-gallery-item-wrapper "+(this.activeIndex==l?"active":"");var s=o.AddNode("div").AddNode("buttoncomponent"),u=t(l);s.Events.click=u,s.Attributes.Styles=this.ButtonStyles[l],s.Attributes.StringFactory=this.StringFactory,s.Attributes.IsActive=l==this.activeIndex}}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var tn=function(e){var t=this;this.state_ButtonStyles=!1,this.state_ActiveColorWatcher=!1,this.state_Colors=!1,this.state_VirtualDom=!1;var n=function(){e.ButtonStyles=e._updateButtonStyles(),t.state_ButtonStyles=!0},a=function(){e.ActiveColorWatcher=e._updateActiveColorWatcher(),t.state_ActiveColorWatcher=!0},i=function(){e.Colors=e._updateColors(),t.state_Colors=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},l=function(e,a){t.state_ButtonStyles=f.ScheduleCallback(t.state_ButtonStyles,n)},o=function(e,a){t.state_ButtonStyles=f.ScheduleCallback(t.state_ButtonStyles,n)},s=function(e,i){null!=e&&(Te.HiddenForget(e,"color",l),Te.HiddenForget(e,"text",o)),null!=i&&(Te.HiddenObserve(i,"color",l),Te.HiddenObserve(i,"text",o)),t.state_ButtonStyles=f.ScheduleCallback(t.state_ButtonStyles,n),t.state_ActiveColorWatcher=f.ScheduleCallback(t.state_ActiveColorWatcher,a),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)},u=function(e,a){t.state_ButtonStyles=f.ScheduleCallback(t.state_ButtonStyles,n)},d=function(e,n){t.state_Colors=f.ScheduleCallback(t.state_Colors,i)},c=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)},h=function(e,n){t.state_ActiveColorWatcher=f.ScheduleCallback(t.state_ActiveColorWatcher,a)};Te.HiddenObserve(e,"Colors",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",s),null!=i&&Te.HiddenObserve(i,"Value",s),t.state_ButtonStyles=f.ScheduleCallback(t.state_ButtonStyles,n),t.state_ActiveColorWatcher=f.ScheduleCallback(t.state_ActiveColorWatcher,a),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"buttonStyles",u),Te.HiddenForget(e,"colors",d),Te.HiddenForget(e,"distanceBetweenItems",c)),null!=a&&(Te.HiddenObserve(a,"buttonStyles",u),Te.HiddenObserve(a,"colors",d),Te.HiddenObserve(a,"distanceBetweenItems",c)),t.state_ButtonStyles=f.ScheduleCallback(t.state_ButtonStyles,n),t.state_Colors=f.ScheduleCallback(t.state_Colors,i),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"SelectedColor",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",h),null!=n&&Te.HiddenObserve(n,"Value",h),t.state_ActiveColorWatcher=f.ScheduleCallback(t.state_ActiveColorWatcher,a)})),Te.HiddenObserve(e,"ObjectFactory",(function(e,n){t.state_Colors=f.ScheduleCallback(t.state_Colors,i)})),Te.HiddenObserve(e,"id",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"activeIndex",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"ButtonStyles",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};tn.__name__=!0;var nn=function(){this.doubleTapExpired=null,this.isMinimizedKey="binkies-debugger-minimized",this.minimized=!1,this.GridDebuggingEnabled=new ys,this.rootQuery=new Mi('[data-binkies-content="root"]'),this.bodyQuery=new Mi("body"),this.fullscreenQuery=new Mi("#binkies-fullscreen"),this.highlightRoot=!1,At.call(this),nn.cssAddedToPage||(this.AddStyleToHead(".binkies-debugger{\n\ttop: 100px; \n\tleft: 10px; \n\tbackground: white;\n\tbackground-color: rgba(255, 255, 255, 0.7);\n\tborder: 1px solid darkorange;\n\tz-index: 2147483647;\n\tmax-width: 300px;\n}\n\n.binkies-debugger .debugger-controls{\n\tdisplay: flex;\n\tjustify-content: stretch;\n\tflex-wrap: wrap;\n}\n\n.binkies-debugger .debugger-controls > *{\n\tflex: 1;\n}\n\n.binkies-debugger .display-mode{\n\tbackground: white;\n\tdisplay: inline-flex;\n\tborder: 1px solid black;\n\tflex: none;\n}\n\n.binkies-debugger .display-mode label{\n    padding: 2px;\n}\n\n.binkies-debugger dt\n{\n\tfont-weight: bold;\n\tmargin-top: 3px;\n}\n\n.binkies-debugger dd\n{\n\tmargin-left: 10px;\n}\n\n.binkies-debugger #debugger-header\n{\n\tpadding: 10px;\n\tcursor: move;\n\tbackground-color: rgba(255, 140, 0, 0.7);\n\tcolor: #fff;\n\tborder: 1px solid darkorange;\n}\n\n.binkies-debugger *\n{\n\tfont-size: 14px;\n\tline-height: normal;\n}\n\n.debugger-controls > button.active\n{\n\tbackground: #ffae4c4d;\n}\n\n.binkies-dragger.minimized\n{\n\twidth: 30px;\n\theight: 15px;\n}"),nn.cssAddedToPage=!0),this.DebuggerObserver=new sn(this)};nn.__name__=!0,nn.DebuggerEnabled=function(){var e=Le.FindBooleanQueryParameter(window.location,"binkies-debugger-enabled",null);return 1==e?nn.storage.setItem("binkies-debugger-enabled","true"):0==e&&nn.storage.removeItem("binkies-debugger-enabled"),"true"==nn.storage.getItem("binkies-debugger-enabled")},nn.__super__=At,nn.prototype=i(At.prototype,{_updateTestVariantValues:function(){var e=[null];if(null!=this.TestVariants)for(var t=0,n=this.TestVariants;t<n.length;)e.push(n[t++].name);return e},_updateTestVariantNames:function(){var e=["No Override"];if(null!=this.TestVariants)for(var t=0,n=this.TestVariants;t<n.length;)e.push(n[t++].name);return e},_updateTargetProvider:function(){return null==this.TargetDefinition||null==this.ElementFactory?null:this.ElementFactory.Create(this.TargetDefinition)},_updateRouteValue:function(){return null==this.Route?null:this.Route.Value},_updateIsFullscreen:function(){return null!=this.Route&&this.Route.ContainsFullscreen},_updateTarget:function(){return this.IsFullscreen?this.fullscreenQuery.Target:this.bodyQuery.Target},Mounted:function(){At.prototype.Mounted.call(this),this.minimized="true"==nn.storage.getItem(this.isMinimizedKey)},ToggleMinimize:function(){this.minimized=!this.minimized,this.minimized?nn.storage.setItem(this.isMinimizedKey,"true"):nn.storage.removeItem(this.isMinimizedKey)},DoubleTap:function(e){1==e.touches.length&&(e.timeStamp<=this.doubleTapExpired?(e.preventDefault(),this.ToggleMinimize(),this.doubleTapExpired=null):this.doubleTapExpired=e.timeStamp+400)},SwitchShow:function(){this.State.WantToShowContent.SetValue(!this.State.WantToShowContent.Value)},SwitchLoading:function(){null!=this.LoadStateProvider&&(this.LoadStateProvider.ShowDebugLoadState=!this.LoadStateProvider.ShowDebugLoadState)},HighlightRoot:function(){this.highlightRoot=!this.highlightRoot},SwitchCanShare:function(){this.ShareManager.DebugModeEnabled=!this.ShareManager.DebugModeEnabled},GridDebug:function(){this.GridDebuggingEnabled.SetValue(!this.GridDebuggingEnabled.Value)},displayModeChanged:function(e){this.DebugDisplayMode.SetValue(e==nn.OriginalDiplayModeID?null:e)},testVariantNameChanged:function(e){this.DebugActiveTestVariantName.SetValue(e)},_updateVirtualDom:function(){var e=this,t=function(t){e.DoubleTap(t)};t.hash=0;var n=function(){e.ToggleMinimize()};n.hash=1;var a=function(){e.SwitchShow()};a.hash=2;var i=function(){e.SwitchLoading()};i.hash=3;var r=function(){e.HighlightRoot()};r.hash=4;var l=function(){e.SwitchCanShare()};l.hash=5;var o=function(){e.GridDebug()};o.hash=6;var s=function(t){e.displayModeChanged(t)};s.hash=7;var u=function(t){e.testVariantNameChanged(t)};u.hash=8;var d=null;if((d=Fe.CreateNode("div")).Attributes.class="binkies-debugger notranslate binkies-draggable",this.highlightRoot&&d.AddNode("style").AddText('\n\t\t\t[data-binkies-content="root"]\n\t\t\t{\n\t\t\t\tbackground: rgba(255, 0, 0, 0.5);\n\t\t\t}\n\t\t'),1==this.minimized){var h=d.AddNode("div");h.Events.touchstart=t,h.Events.dblclick=n,h.Attributes.id="debugger-header",h.Attributes.class="binkies-dragger minimized"}if(0==this.minimized){var _=d.AddNode("div");if(_.Events.touchstart=t,_.Events.dblclick=n,_.Attributes.id="debugger-header",_.Attributes.class="binkies-dragger",_.AddText("DEBUGGER"),null!=this.ContentIdentifierProvider){var g=d.AddNode("div");g.Attributes.class="debugger-controls";var b=g.AddNode("button");b.Events.click=a,b.Attributes.class=this.State.WantToShowContent.Value?"active":"",b.AddText("ShowIntegration");var v=g.AddNode("button");v.Events.click=i,v.Attributes.class=null!=this.LoadStateProvider&&this.LoadStateProvider.ShowDebugLoadState?"active":"",v.AddText("ShowLoading");var f=g.AddNode("button");f.Events.click=r,f.Attributes.class=this.highlightRoot?"active":"",f.AddText("Highlight");var S=g.AddNode("button");S.Events.click=l,S.Attributes.class=null!=this.ShareManager&&this.ShareManager.DebugModeEnabled?"active":"",S.AddText("SimulateShare");var p=g.AddNode("button");p.Events.click=o,p.Attributes.class=null!=this.GridDebuggingEnabled&&this.GridDebuggingEnabled.Value?"active":"",p.AddText("ShowGrid");var m=g.AddNode("div");m.Attributes.class="display-mode",m.AddNode("label").AddText("DisplayModeOverride:");var C=m.AddNode("dropdown");C.Events.SelectedChanged=s,C.Attributes.Selected=this.DebugDisplayMode.Value,C.Attributes.Options=[null,"onpage","behindbutton"],C.Attributes.Labels=["No Override","OnPage","BehindButton"];var y=g.AddNode("div");y.Attributes.class="display-mode",y.AddNode("label").AddText("TestVariantOverride:");var k=y.AddNode("dropdown");k.Events.SelectedChanged=u,k.Attributes.Selected=this.DebugActiveTestVariantName.Value,k.Attributes.Options=this.TestVariantValues,k.Attributes.Labels=this.TestVariantNames;var H=d.AddNode("div");H.Attributes.id="platform-links";var V=H.AddNode("dl");V.AddNode("dt").AddText("Platform links");var O=V.AddNode("dd").AddNode("a");O.Attributes.target="_blank",O.Attributes.href="https://platform.binkies3d.com/Website/MissingContent/"+this.IntegrationSettings.AccessKey,O.AddText("Unknown Content");var F=V.AddNode("dd").AddNode("a");F.Attributes.target="_blank",F.Attributes.href="https://platform.binkies3d.com/Integration/Details/"+this.IntegrationSettings.IntegrationId,F.AddText("Integration");var w=d.AddNode("dl");w.AddNode("dt").AddText("Content Identifier"),w.AddNode("dd").AddText("Left: "+(null!=this.ContentIdentifierProvider.Value?this.ContentIdentifierProvider.Value:"-")),null!=this.ComparisonContentIdentifierProvider&&w.AddNode("dd").AddText("Right: "+(null!=this.ComparisonContentIdentifierProvider.Value?this.ComparisonContentIdentifierProvider.Value:"-")),null!=this.TargetProvider&&(w.AddNode("dt").AddText("Element information"),w.AddNode("dd").AddText("Target available: "+c.string(null!=this.TargetProvider.Value)),w.AddNode("dd").AddText("Root on page: "+c.string(null!=this.rootQuery.Target))),w.AddNode("dt").AddText("State"),this.State.WantToShowContent.Value&&w.AddNode("dd").AddText("WantToShowContent"),this.State.CanShowContent&&w.AddNode("dd").AddText("CanShowContent"),this.State.CanShowFullscreen&&w.AddNode("dd").AddText("CanShowFullscreen"),this.State.ContentCanBeDownloaded&&w.AddNode("dd").AddText("ContentCanBeDownloaded"),this.State.ResourcesLoaded&&w.AddNode("dd").AddText("ResourcesLoaded"),this.State.ContentLoading&&w.AddNode("dd").AddText("ContentLoading"),this.State.ContentDownloaded&&w.AddNode("dd").AddText("ContentDownloaded"),this.State.ShowContent&&w.AddNode("dd").AddText("ShowingContent"),this.State.ShowFullscreen&&w.AddNode("dd").AddText("ShowingFullscreen"),w.AddNode("dt").AddText("Route"),w.AddNode("dd").AddText('"'+this.RouteValue+'"'),w.AddNode("dt").AddText("History");for(var x=0,D=this.ContentQueue.productColorHistory.length;x<D;){var P=x++,A=w.AddNode("dd");if(null!=this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1]){if(this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1].Color.ReadyForCustomer){var I=A.AddNode("span");I.Attributes.style="color: green",I.Attributes.class="binkies-unselectable",I.AddText("")}if(!this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1].Color.ReadyForCustomer){var T=A.AddNode("span");T.Attributes.style="color: red",T.Attributes.class="binkies-unselectable",T.AddText("")}}A.AddText("\n\t\t\t\t\t\t"+this.ContentQueue.contentIdHistory[this.ContentQueue.productColorHistory.length-P-1]+"\n\t\t\t\t\t\t"),null==this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1]&&A.AddText("\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t")}}}return null==d&&(d=Fe.CreateNode(this.converter.GetPlaceholderTag())),d}});var an=function(e){this.debugLoadingValue=0,this.ShowDebugLoadState=!1,this.defaultLoadStateProvider=e,this.DebuggerLoadStateProviderObserver=new rn(this)};an.__name__=!0,an.prototype={Run:function(){var e=this;null==this.intervalId&&(this.intervalId=window.setInterval((function(){e.debugLoadingValue+=.05;var t=e;return t.debugLoadingValue%=1,t.debugLoadingValue}),30))},Stop:function(){null!=this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.debugLoadingValue=0)},_updateDebugLoadState:function(){return B.Loading(this.debugLoadingValue)},_updateLoadState:function(){return null==this.defaultLoadStateProvider?null:this.ShowDebugLoadState?(this.Run(),this.DebugLoadState):(this.Stop(),this.defaultLoadStateProvider.LoadState)}};var rn=function(e){var t=this;this.state_DebugLoadState=!1,this.state_LoadState=!1;var n=function(){e.DebugLoadState=e._updateDebugLoadState(),t.state_DebugLoadState=!0},a=function(){e.LoadState=e._updateLoadState(),t.state_LoadState=!0},i=function(e,n){t.state_LoadState=f.ScheduleCallback(t.state_LoadState,a)};Te.HiddenObserve(e,"debugLoadingValue",(function(e,a){t.state_DebugLoadState=f.ScheduleCallback(t.state_DebugLoadState,n)})),Te.HiddenObserve(e,"defaultLoadStateProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"LoadState",i),null!=n&&Te.HiddenObserve(n,"LoadState",i),t.state_LoadState=f.ScheduleCallback(t.state_LoadState,a)})),Te.HiddenObserve(e,"ShowDebugLoadState",(function(e,n){t.state_LoadState=f.ScheduleCallback(t.state_LoadState,a)})),Te.HiddenObserve(e,"DebugLoadState",(function(e,n){t.state_LoadState=f.ScheduleCallback(t.state_LoadState,a)})),n(),a()};rn.__name__=!0;var ln=function(e){this.ConnectionSpeedOverride="high",this.Enabled=!1,this.decoratee=e,this.DebuggerNetworkProviderObserver=new on(this)};ln.__name__=!0,ln.prototype={_updateconnectionSpeed:function(){return this.Enabled?this.ConnectionSpeedOverride:this.decoratee.connectionSpeed}};var on=function(e){var t=this;this.state_connectionSpeed=!1;var n=function(){e.connectionSpeed=e._updateconnectionSpeed(),t.state_connectionSpeed=!0},a=function(e,a){t.state_connectionSpeed=f.ScheduleCallback(t.state_connectionSpeed,n)};Te.HiddenObserve(e,"Enabled",(function(e,a){t.state_connectionSpeed=f.ScheduleCallback(t.state_connectionSpeed,n)})),Te.HiddenObserve(e,"decoratee",(function(e,i){null!=e&&Te.HiddenForget(e,"connectionSpeed",a),null!=i&&Te.HiddenObserve(i,"connectionSpeed",a),t.state_connectionSpeed=f.ScheduleCallback(t.state_connectionSpeed,n)})),Te.HiddenObserve(e,"ConnectionSpeedOverride",(function(e,a){t.state_connectionSpeed=f.ScheduleCallback(t.state_connectionSpeed,n)})),n()};on.__name__=!0;var sn=function(e){var t=this;this.state_TestVariantValues=!1,this.state_TestVariantNames=!1,this.state_TargetProvider=!1,this.state_RouteValue=!1,this.state_IsFullscreen=!1,this.state_Target=!1,this.state_VirtualDom=!1;var n=function(){e.TestVariantValues=e._updateTestVariantValues(),t.state_TestVariantValues=!0},a=function(){e.TestVariantNames=e._updateTestVariantNames(),t.state_TestVariantNames=!0},i=function(){e.TargetProvider=e._updateTargetProvider(),t.state_TargetProvider=!0},r=function(){e.RouteValue=e._updateRouteValue(),t.state_RouteValue=!0},l=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},o=function(){e.Target=e._updateTarget(),t.state_Target=!0},s=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},u=function(e,i){t.state_TestVariantValues=f.ScheduleCallback(t.state_TestVariantValues,n),t.state_TestVariantNames=f.ScheduleCallback(t.state_TestVariantNames,a)},d=function(e,n){t.state_RouteValue=f.ScheduleCallback(t.state_RouteValue,r)},c=function(e,n){t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,l)},h=function(e,n){t.state_Target=f.ScheduleCallback(t.state_Target,o)},_=function(e,n){t.state_Target=f.ScheduleCallback(t.state_Target,o)},g=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},b=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},v=function(e,n){null!=e&&Te.HiddenForget(e,"Value",b),null!=n&&Te.HiddenObserve(n,"Value",b),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},S=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},p=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},m=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},C=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},y=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},k=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},H=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},V=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},O=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},F=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},w=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},x=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},D=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},P=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},A=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},I=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},T=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},M=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},R=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},N=function(e,n){null!=e&&Te.HiddenForget(e,"ReadyForCustomer",R),null!=n&&Te.HiddenObserve(n,"ReadyForCustomer",R),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},L=function(e,n){null!=e&&Te.HiddenForget(e,"Color",N),null!=n&&Te.HiddenObserve(n,"Color",N),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},B=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)};Te.HiddenObserve(e,"TestVariants",(function(e,i){null!=e&&Te.HiddenForget(e,"name",u),null!=i&&Te.HiddenObserve(i,"name",u),t.state_TestVariantValues=f.ScheduleCallback(t.state_TestVariantValues,n),t.state_TestVariantNames=f.ScheduleCallback(t.state_TestVariantNames,a)})),Te.HiddenObserve(e,"TargetDefinition",(function(e,n){t.state_TargetProvider=f.ScheduleCallback(t.state_TargetProvider,i)})),Te.HiddenObserve(e,"ElementFactory",(function(e,n){t.state_TargetProvider=f.ScheduleCallback(t.state_TargetProvider,i)})),Te.HiddenObserve(e,"Route",(function(e,n){null!=e&&(Te.HiddenForget(e,"Value",d),Te.HiddenForget(e,"ContainsFullscreen",c)),null!=n&&(Te.HiddenObserve(n,"Value",d),Te.HiddenObserve(n,"ContainsFullscreen",c)),t.state_RouteValue=f.ScheduleCallback(t.state_RouteValue,r),t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,l)})),Te.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_Target=f.ScheduleCallback(t.state_Target,o)})),Te.HiddenObserve(e,"fullscreenQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Target",h),null!=n&&Te.HiddenObserve(n,"Target",h),t.state_Target=f.ScheduleCallback(t.state_Target,o)})),Te.HiddenObserve(e,"bodyQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Target",_),null!=n&&Te.HiddenObserve(n,"Target",_),t.state_Target=f.ScheduleCallback(t.state_Target,o)})),Te.HiddenObserve(e,"highlightRoot",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"minimized",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"ContentIdentifierProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",g),null!=n&&Te.HiddenObserve(n,"Value",g),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"State",(function(e,n){null!=e&&(Te.HiddenForget(e,"WantToShowContent",v),Te.HiddenForget(e,"CanShowContent",S),Te.HiddenForget(e,"CanShowFullscreen",p),Te.HiddenForget(e,"ContentCanBeDownloaded",m),Te.HiddenForget(e,"ResourcesLoaded",C),Te.HiddenForget(e,"ContentLoading",y),Te.HiddenForget(e,"ContentDownloaded",k),Te.HiddenForget(e,"ShowContent",H),Te.HiddenForget(e,"ShowFullscreen",V)),null!=n&&(Te.HiddenObserve(n,"WantToShowContent",v),Te.HiddenObserve(n,"CanShowContent",S),Te.HiddenObserve(n,"CanShowFullscreen",p),Te.HiddenObserve(n,"ContentCanBeDownloaded",m),Te.HiddenObserve(n,"ResourcesLoaded",C),Te.HiddenObserve(n,"ContentLoading",y),Te.HiddenObserve(n,"ContentDownloaded",k),Te.HiddenObserve(n,"ShowContent",H),Te.HiddenObserve(n,"ShowFullscreen",V)),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"LoadStateProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"ShowDebugLoadState",O),null!=n&&Te.HiddenObserve(n,"ShowDebugLoadState",O),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"ShareManager",(function(e,n){null!=e&&Te.HiddenForget(e,"DebugModeEnabled",F),null!=n&&Te.HiddenObserve(n,"DebugModeEnabled",F),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"GridDebuggingEnabled",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",w),null!=n&&Te.HiddenObserve(n,"Value",w),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"DebugDisplayMode",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",x),null!=n&&Te.HiddenObserve(n,"Value",x),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"DebugActiveTestVariantName",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",D),null!=n&&Te.HiddenObserve(n,"Value",D),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"TestVariantValues",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"TestVariantNames",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"IntegrationSettings",(function(e,n){null!=e&&(Te.HiddenForget(e,"AccessKey",P),Te.HiddenForget(e,"IntegrationId",A)),null!=n&&(Te.HiddenObserve(n,"AccessKey",P),Te.HiddenObserve(n,"IntegrationId",A)),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"ComparisonContentIdentifierProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",I),null!=n&&Te.HiddenObserve(n,"Value",I),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"TargetProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",T),null!=n&&Te.HiddenObserve(n,"Value",T),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"rootQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Target",M),null!=n&&Te.HiddenObserve(n,"Target",M),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"RouteValue",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"ContentQueue",(function(e,n){null!=e&&(Te.HiddenForget(e,"productColorHistory",L),Te.HiddenForget(e,"contentIdHistory",B)),null!=n&&(Te.HiddenObserve(n,"productColorHistory",L),Te.HiddenObserve(n,"contentIdHistory",B)),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),n(),a(),i(),r(),l(),o(),s()};sn.__name__=!0;var un=function(){Pe.call(this),this.DropdownObserver=new dn(this)};un.__name__=!0,un.__super__=Pe,un.prototype=i(Pe.prototype,{GetLength:function(e){return null==e?0:e.length},GetLabel:function(e,t,n){var a=null!=e?e:t;return null==a?null:a[n]},_updateOptionsContainsSelected:function(){return null==this.Options?null:o.has(this.Options,this.Selected)},_updateVirtualDom:function(){var e=this,t=function(t){e.FireEvent("SelectedChanged",e.Options[c.parseInt(t.target.value)])};t.hash=0;var n=null;if((n=Fe.CreateNode("select")).Events.change=t,!this.OptionsContainsSelected){var a=n.AddNode("option");a.Attributes.value=-1,a.Attributes.selected=!0,a.Attributes.disabled=!0,a.AddText("-")}for(var i=0,r=this.GetLength(this.Options);i<r;){var l=i++;if(this.Options[l]==this.Selected){var o=n.AddNode("option");o.Attributes.value=l,o.Attributes.selected=!0,o.AddText(this.GetLabel(this.Labels,this.Options,l))}if(this.Options[l]!=this.Selected){var s=n.AddNode("option");s.Attributes.value=l,s.AddText(this.GetLabel(this.Labels,this.Options,l))}}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var dn=function(e){var t=this;this.state_OptionsContainsSelected=!1,this.state_VirtualDom=!1;var n=function(){e.OptionsContainsSelected=e._updateOptionsContainsSelected(),t.state_OptionsContainsSelected=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Te.HiddenObserve(e,"Options",(function(e,i){t.state_OptionsContainsSelected=f.ScheduleCallback(t.state_OptionsContainsSelected,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"Selected",(function(e,i){t.state_OptionsContainsSelected=f.ScheduleCallback(t.state_OptionsContainsSelected,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"OptionsContainsSelected",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"Labels",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};dn.__name__=!0;var cn=function(){Pe.call(this),this.ElementDebuggerComponentObserver=new hn(this)};cn.__name__=!0,cn.__super__=Pe,cn.prototype=i(Pe.prototype,{_updateDebuggerStyle:function(){var e="\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t";return Hs.IsNullOrWhiteSpace(this.CustomStyle)||(e="\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t"+this.CustomStyle),e},_updateVirtualDom:function(){var e=Fe.CreateNode("div");return e.Attributes.style=this.DebuggerStyle,e}});var hn=function(e){var t=this;this.state_DebuggerStyle=!1,this.state_VirtualDom=!1;var n=function(){e.DebuggerStyle=e._updateDebuggerStyle(),t.state_DebuggerStyle=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Te.HiddenObserve(e,"CustomStyle",(function(e,a){t.state_DebuggerStyle=f.ScheduleCallback(t.state_DebuggerStyle,n)})),Te.HiddenObserve(e,"DebuggerStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};hn.__name__=!0;var _n=function(){Pe.call(this),this.DimensionsComponentObserver=new gn(this)};_n.__name__=!0,_n.__super__=Pe,_n.prototype=i(Pe.prototype,{_updateProduct:function(){if(null==this.Settings||null==this.Settings.product)return null;switch(this.Settings.product){case"left":return this.CatalogManager.SelectedLeftProduct;case"right":return this.CatalogManager.SelectedRightProduct}},_updateProductWidth:function(){return null==this.Product?null:this.Product.Width+" mm"},_updateProductHeight:function(){return null==this.Product?null:this.Product.Height+" mm"},_updateProductThickness:function(){return null==this.Product?null:this.Product.Thickness+" mm"},_updateTitleValue:function(){return null==this.Settings||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.title)},_updateTitle:function(){return null==this.TitleValue?null:this.TitleValue.Value},_updateFlexAlign:function(){if(null==this.Settings||null==this.Settings.alignment)return"flex-start";switch(this.Settings.alignment){case"left":return"flex-start";case"right":return"flex-end"}},_updateDisplay:function(){return null!=this.Product},_updateStyle:function(){return null==this.Settings||null==this.Settings.style?null:this.Settings.style},_updateTextStyle:function(){if(null==this.Style)return"";var e="";return Hs.IsNullOrWhiteSpace(this.Style.fontFamily)||(e="font-family: "+this.Style.fontFamily+";"),Hs.IsNullOrWhiteSpace(this.Style.color)||(e+="color: "+this.Style.color+";"),Hs.IsNullOrWhiteSpace(this.Style.fontSize)||(e+="font-size: "+this.Style.fontSize+";"),e},_updateVirtualDom:function(){var e=null;if(this.Display){(e=Fe.CreateNode("div")).Attributes.style="\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    ";var t=e.AddNode("div");t.Attributes.style=this.TextStyle+" font-weight: 900; flex: 1; display: flex; justify-content:"+this.FlexAlign+";",t.AddNode("span").AddText(this.Title);var n=e.AddNode("div");n.Attributes.style=this.TextStyle+" font-weight: 300; flex: 1; display: flex; justify-content:"+this.FlexAlign+";";var a=n.AddNode("span");a.Attributes.style="white-space: nowrap",a.AddText(this.ProductWidth);var i=e.AddNode("div");i.Attributes.style=this.TextStyle+" font-weight: 300; flex: 1; display: flex; justify-content:"+this.FlexAlign+";";var r=i.AddNode("span");r.Attributes.style="white-space: nowrap",r.AddText(this.ProductHeight);var l=e.AddNode("div");l.Attributes.style=this.TextStyle+" font-weight: 300; flex: 1; display: flex; justify-content:"+this.FlexAlign+";";var o=l.AddNode("span");o.Attributes.style="white-space: nowrap",o.AddText(this.ProductThickness)}return null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var gn=function(e){var t=this;this.state_Product=!1,this.state_ProductWidth=!1,this.state_ProductHeight=!1,this.state_ProductThickness=!1,this.state_TitleValue=!1,this.state_Title=!1,this.state_FlexAlign=!1,this.state_Display=!1,this.state_Style=!1,this.state_TextStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Product=e._updateProduct(),t.state_Product=!0},a=function(){e.ProductWidth=e._updateProductWidth(),t.state_ProductWidth=!0},i=function(){e.ProductHeight=e._updateProductHeight(),t.state_ProductHeight=!0},r=function(){e.ProductThickness=e._updateProductThickness(),t.state_ProductThickness=!0},l=function(){e.TitleValue=e._updateTitleValue(),t.state_TitleValue=!0},o=function(){e.Title=e._updateTitle(),t.state_Title=!0},s=function(){e.FlexAlign=e._updateFlexAlign(),t.state_FlexAlign=!0},u=function(){e.Display=e._updateDisplay(),t.state_Display=!0},d=function(){e.Style=e._updateStyle(),t.state_Style=!0},c=function(){e.TextStyle=e._updateTextStyle(),t.state_TextStyle=!0},h=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},_=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},g=function(e,n){t.state_TitleValue=f.ScheduleCallback(t.state_TitleValue,l)},b=function(e,n){t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,s)},v=function(e,n){t.state_Style=f.ScheduleCallback(t.state_Style,d)},S=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},p=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},m=function(e,n){t.state_ProductWidth=f.ScheduleCallback(t.state_ProductWidth,a)},C=function(e,n){t.state_ProductHeight=f.ScheduleCallback(t.state_ProductHeight,i)},y=function(e,n){t.state_ProductThickness=f.ScheduleCallback(t.state_ProductThickness,r)},k=function(e,n){t.state_Title=f.ScheduleCallback(t.state_Title,o)},H=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,c)},V=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,c)},O=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,c)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"product",_),Te.HiddenForget(e,"title",g),Te.HiddenForget(e,"alignment",b),Te.HiddenForget(e,"style",v)),null!=a&&(Te.HiddenObserve(a,"product",_),Te.HiddenObserve(a,"title",g),Te.HiddenObserve(a,"alignment",b),Te.HiddenObserve(a,"style",v)),t.state_Product=f.ScheduleCallback(t.state_Product,n),t.state_TitleValue=f.ScheduleCallback(t.state_TitleValue,l),t.state_FlexAlign=f.ScheduleCallback(t.state_FlexAlign,s),t.state_Style=f.ScheduleCallback(t.state_Style,d)})),Te.HiddenObserve(e,"CatalogManager",(function(e,a){null!=e&&(Te.HiddenForget(e,"SelectedLeftProduct",S),Te.HiddenForget(e,"SelectedRightProduct",p)),null!=a&&(Te.HiddenObserve(a,"SelectedLeftProduct",S),Te.HiddenObserve(a,"SelectedRightProduct",p)),t.state_Product=f.ScheduleCallback(t.state_Product,n)})),Te.HiddenObserve(e,"Product",(function(e,n){null!=e&&(Te.HiddenForget(e,"Width",m),Te.HiddenForget(e,"Height",C),Te.HiddenForget(e,"Thickness",y)),null!=n&&(Te.HiddenObserve(n,"Width",m),Te.HiddenObserve(n,"Height",C),Te.HiddenObserve(n,"Thickness",y)),t.state_ProductWidth=f.ScheduleCallback(t.state_ProductWidth,a),t.state_ProductHeight=f.ScheduleCallback(t.state_ProductHeight,i),t.state_ProductThickness=f.ScheduleCallback(t.state_ProductThickness,r),t.state_Display=f.ScheduleCallback(t.state_Display,u)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_TitleValue=f.ScheduleCallback(t.state_TitleValue,l)})),Te.HiddenObserve(e,"TitleValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",k),null!=n&&Te.HiddenObserve(n,"Value",k),t.state_Title=f.ScheduleCallback(t.state_Title,o)})),Te.HiddenObserve(e,"Style",(function(e,n){null!=e&&(Te.HiddenForget(e,"fontFamily",H),Te.HiddenForget(e,"color",V),Te.HiddenForget(e,"fontSize",O)),null!=n&&(Te.HiddenObserve(n,"fontFamily",H),Te.HiddenObserve(n,"color",V),Te.HiddenObserve(n,"fontSize",O)),t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,c)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,h)})),Te.HiddenObserve(e,"TextStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,h)})),Te.HiddenObserve(e,"FlexAlign",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,h)})),Te.HiddenObserve(e,"Title",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,h)})),Te.HiddenObserve(e,"ProductWidth",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,h)})),Te.HiddenObserve(e,"ProductHeight",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,h)})),Te.HiddenObserve(e,"ProductThickness",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,h)})),n(),a(),i(),r(),l(),o(),s(),u(),d(),c(),h()};gn.__name__=!0;var bn=function(){Pe.call(this),this.DisplayModeButtonComponentObserver=new vn(this)};bn.__name__=!0,bn.__super__=Pe,bn.prototype=i(Pe.prototype,{_updateDisplayModeSetting:function(){return null==this.Settings?null:this.StringFactory.Create(this.Settings.displayMode)},_updateDisplay:function(){return null!=this.Settings},OnClick:function(){null!=this.DisplayModeSetting&&this.DisplayMode.SetValue(this.DisplayModeSetting.Value)},_updateVirtualDom:function(){var e=this,t=function(){e.OnClick()};t.hash=0;var n=null;return this.Display&&((n=Fe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory),null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var vn=function(e){var t=this;this.state_DisplayModeSetting=!1,this.state_Display=!1,this.state_VirtualDom=!1;var n=function(){e.DisplayModeSetting=e._updateDisplayModeSetting(),t.state_DisplayModeSetting=!0},a=function(){e.Display=e._updateDisplay(),t.state_Display=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,a){t.state_DisplayModeSetting=f.ScheduleCallback(t.state_DisplayModeSetting,n)},l=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)};Te.HiddenObserve(e,"Settings",(function(e,o){null!=e&&(Te.HiddenForget(e,"displayMode",r),Te.HiddenForget(e,"styles",l)),null!=o&&(Te.HiddenObserve(o,"displayMode",r),Te.HiddenObserve(o,"styles",l)),t.state_DisplayModeSetting=f.ScheduleCallback(t.state_DisplayModeSetting,n),t.state_Display=f.ScheduleCallback(t.state_Display,a),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),n(),a(),i()};vn.__name__=!0;var fn=function(){Pe.call(this),this.DynamicComponentObserver=new Sn(this)};fn.__name__=!0,fn.__super__=Pe,fn.prototype=i(Pe.prototype,{_updateComponent:function(){return null==this.ComponentDefinition||null==this.ComponentFactory?null:this.ComponentFactory.Create(this.ComponentDefinition)},_updateVirtualDom:function(){return null==this.Component?null:this.Component.Value}});var Sn=function(e){var t=this;this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.Component=e._updateComponent(),t.state_Component=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)};Te.HiddenObserve(e,"ComponentDefinition",(function(e,a){t.state_Component=f.ScheduleCallback(t.state_Component,n)})),Te.HiddenObserve(e,"ComponentFactory",(function(e,a){t.state_Component=f.ScheduleCallback(t.state_Component,n)})),Te.HiddenObserve(e,"Component",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",i),null!=n&&Te.HiddenObserve(n,"Value",i),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};Sn.__name__=!0;var pn=function(){Pe.call(this),this.FlipperComponentObserver=new mn(this)};pn.__name__=!0,pn.NormalizeIndex=function(e,t){var n=e;return e>=t&&(n=e%t),n<0&&(n=t-1),n},pn.__super__=Pe,pn.prototype=i(Pe.prototype,{Flip:function(){var e;switch(this.Settings.flipDirection){case-1:e=this.GetIndex(-1);break;case 1:e=this.GetIndex(1)}this.ActiveBookmarkHandler.SetValue(this.Settings.bookmarks[e]),ee.Fire("flipperclicked",new de(this.Settings.flipDirection))},GetIndex:function(e){var t=this.Settings.bookmarks.indexOf(this.ActiveBookmarkHandler.Value);return pn.NormalizeIndex(-1==t?0:t+e,this.Settings.bookmarks.length)},_updateAriaLabel:function(){return null==this.StringFactory||null==this.Settings?null:this.StringFactory.Create(this.Settings.ariaLabel)},_updateVirtualDom:function(){var e=this,t=function(){e.Flip()};t.hash=0;var n=null;return null!=this.Settings&&null!=this.AriaLabel&&((n=Fe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.buttonSettings.styles,n.Attributes.StringFactory=this.StringFactory,n.Attributes.AriaLabel=this.AriaLabel.Value),null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var mn=function(e){var t=this;this.state_AriaLabel=!1,this.state_VirtualDom=!1;var n=function(){e.AriaLabel=e._updateAriaLabel(),t.state_AriaLabel=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,a){t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n)},r=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)},l=function(e,n){null!=e&&Te.HiddenForget(e,"styles",r),null!=n&&Te.HiddenObserve(n,"styles",r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)},o=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)};Te.HiddenObserve(e,"StringFactory",(function(e,i){t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"Settings",(function(e,r){null!=e&&(Te.HiddenForget(e,"ariaLabel",i),Te.HiddenForget(e,"buttonSettings",l)),null!=r&&(Te.HiddenObserve(r,"ariaLabel",i),Te.HiddenObserve(r,"buttonSettings",l)),t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"AriaLabel",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};mn.__name__=!0;var Cn=function(){var e=C.stringGeneratorsByLength.h[0];null==e&&(e=new y(C.acceptedCharacters.split(""),null),C.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),Pe.call(this),this.GalleryComponentObserver=new yn(this)};Cn.__name__=!0,Cn.__super__=Pe,Cn.prototype=i(Pe.prototype,{_updateBookmarkQuery:function(){return null==this.Settings?null:"image"==this.Settings.type?new gt(".binkies-bookmark > img","src"):null},_updateActiveIndex:function(){var e=this;if(null==this.ActiveBookmarkHandler||null==this.ActiveBookmarkHandler.Value)return-1;if(null==this.Settings||null==this.Settings.bookmarks)return-1;var t=Fs.firstWhere(this.Settings.bookmarks,(function(t){return t.bookmark==e.ActiveBookmarkHandler.Value}));return null==t?-1:this.Settings.bookmarks.indexOf(t)},_updateBookmarkStyles:function(){var e=[];if(null==this.Settings||null==this.Settings.bookmarks)return e;for(var t=0,n=this.Settings.bookmarks.length;t<n;){var a=t++,i=null!=this.Settings.bookmarkStyles?this.Settings.bookmarkStyles.slice():[],r=this.Titles[a];null!=r&&i.push({text:{content:{id:"constant",settings:{value:r.Value}}}}),null!=this.BookmarkQuery&&null!=this.BookmarkQuery.Result&&i.push({imageSource:{id:"constant",settings:{value:this.BookmarkQuery.Result[a]}}}),e.push(i)}return e},_updateAriaLabels:function(){var e=[];if(null==this.Settings||null==this.Settings.bookmarks)return e;for(var t=0,n=this.Settings.bookmarks.length;t<n;){var a=t++;e.push(null!=this.Settings.bookmarks[a].ariaLabel?this.StringFactory.Create(this.Settings.bookmarks[a].ariaLabel):new ys(""))}return e},_updateTitles:function(){if(null==this.Settings||null==this.Settings.type)return[];if("text"!=this.Settings.type)return[];var e=[];if(null==this.Settings||null==this.Settings.bookmarks)return e;for(var t=0,n=this.Settings.bookmarks.length;t<n;){var a=t++;e.push(null!=this.Settings.bookmarks[a].title?this.StringFactory.Create(this.Settings.bookmarks[a].title):new ys(""))}return e},ClickBookmark:function(e){this.ActiveBookmarkHandler.SetValue(e),ee.Fire("bookmarkclicked",new te(e))},_updateVirtualDom:function(){var e=this,t=function(t){var n=function(){e.ClickBookmark(e.Settings.bookmarks[t].bookmark)};return n.hash="0-"+Ie.GetId(t),n},n=null;if(null!=this.Settings&&null!=this.Settings.bookmarks){(n=Fe.CreateNode("div")).Attributes.style="pointer-events: none; flex-wrap: wrap; overflow: hidden; flex: 0 1 auto;",n.Attributes.id=this.id,n.Attributes.class="binkies-gallery-container binkies-flex-centered";var a=n.AddNode("style");a.AddText("\n\t\t\t#"+this.id+" > div\n\t\t\t{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: inherit;\n\t\t\t\tmin-width: 0%;\n\t\t\t\tmin-height: 0%;\n\t\t\t}\n\n\t\t\t"),Hs.IsNullOrWhiteSpace(this.Settings.distanceBetweenItems)||a.AddText("\n\t\t\t#"+this.id+' > div + div::before\n\t\t\t{\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t\t");for(var i=0,r=this.AriaLabels.length;i<r;){var l=i++,o=n.AddNode("div");o.Attributes.class="binkies-gallery-item-wrapper";var s=o.AddNode("buttoncomponent"),u=t(l);s.Events.click=u,s.Attributes.Styles=this.BookmarkStyles[l],s.Attributes.StringFactory=this.StringFactory,s.Attributes.IsActive=l==this.ActiveIndex,s.Attributes.AriaLabel=this.AriaLabels[l].Value}}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var yn=function(e){var t=this;this.state_BookmarkQuery=!1,this.state_ActiveIndex=!1,this.state_BookmarkStyles=!1,this.state_AriaLabels=!1,this.state_Titles=!1,this.state_VirtualDom=!1;var n=function(){e.BookmarkQuery=e._updateBookmarkQuery(),t.state_BookmarkQuery=!0},a=function(){e.ActiveIndex=e._updateActiveIndex(),t.state_ActiveIndex=!0},i=function(){e.BookmarkStyles=e._updateBookmarkStyles(),t.state_BookmarkStyles=!0},r=function(){e.AriaLabels=e._updateAriaLabels(),t.state_AriaLabels=!0},l=function(){e.Titles=e._updateTitles(),t.state_Titles=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,a){t.state_BookmarkQuery=f.ScheduleCallback(t.state_BookmarkQuery,n),t.state_Titles=f.ScheduleCallback(t.state_Titles,l)},u=function(e,n){t.state_AriaLabels=f.ScheduleCallback(t.state_AriaLabels,r)},d=function(e,n){t.state_Titles=f.ScheduleCallback(t.state_Titles,l)},c=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)},h=function(e,n){null!=e&&(Te.HiddenForget(e,"ariaLabel",u),Te.HiddenForget(e,"title",d),Te.HiddenForget(e,"bookmark",c)),null!=n&&(Te.HiddenObserve(n,"ariaLabel",u),Te.HiddenObserve(n,"title",d),Te.HiddenObserve(n,"bookmark",c)),t.state_ActiveIndex=f.ScheduleCallback(t.state_ActiveIndex,a),t.state_BookmarkStyles=f.ScheduleCallback(t.state_BookmarkStyles,i),t.state_AriaLabels=f.ScheduleCallback(t.state_AriaLabels,r),t.state_Titles=f.ScheduleCallback(t.state_Titles,l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)},_=function(e,n){t.state_BookmarkStyles=f.ScheduleCallback(t.state_BookmarkStyles,i)},g=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)},b=function(e,n){t.state_ActiveIndex=f.ScheduleCallback(t.state_ActiveIndex,a)},v=function(e,n){t.state_BookmarkStyles=f.ScheduleCallback(t.state_BookmarkStyles,i)},S=function(e,n){t.state_BookmarkStyles=f.ScheduleCallback(t.state_BookmarkStyles,i)},p=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)};Te.HiddenObserve(e,"Settings",(function(e,u){null!=e&&(Te.HiddenForget(e,"type",s),Te.HiddenForget(e,"bookmarks",h),Te.HiddenForget(e,"bookmarkStyles",_),Te.HiddenForget(e,"distanceBetweenItems",g)),null!=u&&(Te.HiddenObserve(u,"type",s),Te.HiddenObserve(u,"bookmarks",h),Te.HiddenObserve(u,"bookmarkStyles",_),Te.HiddenObserve(u,"distanceBetweenItems",g)),t.state_BookmarkQuery=f.ScheduleCallback(t.state_BookmarkQuery,n),t.state_ActiveIndex=f.ScheduleCallback(t.state_ActiveIndex,a),t.state_BookmarkStyles=f.ScheduleCallback(t.state_BookmarkStyles,i),t.state_AriaLabels=f.ScheduleCallback(t.state_AriaLabels,r),t.state_Titles=f.ScheduleCallback(t.state_Titles,l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"ActiveBookmarkHandler",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",b),null!=n&&Te.HiddenObserve(n,"Value",b),t.state_ActiveIndex=f.ScheduleCallback(t.state_ActiveIndex,a)})),Te.HiddenObserve(e,"Titles",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",v),null!=n&&Te.HiddenObserve(n,"Value",v),t.state_BookmarkStyles=f.ScheduleCallback(t.state_BookmarkStyles,i)})),Te.HiddenObserve(e,"BookmarkQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",S),null!=n&&Te.HiddenObserve(n,"Result",S),t.state_BookmarkStyles=f.ScheduleCallback(t.state_BookmarkStyles,i)})),Te.HiddenObserve(e,"id",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"AriaLabels",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",p),null!=n&&Te.HiddenObserve(n,"Value",p),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"BookmarkStyles",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"ActiveIndex",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),l(),o()};yn.__name__=!0;var kn=function(){Pe.call(this),this.GoogleFormComponentObserver=new Hn(this)};kn.__name__=!0,kn.__super__=Pe,kn.prototype=i(Pe.prototype,{_updateFormIdValue:function(){return null==this.Settings||null==this.Settings.formId||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.formId)},_updateFormId:function(){return null==this.FormIdValue||null==this.FormIdValue.Value?null:this.FormIdValue.Value},_updateLangValue:function(){return null==this.Settings||null==this.Settings.lang||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.lang)},_updateLang:function(){return null==this.LangValue||null==this.LangValue.Value?null:this.LangValue.Value},_updatehtmlString:function(){if(null==this.FormId)return null;var e="https://docs.google.com/forms/d/e/"+this.FormId+"/viewform?embedded=true";return null!=this.Lang&&(e+="&hl="+this.Lang),e},_updateVirtualDom:function(){var e=null;if(null!=this.htmlString){(e=Fe.CreateNode("div")).Attributes.style="height: 100%; width:100%;";var t=e.AddNode("iframe");t.Attributes.style="height: 100%; width:100%; pointer-events: all",t.Attributes.src=this.htmlString,t.Attributes.marginwidth=0,t.Attributes.marginheight=0,t.Attributes.frameborder=0}return null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Hn=function(e){var t=this;this.state_FormIdValue=!1,this.state_FormId=!1,this.state_LangValue=!1,this.state_Lang=!1,this.state_htmlString=!1,this.state_VirtualDom=!1;var n=function(){e.FormIdValue=e._updateFormIdValue(),t.state_FormIdValue=!0},a=function(){e.FormId=e._updateFormId(),t.state_FormId=!0},i=function(){e.LangValue=e._updateLangValue(),t.state_LangValue=!0},r=function(){e.Lang=e._updateLang(),t.state_Lang=!0},l=function(){e.htmlString=e._updatehtmlString(),t.state_htmlString=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,a){t.state_FormIdValue=f.ScheduleCallback(t.state_FormIdValue,n)},u=function(e,n){t.state_LangValue=f.ScheduleCallback(t.state_LangValue,i)},d=function(e,n){t.state_FormId=f.ScheduleCallback(t.state_FormId,a)},c=function(e,n){t.state_Lang=f.ScheduleCallback(t.state_Lang,r)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"formId",s),Te.HiddenForget(e,"lang",u)),null!=a&&(Te.HiddenObserve(a,"formId",s),Te.HiddenObserve(a,"lang",u)),t.state_FormIdValue=f.ScheduleCallback(t.state_FormIdValue,n),t.state_LangValue=f.ScheduleCallback(t.state_LangValue,i)})),Te.HiddenObserve(e,"StringFactory",(function(e,a){t.state_FormIdValue=f.ScheduleCallback(t.state_FormIdValue,n),t.state_LangValue=f.ScheduleCallback(t.state_LangValue,i)})),Te.HiddenObserve(e,"FormIdValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",d),null!=n&&Te.HiddenObserve(n,"Value",d),t.state_FormId=f.ScheduleCallback(t.state_FormId,a)})),Te.HiddenObserve(e,"LangValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",c),null!=n&&Te.HiddenObserve(n,"Value",c),t.state_Lang=f.ScheduleCallback(t.state_Lang,r)})),Te.HiddenObserve(e,"FormId",(function(e,n){t.state_htmlString=f.ScheduleCallback(t.state_htmlString,l)})),Te.HiddenObserve(e,"Lang",(function(e,n){t.state_htmlString=f.ScheduleCallback(t.state_htmlString,l)})),Te.HiddenObserve(e,"htmlString",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),l(),o()};Hn.__name__=!0;var Vn=function(){Pe.call(this),this.GoToRouteButtonComponentObserver=new On(this)};Vn.__name__=!0,Vn.__super__=Pe,Vn.prototype=i(Pe.prototype,{Clicked:function(){this.Route.GoTo(this.Settings.route)},_updateAriaLabel:function(){return null==this.StringFactory||null==this.Settings?null:this.StringFactory.Create(this.Settings.ariaLabel)},_updateHasPopup:function(){return null!=this.Settings&&(null!=this.Route&&this.Settings.route==this.Route.FullscreenRoute)},_updateVirtualDom:function(){var e=this,t=function(){e.Clicked()};t.hash=0;var n=null;return null!=this.Settings&&null!=this.AriaLabel&&((n=Fe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory,n.Attributes.HasPopup=this.HasPopup,n.Attributes.AriaLabel=this.AriaLabel.Value),null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var On=function(e){var t=this;this.state_AriaLabel=!1,this.state_HasPopup=!1,this.state_VirtualDom=!1;var n=function(){e.AriaLabel=e._updateAriaLabel(),t.state_AriaLabel=!0},a=function(){e.HasPopup=e._updateHasPopup(),t.state_HasPopup=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,a){t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n)},l=function(e,n){t.state_HasPopup=f.ScheduleCallback(t.state_HasPopup,a)},o=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)},s=function(e,n){t.state_HasPopup=f.ScheduleCallback(t.state_HasPopup,a)},u=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)};Te.HiddenObserve(e,"StringFactory",(function(e,a){t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"Settings",(function(e,s){null!=e&&(Te.HiddenForget(e,"ariaLabel",r),Te.HiddenForget(e,"route",l),Te.HiddenForget(e,"styles",o)),null!=s&&(Te.HiddenObserve(s,"ariaLabel",r),Te.HiddenObserve(s,"route",l),Te.HiddenObserve(s,"styles",o)),t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n),t.state_HasPopup=f.ScheduleCallback(t.state_HasPopup,a),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"Route",(function(e,n){null!=e&&Te.HiddenForget(e,"FullscreenRoute",s),null!=n&&Te.HiddenObserve(n,"FullscreenRoute",s),t.state_HasPopup=f.ScheduleCallback(t.state_HasPopup,a)})),Te.HiddenObserve(e,"AriaLabel",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"HasPopup",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),n(),a(),i()};On.__name__=!0;var Fn=function(){Pe.call(this),this.GridAreaComponentObserver=new wn(this)};Fn.__name__=!0,Fn.__super__=Pe,Fn.prototype=i(Pe.prototype,{_updateCustomStyle:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=this.Settings.style,t=[];return Hs.IsNullOrWhiteSpace(e.padding)||t.push("padding: "+e.padding),Hs.IsNullOrWhiteSpace(e.opacity)||t.push("opacity: "+e.opacity),Hs.IsNullOrWhiteSpace(e.borderRadius)||t.push("border-radius: "+e.borderRadius),t.join(";")},_updateBorderStyle:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=this.Settings.style,t=[];return Hs.IsNullOrWhiteSpace(e.borderWidth)||t.push("border-width: "+e.borderWidth),Hs.IsNullOrWhiteSpace(e.borderColor)||t.push("border-color: "+e.borderColor),Hs.IsNullOrWhiteSpace(e.borderStyle)||t.push("border-style: "+e.borderStyle),Hs.IsNullOrWhiteSpace(e.backgroundColor)||t.push("background-color: "+e.backgroundColor),t.join(";")},_updateCellStyle:function(){if(null==this.Settings)return"";if(null==this.Positioning)return"";var e="box-sizing: border-box; pointer-events: none;";return e="box-sizing: border-box; pointer-events: none; position: absolute!important;",e+=" left: "+this.Positioning.X+"px!important;",e+=" top: "+this.Positioning.Y+"px!important;",e+=" width: "+this.Positioning.Width+"px!important;",e+=" height: "+this.Positioning.Height+"px!important;",Hs.IsNullOrWhiteSpace(this.CustomStyle)||(e+=this.CustomStyle),e},_updateComponent:function(){return null==this.ComponentFactory?null:this.ComponentFactory.Create(this.Settings.component)},_updateVirtualDom:function(){var e=Fe.CreateNode("div");if(e.Attributes.class="grid-cell",e.Attributes["data-binkies-content"]="layout",e.Attributes.style=this.CellStyle,null!=this.BorderStyle&&this.BorderStyle.length>0){var t=Fe.CreateNode("div");e.AddChild(t);var n=[this.BorderStyle,"width:100%; height:100%; top:0; left:0; position:absolute;"].join(";");t.Attributes.style=n}if(null!=this.Component&&null!=this.Component.Value&&e.AddChild(we.Clone(this.Component.Value)),null!=this.DebuggingEnabled&&1==this.DebuggingEnabled.Value){var a=Fe.CreateNode("elementdebugger");a.Attributes.CustomStyle="border: #ffa50099 outset 2px;",e.AddChild(a)}return e}});var wn=function(e){var t=this;this.state_CustomStyle=!1,this.state_BorderStyle=!1,this.state_CellStyle=!1,this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.CustomStyle=e._updateCustomStyle(),t.state_CustomStyle=!0},a=function(){e.BorderStyle=e._updateBorderStyle(),t.state_BorderStyle=!0},i=function(){e.CellStyle=e._updateCellStyle(),t.state_CellStyle=!0},r=function(){e.Component=e._updateComponent(),t.state_Component=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,i){t.state_CustomStyle=f.ScheduleCallback(t.state_CustomStyle,n),t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,a)},s=function(e,n){t.state_Component=f.ScheduleCallback(t.state_Component,r)},u=function(e,n){t.state_CellStyle=f.ScheduleCallback(t.state_CellStyle,i)},d=function(e,n){t.state_CellStyle=f.ScheduleCallback(t.state_CellStyle,i)},c=function(e,n){t.state_CellStyle=f.ScheduleCallback(t.state_CellStyle,i)},h=function(e,n){t.state_CellStyle=f.ScheduleCallback(t.state_CellStyle,i)},_=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)},g=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)};Te.HiddenObserve(e,"Settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"style",o),Te.HiddenForget(e,"component",s)),null!=l&&(Te.HiddenObserve(l,"style",o),Te.HiddenObserve(l,"component",s)),t.state_CustomStyle=f.ScheduleCallback(t.state_CustomStyle,n),t.state_BorderStyle=f.ScheduleCallback(t.state_BorderStyle,a),t.state_CellStyle=f.ScheduleCallback(t.state_CellStyle,i),t.state_Component=f.ScheduleCallback(t.state_Component,r)})),Te.HiddenObserve(e,"Positioning",(function(e,n){null!=e&&(Te.HiddenForget(e,"X",u),Te.HiddenForget(e,"Y",d),Te.HiddenForget(e,"Width",c),Te.HiddenForget(e,"Height",h)),null!=n&&(Te.HiddenObserve(n,"X",u),Te.HiddenObserve(n,"Y",d),Te.HiddenObserve(n,"Width",c),Te.HiddenObserve(n,"Height",h)),t.state_CellStyle=f.ScheduleCallback(t.state_CellStyle,i)})),Te.HiddenObserve(e,"CustomStyle",(function(e,n){t.state_CellStyle=f.ScheduleCallback(t.state_CellStyle,i)})),Te.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_Component=f.ScheduleCallback(t.state_Component,r)})),Te.HiddenObserve(e,"CellStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"BorderStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"Component",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",_),null!=n&&Te.HiddenObserve(n,"Value",_),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"DebuggingEnabled",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",g),null!=n&&Te.HiddenObserve(n,"Value",g),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),l()};wn.__name__=!0;var xn=a["binkies.integration.components.grid.GridCellSizeEnum"]={__ename__:!0,__constructs__:["Pixels","Percentage","Fraction"],Pixels:(t=function(e){return{_hx_index:0,value:e,__enum__:"binkies.integration.components.grid.GridCellSizeEnum",toString:n}},t.__params__=["value"],t),Percentage:(t=function(e){return{_hx_index:1,value:e,__enum__:"binkies.integration.components.grid.GridCellSizeEnum",toString:n}},t.__params__=["value"],t),Fraction:(t=function(e){return{_hx_index:2,value:e,__enum__:"binkies.integration.components.grid.GridCellSizeEnum",toString:n}},t.__params__=["value"],t)},Dn={__name__:!0,FromString:function(e){var t;if(Dn.PixelsEReg.match(e))t=xn.Pixels(c.parseInt(Dn.PixelsEReg.matched(1)));else if(Dn.PercentageEReg.match(e))t=xn.Percentage(c.parseInt(Dn.PercentageEReg.matched(1)));else{if(!Dn.FractionEReg.match(e))throw new ws("Invalid grid size value: "+e);t=xn.Fraction(c.parseInt(Dn.FractionEReg.matched(1)))}return t}},Pn=function(){Pe.call(this),this.GridComponentObserver=new An(this)};Pn.__name__=!0,Pn.__super__=Pe,Pn.prototype=i(Pe.prototype,{_updateIsHiddenValue:function(){return null==this.Settings||null==this.BoolFactory||null==this.Settings.isHidden?null:this.BoolFactory.Create(this.Settings.isHidden)},_updateIsHidden:function(){return null!=this.IsHiddenValue&&this.IsHiddenValue.Value},_updatePositioningStyle:function(){var e="0",t="0",n="0",a="0";if(null!=this.BoundaryOffset){var i=this.BoundaryOffset.left;e=null==i?"0":i;var r=this.BoundaryOffset.right;t=null==r?"0":r;var l=this.BoundaryOffset.top;n=null==l?"0":l;var o=this.BoundaryOffset.bottom;a=null==o?"0":o}return"left:"+e+"; right:"+t+"; top:"+n+"; bottom:"+a+";"},_updateColumns:function(){if(null==this.Settings||null==this.Settings.columns)return[];for(var e=this.Settings.columns,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=Dn.FromString(e[i])}return t},_updateRows:function(){if(null==this.Settings||null==this.Settings.rows)return[];for(var e=this.Settings.rows,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=Dn.FromString(e[i])}return t},_updateColumnsInPixels:function(){if(null==this.Columns)return null;if(null==this.Width)return null;var e=this.Columns,t=this.Width,n=[];return In.AddPixelValues(e,n),In.AddPercentageValues(e,n,t),In.AddFractionValues(e,n,t),n},_updateRowsInPixels:function(){if(null==this.Rows)return null;if(null==this.Height)return null;var e=this.Rows,t=this.Height,n=[];return In.AddPixelValues(e,n),In.AddPercentageValues(e,n,t),In.AddFractionValues(e,n,t),n},_updateGridAreaSettingsAndPositions:function(){var e=this;if(null==this.Settings||null==this.Settings.areas)return[];if(null==this.ColumnsInPixels)return[];if(null==this.RowsInPixels)return[];for(var t=this.Settings.areas,n=new Array(t.length),a=0,i=t.length;a<i;){var r=a++,l=t[r];n[r]={Positioning:{X:In.GetRange(e.ColumnsInPixels,0,l.column),Y:In.GetRange(e.RowsInPixels,0,l.row),Width:In.GetRange(e.ColumnsInPixels,l.column,l.column+l.width),Height:In.GetRange(e.RowsInPixels,l.row,l.row+l.height)},Settings:l}}return n},SensorSizeChanged:function(e,t){this.Width=e,this.Height=t},_updateVirtualDom:function(){var e=this,t=function(t,n){e.SensorSizeChanged(t,n)};t.hash=0;var n=null;if(null!=this.Settings){if((n=Fe.CreateNode("div")).Attributes.style="position: absolute; "+this.PositioningStyle+" "+(this.IsHidden?"display:none;":""),n.Attributes["data-binkies-content"]="layout",n.AddNode("resizesensor").Events.SizeChanged=t,null!=this.GridAreaSettingsAndPositions)for(var a=0,i=this.GridAreaSettingsAndPositions;a<i.length;){var r=i[a];++a;var l=n.AddNode("gridarea");l.Attributes.Settings=r.Settings,l.Attributes.Positioning=r.Positioning,l.Attributes.DebuggingEnabled=this.DebuggingEnabled,l.Attributes.ComponentFactory=this.ComponentFactory,"scene"==r.Settings.type&&n.AddNode("style").AddText("\n\t\t\t\t\t#binkies-scene\n\t\t\t\t\t{\n\t\t\t\t\t\tleft: "+r.Positioning.X+"px;\n\t\t\t\t\t\ttop: "+r.Positioning.Y+"px;\n\t\t\t\t\t\twidth: "+r.Positioning.Width+"px;\n\t\t\t\t\t\theight: "+r.Positioning.Height+"px;\n\t\t\t\t\t}\n\t\t\t\t"),"canvas"==r.Settings.type&&n.AddNode("style").AddText("\n\t\t\t\t\t#binkies-scene\n\t\t\t\t\t{\n\t\t\t\t\t\ttransform: translate(-"+r.Positioning.X+"px, -"+r.Positioning.Y+"px)\n\t\t\t\t\t}\n\t\t\t\t")}if(null!=this.DebuggingEnabled&&this.DebuggingEnabled.Value){var o=n.AddNode("div"),s="visibility:visible; opacity:1; display: grid; grid-template-columns: "+this.Settings.columns.join(" ")+"; grid-template-rows: "+this.Settings.rows.join(" ")+"; width:100%; height: 100%; border-bottom: 0.5px dashed green; border-left: 0.5px dashed green; z-index: 1;";o.Attributes.style=s;for(var u=0,d=this.Settings.rows;u<d.length;){++u;for(var c=0,h=this.Settings.columns;c<h.length;)++c,o.AddNode("div").Attributes.style="border-top: 0.5px dashed green; border-right: 0.5px dashed green;"}}}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var An=function(e){var t=this;this.state_IsHiddenValue=!1,this.state_IsHidden=!1,this.state_PositioningStyle=!1,this.state_Columns=!1,this.state_Rows=!1,this.state_ColumnsInPixels=!1,this.state_RowsInPixels=!1,this.state_GridAreaSettingsAndPositions=!1,this.state_VirtualDom=!1;var n=function(){e.IsHiddenValue=e._updateIsHiddenValue(),t.state_IsHiddenValue=!0},a=function(){e.IsHidden=e._updateIsHidden(),t.state_IsHidden=!0},i=function(){e.PositioningStyle=e._updatePositioningStyle(),t.state_PositioningStyle=!0},r=function(){e.Columns=e._updateColumns(),t.state_Columns=!0},l=function(){e.Rows=e._updateRows(),t.state_Rows=!0},o=function(){e.ColumnsInPixels=e._updateColumnsInPixels(),t.state_ColumnsInPixels=!0},s=function(){e.RowsInPixels=e._updateRowsInPixels(),t.state_RowsInPixels=!0},u=function(){e.GridAreaSettingsAndPositions=e._updateGridAreaSettingsAndPositions(),t.state_GridAreaSettingsAndPositions=!0},d=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},c=function(e,a){t.state_IsHiddenValue=f.ScheduleCallback(t.state_IsHiddenValue,n)},h=function(e,n){t.state_Columns=f.ScheduleCallback(t.state_Columns,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)},_=function(e,n){t.state_Rows=f.ScheduleCallback(t.state_Rows,l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)},g=function(e,n){t.state_GridAreaSettingsAndPositions=f.ScheduleCallback(t.state_GridAreaSettingsAndPositions,u)},b=function(e,n){t.state_IsHidden=f.ScheduleCallback(t.state_IsHidden,a)},v=function(e,n){t.state_PositioningStyle=f.ScheduleCallback(t.state_PositioningStyle,i)},S=function(e,n){t.state_PositioningStyle=f.ScheduleCallback(t.state_PositioningStyle,i)},p=function(e,n){t.state_PositioningStyle=f.ScheduleCallback(t.state_PositioningStyle,i)},m=function(e,n){t.state_PositioningStyle=f.ScheduleCallback(t.state_PositioningStyle,i)},C=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"isHidden",c),Te.HiddenForget(e,"columns",h),Te.HiddenForget(e,"rows",_),Te.HiddenForget(e,"areas",g)),null!=a&&(Te.HiddenObserve(a,"isHidden",c),Te.HiddenObserve(a,"columns",h),Te.HiddenObserve(a,"rows",_),Te.HiddenObserve(a,"areas",g)),t.state_IsHiddenValue=f.ScheduleCallback(t.state_IsHiddenValue,n),t.state_Columns=f.ScheduleCallback(t.state_Columns,r),t.state_Rows=f.ScheduleCallback(t.state_Rows,l),t.state_GridAreaSettingsAndPositions=f.ScheduleCallback(t.state_GridAreaSettingsAndPositions,u),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)})),Te.HiddenObserve(e,"BoolFactory",(function(e,a){t.state_IsHiddenValue=f.ScheduleCallback(t.state_IsHiddenValue,n)})),Te.HiddenObserve(e,"IsHiddenValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",b),null!=n&&Te.HiddenObserve(n,"Value",b),t.state_IsHidden=f.ScheduleCallback(t.state_IsHidden,a)})),Te.HiddenObserve(e,"BoundaryOffset",(function(e,n){null!=e&&(Te.HiddenForget(e,"left",v),Te.HiddenForget(e,"right",S),Te.HiddenForget(e,"top",p),Te.HiddenForget(e,"bottom",m)),null!=n&&(Te.HiddenObserve(n,"left",v),Te.HiddenObserve(n,"right",S),Te.HiddenObserve(n,"top",p),Te.HiddenObserve(n,"bottom",m)),t.state_PositioningStyle=f.ScheduleCallback(t.state_PositioningStyle,i)})),Te.HiddenObserve(e,"Columns",(function(e,n){t.state_ColumnsInPixels=f.ScheduleCallback(t.state_ColumnsInPixels,o)})),Te.HiddenObserve(e,"Width",(function(e,n){t.state_ColumnsInPixels=f.ScheduleCallback(t.state_ColumnsInPixels,o)})),Te.HiddenObserve(e,"Rows",(function(e,n){t.state_RowsInPixels=f.ScheduleCallback(t.state_RowsInPixels,s)})),Te.HiddenObserve(e,"Height",(function(e,n){t.state_RowsInPixels=f.ScheduleCallback(t.state_RowsInPixels,s)})),Te.HiddenObserve(e,"ColumnsInPixels",(function(e,n){t.state_GridAreaSettingsAndPositions=f.ScheduleCallback(t.state_GridAreaSettingsAndPositions,u)})),Te.HiddenObserve(e,"RowsInPixels",(function(e,n){t.state_GridAreaSettingsAndPositions=f.ScheduleCallback(t.state_GridAreaSettingsAndPositions,u)})),Te.HiddenObserve(e,"PositioningStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)})),Te.HiddenObserve(e,"IsHidden",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)})),Te.HiddenObserve(e,"GridAreaSettingsAndPositions",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)})),Te.HiddenObserve(e,"DebuggingEnabled",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",C),null!=n&&Te.HiddenObserve(n,"Value",C),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)})),Te.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,d)})),n(),a(),i(),r(),l(),o(),s(),u(),d()};An.__name__=!0;var In={__name__:!0,GetRange:function(e,t,n){for(var a=0,i=t=Math.round(Math.max(0,Math.min(t,e.length))),r=n=Math.round(Math.max(0,Math.min(n,e.length)));i<r;)a+=e[i++];return a},AddPixelValues:function(e,t){for(var n=0,a=e.length;n<a;){var i=n++,r=e[i];0==r._hx_index&&(t[i]=r.value)}},AddPercentageValues:function(e,t,n){for(var a=0,i=e.length;a<i;){var r=a++,l=e[r];1==l._hx_index&&(t[r]=Math.floor(n*l.value*.01))}},AddFractionValues:function(e,t,n){for(var a=In.CalculateOneFractionPixelLength(e,t,n),i=0,r=e.length;i<r;){var l=i++,o=e[l];2==o._hx_index&&(t[l]=Math.floor(a*o.value))}},CalculateOneFractionPixelLength:function(e,t,n){var a=Math.max(n-In.SumValues(t),0),i=o.fold(e,(function(e,t){return 2==e._hx_index?t+e.value:t}),0);return 0==i?0:a/i},SumValues:function(e){return o.fold(e,(function(e,t){return null==e?t:t+e}),0)}},Tn=function(){this.simpleHand="Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Trident")>-1||"Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Edge")>-1,Pe.call(this),this.HandComponentObserver=new Mn(this)};Tn.__name__=!0,Tn.__super__=Pe,Tn.prototype=i(Pe.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.NavigationFocusMode&&(null!=this.State&&(!this.State.IsEngaged&&"none"!=this.NavigationFocusMode.Value)))},_updatePointerStyle:function(){return"position: relative;","position: relative;width: 100%;","height: 100%;","text-align: left;","opacity: 0;","animation: binkies-pointer-animation 13.75s 4s infinite;","position: relative;width: 100%;height: 100%;text-align: left;opacity: 0;animation: binkies-pointer-animation 13.75s 4s infinite;"},_updatePointerInnerVisualStyle:function(){if(null==this.Settings)return"";var e="";return e="display: inline-block;",e="display: inline-block;border: 2px solid;",e+="position: absolute;",e+="opacity: 0;",e+="margin-top: 3px;",e+="margin-left: 5px;",e+="width: 28px;",e+="height: 28px;",e+="border-radius: 50%;",e+="border-color: "+this.Settings.circleColor},_updatePointerOuterStyle:function(){if(null==this.Settings)return"";var e="";return e="display: inline-block;",e="display: inline-block;border: 2px solid;",e+="position: absolute;",e+="opacity: 0;",e+="margin-top: 3px;",e+="margin-left: 5px;",e+="width: 28px;",e+="height: 28px;",e+="border-radius: 50%;",e+="border-color: "+this.Settings.circleColor},_updatePointerDisplayStyle:function(){if(null==this.Settings)return"";var e="";return e='background-image: url("'+this.Settings.imageSource+'");',e+="background-size: cover;",e+="background-repeat: repeat;",e+="width: 48px;",e+="height: 77px;",e+="position: absolute;",e+="background-position: 48px 0px;"},_updateVirtualDom:function(){var e=null;if(this.Display){(e=Fe.CreateNode("div")).Attributes.id="binkies-pointer-area",e.Attributes.class="binkies-unselectable "+(this.simpleHand?"binkies-simple-hand":"binkies-modern-hand");var t=e.AddNode("div");t.Attributes.style=this.PointerStyle;var n=t.AddNode("div");n.Attributes.style=this.PointerInnerVisualStyle,n.Attributes.class="binkies-pointer-inner-visual";var a=t.AddNode("div");a.Attributes.style=this.PointerOuterStyle,a.Attributes.class="binkies-pointer-outer-visual";var i=t.AddNode("div");i.Attributes.style=this.PointerDisplayStyle,i.Attributes.class="binkies-pointer-display"}return null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Mn=function(e){var t=this;this.state_Display=!1,this.state_PointerStyle=!1,this.state_PointerInnerVisualStyle=!1,this.state_PointerOuterStyle=!1,this.state_PointerDisplayStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.PointerInnerVisualStyle=e._updatePointerInnerVisualStyle(),t.state_PointerInnerVisualStyle=!0},i=function(){e.PointerOuterStyle=e._updatePointerOuterStyle(),t.state_PointerOuterStyle=!0},r=function(){e.PointerDisplayStyle=e._updatePointerDisplayStyle(),t.state_PointerDisplayStyle=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,n){t.state_PointerInnerVisualStyle=f.ScheduleCallback(t.state_PointerInnerVisualStyle,a),t.state_PointerOuterStyle=f.ScheduleCallback(t.state_PointerOuterStyle,i)},s=function(e,n){t.state_PointerDisplayStyle=f.ScheduleCallback(t.state_PointerDisplayStyle,r)},u=function(e,a){t.state_Display=f.ScheduleCallback(t.state_Display,n)},d=function(e,a){t.state_Display=f.ScheduleCallback(t.state_Display,n)};Te.HiddenObserve(e,"Settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"circleColor",o),Te.HiddenForget(e,"imageSource",s)),null!=l&&(Te.HiddenObserve(l,"circleColor",o),Te.HiddenObserve(l,"imageSource",s)),t.state_Display=f.ScheduleCallback(t.state_Display,n),t.state_PointerInnerVisualStyle=f.ScheduleCallback(t.state_PointerInnerVisualStyle,a),t.state_PointerOuterStyle=f.ScheduleCallback(t.state_PointerOuterStyle,i),t.state_PointerDisplayStyle=f.ScheduleCallback(t.state_PointerDisplayStyle,r)})),Te.HiddenObserve(e,"NavigationFocusMode",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",u),null!=a&&Te.HiddenObserve(a,"Value",u),t.state_Display=f.ScheduleCallback(t.state_Display,n)})),Te.HiddenObserve(e,"State",(function(e,a){null!=e&&Te.HiddenForget(e,"IsEngaged",d),null!=a&&Te.HiddenObserve(a,"IsEngaged",d),t.state_Display=f.ScheduleCallback(t.state_Display,n)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"simpleHand",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"PointerStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"PointerInnerVisualStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"PointerOuterStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"PointerDisplayStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),n(),e.PointerStyle=e._updatePointerStyle(),t.state_PointerStyle=!0,a(),i(),r(),l()};Mn.__name__=!0;var Rn=function(){this.documentLanguage=new bt("html",null,(function(e){return e.getAttribute("lang")})),Pe.call(this),this.ImageComponentObserver=new Nn(this)};Rn.__name__=!0,Rn.__super__=Pe,Rn.prototype=i(Pe.prototype,{_updateBackgroundImageCSS:function(){return null==this.ImageSource?"":'background-image: url("'+this.ImageSource+'"); background-repeat: no-repeat; background-position: center; background-size: contain;'},_updateImageSourceValue:function(){return null==this.Settings||null==this.Settings.imageSource?null:this.StringFactory.Create(this.Settings.imageSource)},_updateImageSource:function(){return null==this.ImageSourceValue?null:this.ImageSourceValue.Value},_updateVirtualDom:function(){var e=null;return(e=Fe.CreateNode("div")).Attributes.style="position: relative; height: 100%; width: 100%; "+this.BackgroundImageCSS,e.Attributes.class="binkies-unselectable",null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Nn=function(e){var t=this;this.state_BackgroundImageCSS=!1,this.state_ImageSourceValue=!1,this.state_ImageSource=!1,this.state_VirtualDom=!1;var n=function(){e.BackgroundImageCSS=e._updateBackgroundImageCSS(),t.state_BackgroundImageCSS=!0},a=function(){e.ImageSourceValue=e._updateImageSourceValue(),t.state_ImageSourceValue=!0},i=function(){e.ImageSource=e._updateImageSource(),t.state_ImageSource=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},l=function(e,n){t.state_ImageSourceValue=f.ScheduleCallback(t.state_ImageSourceValue,a)},o=function(e,n){t.state_ImageSource=f.ScheduleCallback(t.state_ImageSource,i)};Te.HiddenObserve(e,"ImageSource",(function(e,a){t.state_BackgroundImageCSS=f.ScheduleCallback(t.state_BackgroundImageCSS,n)})),Te.HiddenObserve(e,"Settings",(function(e,n){null!=e&&Te.HiddenForget(e,"imageSource",l),null!=n&&Te.HiddenObserve(n,"imageSource",l),t.state_ImageSourceValue=f.ScheduleCallback(t.state_ImageSourceValue,a)})),Te.HiddenObserve(e,"ImageSourceValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_ImageSource=f.ScheduleCallback(t.state_ImageSource,i)})),Te.HiddenObserve(e,"BackgroundImageCSS",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};Nn.__name__=!0;var Ln=function(){var e=C.stringGeneratorsByLength.h[0];null==e&&(e=new y(C.acceptedCharacters.split(""),null),C.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),Pe.call(this),this.InlineBoxComponentObserver=new Bn(this)};Ln.__name__=!0,Ln.__super__=Pe,Ln.prototype=i(Pe.prototype,{_updateBoxClasses:function(){if(null==this.Settings)return"";var e=[];switch(this.Settings.direction){case"horizontal":e.push("binkies-horizontal-box");break;case"vertical":e.push("binkies-vertical-box")}switch(this.Settings.alignment){case"center":e.push("binkies-center-aligned");break;case"end":e.push("binkies-end-aligned");break;case"spacebetween":e.push("binkies-spacebetween-aligned");break;case"start":e.push("binkies-start-aligned");break;case"stretch":e.push("binkies-stretch-aligned")}return e.join(" ")},GetBoxStyle:function(){var e=[];return e.push("width:100%"),e.push("height:100%"),e.push("box-sizing: border-box"),e.push("pointer-events: none"),e.push("position: relative"),e.join(";")},_updateValueDefinitions:function(){return null==this.Settings||null==this.Settings.components?[]:this.Settings.components},_updateDistanceStyle:function(){return null==this.Settings||null==this.Settings.distanceBetweenItems?null:"\n\t\t\t#"+this.id+'>*:not(style)+*::before {\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t"},_updateVirtualDom:function(){if(null==this.ComponentFactory)return null;var e=Fe.CreateNode("div");e.Attributes.id=this.id;var t=[];t.push("width:100%"),t.push("height:100%"),t.push("box-sizing: border-box"),t.push("pointer-events: none"),t.push("position: relative");var n=t.join(";");e.Attributes.style=n,e.Attributes.class=this.BoxClasses,e.Attributes["data-binkies-content"]="layout",null!=this.DistanceStyle&&e.AddNode("style").AddText(this.DistanceStyle);for(var a=0,i=this.ValueDefinitions;a<i.length;)e.AddChild(this.ComponentFactory.Create(i[a++]).Value);return e}});var Bn=function(e){var t=this;this.state_BoxClasses=!1,this.state_ValueDefinitions=!1,this.state_DistanceStyle=!1,this.state_VirtualDom=!1;var n=function(){e.BoxClasses=e._updateBoxClasses(),t.state_BoxClasses=!0},a=function(){e.ValueDefinitions=e._updateValueDefinitions(),t.state_ValueDefinitions=!0},i=function(){e.DistanceStyle=e._updateDistanceStyle(),t.state_DistanceStyle=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},l=function(e,a){t.state_BoxClasses=f.ScheduleCallback(t.state_BoxClasses,n)},o=function(e,a){t.state_BoxClasses=f.ScheduleCallback(t.state_BoxClasses,n)},s=function(e,n){t.state_ValueDefinitions=f.ScheduleCallback(t.state_ValueDefinitions,a)},u=function(e,n){t.state_DistanceStyle=f.ScheduleCallback(t.state_DistanceStyle,i)};Te.HiddenObserve(e,"Settings",(function(e,r){null!=e&&(Te.HiddenForget(e,"direction",l),Te.HiddenForget(e,"alignment",o),Te.HiddenForget(e,"components",s),Te.HiddenForget(e,"distanceBetweenItems",u)),null!=r&&(Te.HiddenObserve(r,"direction",l),Te.HiddenObserve(r,"alignment",o),Te.HiddenObserve(r,"components",s),Te.HiddenObserve(r,"distanceBetweenItems",u)),t.state_BoxClasses=f.ScheduleCallback(t.state_BoxClasses,n),t.state_ValueDefinitions=f.ScheduleCallback(t.state_ValueDefinitions,a),t.state_DistanceStyle=f.ScheduleCallback(t.state_DistanceStyle,i)})),Te.HiddenObserve(e,"id",(function(e,n){t.state_DistanceStyle=f.ScheduleCallback(t.state_DistanceStyle,i),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"BoxClasses",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"DistanceStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),Te.HiddenObserve(e,"ValueDefinitions",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};Bn.__name__=!0;var En=function(){this.isMounted=!1,Pe.call(this),this.IntegrationPlayerComponentObserver=new Wn(this)};En.__name__=!0,En.__super__=Pe,En.prototype=i(Pe.prototype,{Mounted:function(){Pe.prototype.Mounted.call(this),this.isMounted=!0},Unmounted:function(){Pe.prototype.Unmounted.call(this),this.isMounted=!1},_updateAriaLabel:function(){return null==this.StringFactory||null==this.Settings?null:this.StringFactory.Create(this.Settings.ariaLabel)},_updateNavigation:function(){return null==this.NavigationFactory?null:(null!=this.Navigation&&this.Navigation.Stop(),this.NavigationFactory.Create(this.Settings.navigation))},_updateMountedChanged:function(){return null==this.Navigation?null:(this.isMounted?this.Navigation.Start():this.Navigation.Stop(),!0)},_updatePlayerParameters:function(){if(null==this.Settings)return null;if(null==this.NavigationFocusMode)return null;var e=this.PlayerParameters;null==e&&(e={lightmapPath:null,browserSupportsBrotli:null,backgroundColor:null,backgroundTransparent:null,galleryBookmarks:null,galleryBookmarkWidth:null,galleryBookmarkHeight:null,navigationModel:"external",navigationFocus:null,navigationMargin:50,autoRotationEnabled:!0,yaw:0,pitch:0,roll:0,fieldOfView:22,bookmarkClass:null});var t=window.BinkiesSettings.ViewSettings,n=this.Settings.lightmapPath;e.lightmapPath=null==n?t.LightmapPath:n;var a=this.Settings.browserSupportsBrotli;e.browserSupportsBrotli=null==a?t.BrowserSupportsBrotli:a;var i=this.Settings.backgroundColor;e.backgroundColor=null==i?"#000000":i;var r=this.Settings.backgroundTransparent;e.backgroundTransparent=null==r||r;for(var l=this.Settings.galleryBookmarks,o=new Array(l.length),s=0,u=l.length;s<u;){var d=s++;o[d]=l[d].bookmark}return e.galleryBookmarks=o,e.galleryBookmarkWidth=this.Settings.galleryBookmarkWidth,e.galleryBookmarkHeight=this.Settings.galleryBookmarkHeight,e.navigationFocus=this.NavigationFocusMode.Value,e},PlayerMounted:function(e){var t=new gi(new vi(new fi(e.Renderer.Device.Canvas,this.NavigationFocusMode)),new pi(new mi(e.Renderer.Device.Canvas,this.NavigationFocusMode)));t=new Uo(t),this.PassThroughProvider.SetGestureProvider(t),this.PassThroughProvider.SetRayProvider(new Rt(e))},CompositionsChanged:function(e){this.PassThroughProvider.SetBoundingVolumeProvider(new Wo(e))},_updateVirtualDom:function(){var e=this,t=function(t){e.PlayerMounted(t)};t.hash=0;var n=function(t){e.CompositionsChanged(t)};n.hash=1;var a=null;return null!=this.Settings&&null!=this.PlayerParameters&&null!=this.PlayerDownloader&&this.PlayerDownloader.Downloaded&&((a=Fe.CreateNode("player")).Events.PlayerMounted=t,a.Events.CompositionsChanged=n,a.Attributes.SceneManager=this.SceneManager,a.Attributes.PlayerProvider=this.PlayerProvider,a.Attributes.PlayerParameters=this.PlayerParameters,a.Attributes.NavigationManager=this.NavigationManager,a.Attributes.ContentQueue=this.ContentQueue,a.Attributes.AriaLabel=this.AriaLabel.Value),null==a&&(a=Fe.CreateNode(this.converter.GetPlaceholderTag())),a}});var Wn=function(e){var t=this;this.state_AriaLabel=!1,this.state_Navigation=!1,this.state_MountedChanged=!1,this.state_PlayerParameters=!1,this.state_VirtualDom=!1;var n=function(){e.AriaLabel=e._updateAriaLabel(),t.state_AriaLabel=!0},a=function(){e.Navigation=e._updateNavigation(),t.state_Navigation=!0},i=function(){e.MountedChanged=e._updateMountedChanged(),t.state_MountedChanged=!0},r=function(){e.PlayerParameters=e._updatePlayerParameters(),t.state_PlayerParameters=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Te.HiddenObserve(window,"BinkiesSettings",(function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)}));var o=function(e,a){t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n)},s=function(e,n){t.state_Navigation=f.ScheduleCallback(t.state_Navigation,a)},u=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},d=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},c=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},h=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},_=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},g=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},b=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},v=function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)},S=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)},p=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)};Te.HiddenObserve(e,"StringFactory",(function(e,a){t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n)})),Te.HiddenObserve(e,"Settings",(function(e,i){null!=e&&(Te.HiddenForget(e,"ariaLabel",o),Te.HiddenForget(e,"navigation",s),Te.HiddenForget(e,"lightmapPath",u),Te.HiddenForget(e,"browserSupportsBrotli",d),Te.HiddenForget(e,"backgroundColor",c),Te.HiddenForget(e,"backgroundTransparent",h),Te.HiddenForget(e,"galleryBookmarks",_),Te.HiddenForget(e,"galleryBookmarkWidth",g),Te.HiddenForget(e,"galleryBookmarkHeight",b)),null!=i&&(Te.HiddenObserve(i,"ariaLabel",o),Te.HiddenObserve(i,"navigation",s),Te.HiddenObserve(i,"lightmapPath",u),Te.HiddenObserve(i,"browserSupportsBrotli",d),Te.HiddenObserve(i,"backgroundColor",c),Te.HiddenObserve(i,"backgroundTransparent",h),Te.HiddenObserve(i,"galleryBookmarks",_),Te.HiddenObserve(i,"galleryBookmarkWidth",g),Te.HiddenObserve(i,"galleryBookmarkHeight",b)),t.state_AriaLabel=f.ScheduleCallback(t.state_AriaLabel,n),t.state_Navigation=f.ScheduleCallback(t.state_Navigation,a),t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"NavigationFactory",(function(e,n){t.state_Navigation=f.ScheduleCallback(t.state_Navigation,a)})),Te.HiddenObserve(e,"Navigation",(function(e,n){t.state_Navigation=f.ScheduleCallback(t.state_Navigation,a),t.state_MountedChanged=f.ScheduleCallback(t.state_MountedChanged,i)})),Te.HiddenObserve(e,"isMounted",(function(e,n){t.state_MountedChanged=f.ScheduleCallback(t.state_MountedChanged,i)})),Te.HiddenObserve(e,"NavigationFocusMode",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",v),null!=n&&Te.HiddenObserve(n,"Value",v),t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r)})),Te.HiddenObserve(e,"PlayerParameters",(function(e,n){t.state_PlayerParameters=f.ScheduleCallback(t.state_PlayerParameters,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"PlayerDownloader",(function(e,n){null!=e&&Te.HiddenForget(e,"Downloaded",S),null!=n&&Te.HiddenObserve(n,"Downloaded",S),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"SceneManager",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"PlayerProvider",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"NavigationManager",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"ContentQueue",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"AriaLabel",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",p),null!=n&&Te.HiddenObserve(n,"Value",p),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),l()};Wn.__name__=!0;var Un=function(){Pe.call(this),this.LayoutComponentObserver=new zn(this)};Un.__name__=!0,Un.__super__=Pe,Un.prototype=i(Pe.prototype,{_updateIsFullscreen:function(){return null!=this.Route&&this.Route.ContainsFullscreen},_updateLayouts:function(){if(null==this.State||null==this.State.ContentAvailable)return null;if(null==this.Settings)return null;if(null==this.DisplayMode)return null;var e=this.DisplayMode.Value;if(null==e)return null;switch(e){case"behindbutton":return this.State.ContentAvailable?this.Settings.behindButtonLayouts:null;case"onpage":return this.Settings.onPageLayouts;default:return null}},_updateFullscreenLayouts:function(){return null==this.Settings||null==this.Settings.fullscreenLayouts?null:this.Settings.fullscreenLayouts},_updateEnabledFlags:function(){if(null==this.Layouts)return[];for(var e=[],t=0,n=this.Layouts;t<n.length;)e.push(this.BoolFactory.Create(n[t++].enabled));return e},_updateFullscreenEnabledFlags:function(){if(null==this.FullscreenLayouts)return[];for(var e=[],t=0,n=this.FullscreenLayouts;t<n.length;)e.push(this.BoolFactory.Create(n[t++].enabled));return e},_updateActiveLayouts:function(){return this.IsFullscreen?this.FullscreenLayouts:this.Layouts},_updateActiveEnabledFlags:function(){return this.IsFullscreen?this.FullscreenEnabledFlags:this.EnabledFlags},_updateActiveLayout:function(){if(null==this.ActiveLayouts)return null;for(var e=0,t=this.ActiveEnabledFlags.length;e<t;){var n=e++;if(this.ActiveEnabledFlags[n].Value)return this.ActiveLayouts[n]}return null},_updateActiveGrid:function(){return null==this.ComponentFactory||null==this.ActiveLayout||null==this.ActiveLayout.component?null:this.ComponentFactory.Create(this.ActiveLayout.component)},_updateVirtualDom:function(){if(null==this.ActiveGrid||null==this.ActiveGrid.Value)return null;var e=this.ActiveGrid.Value;return e.Attributes.BoundaryOffset=this.ActiveLayout.componentBoundaryOffset,e}});var zn=function(e){var t=this;this.state_IsFullscreen=!1,this.state_Layouts=!1,this.state_FullscreenLayouts=!1,this.state_EnabledFlags=!1,this.state_FullscreenEnabledFlags=!1,this.state_ActiveLayouts=!1,this.state_ActiveEnabledFlags=!1,this.state_ActiveLayout=!1,this.state_ActiveGrid=!1,this.state_VirtualDom=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(){e.Layouts=e._updateLayouts(),t.state_Layouts=!0},i=function(){e.FullscreenLayouts=e._updateFullscreenLayouts(),t.state_FullscreenLayouts=!0},r=function(){e.EnabledFlags=e._updateEnabledFlags(),t.state_EnabledFlags=!0},l=function(){e.FullscreenEnabledFlags=e._updateFullscreenEnabledFlags(),t.state_FullscreenEnabledFlags=!0},o=function(){e.ActiveLayouts=e._updateActiveLayouts(),t.state_ActiveLayouts=!0},s=function(){e.ActiveEnabledFlags=e._updateActiveEnabledFlags(),t.state_ActiveEnabledFlags=!0},u=function(){e.ActiveLayout=e._updateActiveLayout(),t.state_ActiveLayout=!0},d=function(){e.ActiveGrid=e._updateActiveGrid(),t.state_ActiveGrid=!0},c=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},h=function(e,a){t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)},_=function(e,n){t.state_Layouts=f.ScheduleCallback(t.state_Layouts,a)},g=function(e,n){t.state_Layouts=f.ScheduleCallback(t.state_Layouts,a)},b=function(e,n){t.state_Layouts=f.ScheduleCallback(t.state_Layouts,a)},v=function(e,n){t.state_FullscreenLayouts=f.ScheduleCallback(t.state_FullscreenLayouts,i)},S=function(e,n){t.state_Layouts=f.ScheduleCallback(t.state_Layouts,a)},p=function(e,n){t.state_EnabledFlags=f.ScheduleCallback(t.state_EnabledFlags,r)},m=function(e,n){t.state_FullscreenEnabledFlags=f.ScheduleCallback(t.state_FullscreenEnabledFlags,l)},C=function(e,n){t.state_ActiveLayout=f.ScheduleCallback(t.state_ActiveLayout,u)},y=function(e,n){t.state_ActiveGrid=f.ScheduleCallback(t.state_ActiveGrid,d)},k=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,c)},H=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,c)},V=function(e,n){null!=e&&Te.HiddenForget(e,"Attributes",H),null!=n&&Te.HiddenObserve(n,"Attributes",H),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,c)};Te.HiddenObserve(e,"Route",(function(e,a){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",h),null!=a&&Te.HiddenObserve(a,"ContainsFullscreen",h),t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)})),Te.HiddenObserve(e,"State",(function(e,n){null!=e&&Te.HiddenForget(e,"ContentAvailable",_),null!=n&&Te.HiddenObserve(n,"ContentAvailable",_),t.state_Layouts=f.ScheduleCallback(t.state_Layouts,a)})),Te.HiddenObserve(e,"Settings",(function(e,n){null!=e&&(Te.HiddenForget(e,"behindButtonLayouts",g),Te.HiddenForget(e,"onPageLayouts",b),Te.HiddenForget(e,"fullscreenLayouts",v)),null!=n&&(Te.HiddenObserve(n,"behindButtonLayouts",g),Te.HiddenObserve(n,"onPageLayouts",b),Te.HiddenObserve(n,"fullscreenLayouts",v)),t.state_Layouts=f.ScheduleCallback(t.state_Layouts,a),t.state_FullscreenLayouts=f.ScheduleCallback(t.state_FullscreenLayouts,i)})),Te.HiddenObserve(e,"DisplayMode",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",S),null!=n&&Te.HiddenObserve(n,"Value",S),t.state_Layouts=f.ScheduleCallback(t.state_Layouts,a)})),Te.HiddenObserve(e,"Layouts",(function(e,n){null!=e&&Te.HiddenForget(e,"enabled",p),null!=n&&Te.HiddenObserve(n,"enabled",p),t.state_EnabledFlags=f.ScheduleCallback(t.state_EnabledFlags,r),t.state_ActiveLayouts=f.ScheduleCallback(t.state_ActiveLayouts,o)})),Te.HiddenObserve(e,"FullscreenLayouts",(function(e,n){null!=e&&Te.HiddenForget(e,"enabled",m),null!=n&&Te.HiddenObserve(n,"enabled",m),t.state_FullscreenEnabledFlags=f.ScheduleCallback(t.state_FullscreenEnabledFlags,l),t.state_ActiveLayouts=f.ScheduleCallback(t.state_ActiveLayouts,o)})),Te.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_ActiveLayouts=f.ScheduleCallback(t.state_ActiveLayouts,o),t.state_ActiveEnabledFlags=f.ScheduleCallback(t.state_ActiveEnabledFlags,s)})),Te.HiddenObserve(e,"FullscreenEnabledFlags",(function(e,n){t.state_ActiveEnabledFlags=f.ScheduleCallback(t.state_ActiveEnabledFlags,s)})),Te.HiddenObserve(e,"EnabledFlags",(function(e,n){t.state_ActiveEnabledFlags=f.ScheduleCallback(t.state_ActiveEnabledFlags,s)})),Te.HiddenObserve(e,"ActiveLayouts",(function(e,n){t.state_ActiveLayout=f.ScheduleCallback(t.state_ActiveLayout,u)})),Te.HiddenObserve(e,"ActiveEnabledFlags",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",C),null!=n&&Te.HiddenObserve(n,"Value",C),t.state_ActiveLayout=f.ScheduleCallback(t.state_ActiveLayout,u)})),Te.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_ActiveGrid=f.ScheduleCallback(t.state_ActiveGrid,d)})),Te.HiddenObserve(e,"ActiveLayout",(function(e,n){null!=e&&(Te.HiddenForget(e,"component",y),Te.HiddenForget(e,"componentBoundaryOffset",k)),null!=n&&(Te.HiddenObserve(n,"component",y),Te.HiddenObserve(n,"componentBoundaryOffset",k)),t.state_ActiveGrid=f.ScheduleCallback(t.state_ActiveGrid,d),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,c)})),Te.HiddenObserve(e,"ActiveGrid",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",V),null!=n&&Te.HiddenObserve(n,"Value",V),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,c)})),n(),a(),i(),r(),l(),o(),s(),u(),d(),c()};zn.__name__=!0;var Gn=function(){Pe.call(this),this.LinkButtonComponentObserver=new Xn(this)};Gn.__name__=!0,Gn.__super__=Pe,Gn.prototype=i(Pe.prototype,{_updateLinkValue:function(){return null==this.StringFactory?null:this.StringFactory.Create(this.Settings.link)},_updateLink:function(){return null==this.LinkValue?"":this.LinkValue.Value},_updateOpenInTabValue:function(){return null==this.Settings||null==this.BoolFactory?null:this.BoolFactory.Create(this.Settings.openInNewTab)},_updateOpenInTab:function(){return null==this.OpenInTabValue||(null==this.OpenInTabValue.Value||this.OpenInTabValue.Value)},AnchorClicked:function(){ee.Fire("linkfollowed",new ge(this.Link))},_updateVirtualDom:function(){var e=this,t=function(){e.AnchorClicked()};t.hash=0;var n=null;if(null!=this.Settings){(n=Fe.CreateNode("a")).Attributes.target=this.OpenInTab?"_blank":"_self",n.Attributes.style="width:100%; height:100%; text-decoration: none;",n.Attributes.href=this.Link,n.Attributes.class="binkies-flex-centered";var a=n.AddNode("buttoncomponent");a.Events.click=t,a.Attributes.Styles=this.Settings.styles,a.Attributes.StringFactory=this.StringFactory}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var Xn=function(e){var t=this;this.state_LinkValue=!1,this.state_Link=!1,this.state_OpenInTabValue=!1,this.state_OpenInTab=!1,this.state_VirtualDom=!1;var n=function(){e.LinkValue=e._updateLinkValue(),t.state_LinkValue=!0},a=function(){e.Link=e._updateLink(),t.state_Link=!0},i=function(){e.OpenInTabValue=e._updateOpenInTabValue(),t.state_OpenInTabValue=!0},r=function(){e.OpenInTab=e._updateOpenInTab(),t.state_OpenInTab=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,a){t.state_LinkValue=f.ScheduleCallback(t.state_LinkValue,n)},s=function(e,n){t.state_OpenInTabValue=f.ScheduleCallback(t.state_OpenInTabValue,i)},u=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)},d=function(e,n){t.state_Link=f.ScheduleCallback(t.state_Link,a)},c=function(e,n){t.state_OpenInTab=f.ScheduleCallback(t.state_OpenInTab,r)};Te.HiddenObserve(e,"StringFactory",(function(e,a){t.state_LinkValue=f.ScheduleCallback(t.state_LinkValue,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"link",o),Te.HiddenForget(e,"openInNewTab",s),Te.HiddenForget(e,"styles",u)),null!=a&&(Te.HiddenObserve(a,"link",o),Te.HiddenObserve(a,"openInNewTab",s),Te.HiddenObserve(a,"styles",u)),t.state_LinkValue=f.ScheduleCallback(t.state_LinkValue,n),t.state_OpenInTabValue=f.ScheduleCallback(t.state_OpenInTabValue,i),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"LinkValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",d),null!=n&&Te.HiddenObserve(n,"Value",d),t.state_Link=f.ScheduleCallback(t.state_Link,a)})),Te.HiddenObserve(e,"BoolFactory",(function(e,n){t.state_OpenInTabValue=f.ScheduleCallback(t.state_OpenInTabValue,i)})),Te.HiddenObserve(e,"OpenInTabValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",c),null!=n&&Te.HiddenObserve(n,"Value",c),t.state_OpenInTab=f.ScheduleCallback(t.state_OpenInTab,r)})),Te.HiddenObserve(e,"OpenInTab",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"Link",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),l()};Xn.__name__=!0;var Yn=function(){Pe.call(this),this.LoadingBarComponentObserver=new Zn(this)};Yn.__name__=!0,Yn.__super__=Pe,Yn.prototype=i(Pe.prototype,{_updateVisible:function(){return null!=this.LoadStateProvider&&null!=this.LoadStateProvider.LoadState&&2==this.LoadStateProvider.LoadState._hx_index},_updateVisibleStyle:function(){return null==this.Visible?"":this.Visible?"opacity: 1;\n\t\t\t\t\tvisibility: visible;":"opacity: 0;\n\t\t\t\t\tvisibility: hidden;"},_updateLoadingPercentage:function(){if(null==this.LoadStateProvider||null==this.LoadStateProvider.LoadState)return 0;var e=this.LoadStateProvider.LoadState;switch(e._hx_index){case 0:return 0;case 1:return 100;case 2:return 100*e.progress}},_updateBackgroundBarStyle:function(){if(null==this.Settings)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.Settings.backgroundColor)||e.push("background: "+this.Settings.backgroundColor),Hs.IsNullOrWhiteSpace(this.Settings.borderRadius)||e.push("border-radius: "+this.Settings.borderRadius),e.join(";")},_updateProgressBarStyle:function(){if(null==this.Settings)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.Settings.progressColor)||e.push("background: "+this.Settings.progressColor),Hs.IsNullOrWhiteSpace(this.Settings.borderRadius)||e.push("border-radius: "+this.Settings.borderRadius),e.join(";")},_updateVirtualDom:function(){var e=null;if(null!=this.Settings){(e=Fe.CreateNode("div")).Attributes.style="position: relative; width: 100%; height: 100%; "+this.BackgroundBarStyle+"; "+this.VisibleStyle,e.Attributes.class="binkies-animated";var t=e.AddNode("div");t.Attributes.style="position: relative; width: "+this.LoadingPercentage+"%; height: 100%; "+this.ProgressBarStyle+";",t.Attributes.class="binkies-loading-bar-progress"}return null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Zn=function(e){var t=this;this.state_Visible=!1,this.state_VisibleStyle=!1,this.state_LoadingPercentage=!1,this.state_BackgroundBarStyle=!1,this.state_ProgressBarStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Visible=e._updateVisible(),t.state_Visible=!0},a=function(){e.VisibleStyle=e._updateVisibleStyle(),t.state_VisibleStyle=!0},i=function(){e.LoadingPercentage=e._updateLoadingPercentage(),t.state_LoadingPercentage=!0},r=function(){e.BackgroundBarStyle=e._updateBackgroundBarStyle(),t.state_BackgroundBarStyle=!0},l=function(){e.ProgressBarStyle=e._updateProgressBarStyle(),t.state_ProgressBarStyle=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,a){t.state_Visible=f.ScheduleCallback(t.state_Visible,n),t.state_LoadingPercentage=f.ScheduleCallback(t.state_LoadingPercentage,i)},u=function(e,n){t.state_BackgroundBarStyle=f.ScheduleCallback(t.state_BackgroundBarStyle,r)},d=function(e,n){t.state_BackgroundBarStyle=f.ScheduleCallback(t.state_BackgroundBarStyle,r),t.state_ProgressBarStyle=f.ScheduleCallback(t.state_ProgressBarStyle,l)},c=function(e,n){t.state_ProgressBarStyle=f.ScheduleCallback(t.state_ProgressBarStyle,l)};Te.HiddenObserve(e,"LoadStateProvider",(function(e,a){null!=e&&Te.HiddenForget(e,"LoadState",s),null!=a&&Te.HiddenObserve(a,"LoadState",s),t.state_Visible=f.ScheduleCallback(t.state_Visible,n),t.state_LoadingPercentage=f.ScheduleCallback(t.state_LoadingPercentage,i)})),Te.HiddenObserve(e,"Visible",(function(e,n){t.state_VisibleStyle=f.ScheduleCallback(t.state_VisibleStyle,a)})),Te.HiddenObserve(e,"Settings",(function(e,n){null!=e&&(Te.HiddenForget(e,"backgroundColor",u),Te.HiddenForget(e,"borderRadius",d),Te.HiddenForget(e,"progressColor",c)),null!=n&&(Te.HiddenObserve(n,"backgroundColor",u),Te.HiddenObserve(n,"borderRadius",d),Te.HiddenObserve(n,"progressColor",c)),t.state_BackgroundBarStyle=f.ScheduleCallback(t.state_BackgroundBarStyle,r),t.state_ProgressBarStyle=f.ScheduleCallback(t.state_ProgressBarStyle,l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"BackgroundBarStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"VisibleStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"LoadingPercentage",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),Te.HiddenObserve(e,"ProgressBarStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),l(),o()};Zn.__name__=!0;var Qn=function(){var e=C.stringGeneratorsByLength.h[0];null==e&&(e=new y(C.acceptedCharacters.split(""),null),C.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),Pe.call(this),this.NavigationButtonsComponentObserver=new jn(this)};Qn.__name__=!0,Qn.__super__=Pe,Qn.prototype=i(Pe.prototype,{navigationButtonClicked:function(e){this.Route.GoTo(this.Settings.buttons[e].route),this.FireEvent("click",e)},_updateStyle:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),Hs.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),Hs.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),Hs.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),Hs.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),Hs.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateInlineBoxSettings:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),Hs.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),Hs.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),Hs.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),Hs.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),Hs.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateActiveIndexChanged:function(){return null==this.Route||null==this.Settings||null==this.activeIndex||this.Route.GoTo(this.Settings.buttons[this.activeIndex].route),null},_updateactiveIndex:function(){if(!this.get_IsMounted())return null;if(null==this.Settings)return null;for(var e=0,t=this.Settings.buttons.length;e<t;){var n=e++;if(this.Route.Value==this.Settings.buttons[n].route)return n}return null},_updateVirtualDom:function(){var e=this,t=function(t){var n=function(){e.navigationButtonClicked(t)};return n.hash="0-"+Ie.GetId(t),n},n=null;if(null!=this.Settings){(n=Fe.CreateNode("div")).Attributes.style="pointer-events: all; flex-wrap: wrap; overflow: hidden; flex: 1 1 auto; position: absolute; left: 0; top: 0; width: 100%; height: 100%; "+this.Style,n.Attributes.id=this.id,n.Attributes.class="binkies-flex-centered binkies-horizontal-box";var a=n.AddNode("style");Hs.IsNullOrWhiteSpace(this.Settings.distanceBetweenItems)||a.AddText("\n\t\t\t#"+this.id+' > div + div::before\n\t\t\t{\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t\t");for(var i=0,r=this.Settings.buttons.length;i<r;){var l=i++,o=n.AddNode("buttoncomponent"),s=t(l);o.Events.click=s,o.Attributes.Styles=this.Settings.buttons[l].buttonStyles,o.Attributes.StringFactory=this.StringFactory,o.Attributes.IsActive=l==this.activeIndex}}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var jn=function(e){var t=this;this.state_Style=!1,this.state_InlineBoxSettings=!1,this.state_ActiveIndexChanged=!1,this.state_activeIndex=!1,this.state_VirtualDom=!1;var n=function(){e.Style=e._updateStyle(),t.state_Style=!0},a=function(){e.InlineBoxSettings=e._updateInlineBoxSettings(),t.state_InlineBoxSettings=!0},i=function(){e.ActiveIndexChanged=e._updateActiveIndexChanged(),t.state_ActiveIndexChanged=!0},r=function(){e.activeIndex=e._updateactiveIndex(),t.state_activeIndex=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,i){t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)},s=function(e,n){t.state_ActiveIndexChanged=f.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=f.ScheduleCallback(t.state_activeIndex,r)},u=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)},d=function(e,n){null!=e&&(Te.HiddenForget(e,"route",s),Te.HiddenForget(e,"buttonStyles",u)),null!=n&&(Te.HiddenObserve(n,"route",s),Te.HiddenObserve(n,"buttonStyles",u)),t.state_ActiveIndexChanged=f.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=f.ScheduleCallback(t.state_activeIndex,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)},c=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)},h=function(e,n){t.state_activeIndex=f.ScheduleCallback(t.state_activeIndex,r)};Te.HiddenObserve(e,"Settings",(function(e,s){null!=e&&(Te.HiddenForget(e,"style",o),Te.HiddenForget(e,"buttons",d),Te.HiddenForget(e,"distanceBetweenItems",c)),null!=s&&(Te.HiddenObserve(s,"style",o),Te.HiddenObserve(s,"buttons",d),Te.HiddenObserve(s,"distanceBetweenItems",c)),t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a),t.state_ActiveIndexChanged=f.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=f.ScheduleCallback(t.state_activeIndex,r),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"Route",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",h),null!=n&&Te.HiddenObserve(n,"Value",h),t.state_ActiveIndexChanged=f.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=f.ScheduleCallback(t.state_activeIndex,r)})),Te.HiddenObserve(e,"activeIndex",(function(e,n){t.state_ActiveIndexChanged=f.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"Style",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"id",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),l()};jn.__name__=!0;var qn=function(){this.DocumentLanguage=new bt("html",null,(function(e){return e.getAttribute("lang")})),Pe.call(this),this.PartyModeHintComponentObserver=new Kn(this)};qn.__name__=!0,qn.__super__=Pe,qn.prototype=i(Pe.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.NavigationFocusMode&&"none"==this.NavigationFocusMode.Value)},_updateImageSourceValue:function(){return null==this.Settings||null==this.Settings.imageSource?null:this.StringFactory.Create(this.Settings.imageSource)},_updateImageSource:function(){return null==this.ImageSourceValue?null:this.ImageSourceValue.Value},_updateAspectRatio:function(){if(null==this.Settings||null==this.Settings.aspectRatio)return{width:1,height:1};var e=this.Settings.aspectRatio;return null==e.width&&(e.width=1),null==e.height&&(e.height=1),e},_updateCanvasWrapperStyle:function(){if(null==this.Settings)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.Settings.border)||e.push("border: "+this.Settings.border),Hs.IsNullOrWhiteSpace(this.Settings.borderWidth)||e.push("border-width: "+this.Settings.borderWidth),Hs.IsNullOrWhiteSpace(this.Settings.borderRadius)||e.push("border-radius: "+this.Settings.borderRadius),Hs.IsNullOrWhiteSpace(this.Settings.background)||e.push("background: "+this.Settings.background),Hs.IsNullOrWhiteSpace(this.Settings.boxShadow)||e.push("box-shadow: "+this.Settings.boxShadow),Hs.IsNullOrWhiteSpace(this.Settings.opacity)||e.push("opacity: "+this.Settings.opacity),e.join(";")},_updateCanvasStyle:function(){if(null==this.Settings)return"";var e=[];return null!=this.Settings.imageScale&&e.push("transform: scale("+this.Settings.imageScale+")"),Hs.IsNullOrWhiteSpace(this.ImageSource)||(e.push("background-image: url('"+this.ImageSource+"')"),e.push("background-size: contain"),e.push("background-repeat: no-repeat"),e.push("background-position: center")),e.join(";")},_updateVirtualDom:function(){var e=null;if(this.Display){if((e=Fe.CreateNode("div")).Attributes.style="cursor: pointer; pointer-events: all; position: relative; box-sizing: border-box; width: 100%; height: 100% "+this.CanvasWrapperStyle,e.Attributes.class="binkies-flex-centered",null!=this.Settings&&null!=this.Settings.text){var t=e.AddNode("textcomponent");t.Attributes.StringFactory=this.StringFactory,t.Attributes.Settings=this.Settings.text}var n=e.AddNode("canvas");n.Attributes.width=this.AspectRatio.width,n.Attributes.style="flex: none; display: inline-block; width:100%; height: 100%; "+this.CanvasStyle,n.Attributes.height=this.AspectRatio.height}return null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Kn=function(e){var t=this;this.state_Display=!1,this.state_ImageSourceValue=!1,this.state_ImageSource=!1,this.state_AspectRatio=!1,this.state_CanvasWrapperStyle=!1,this.state_CanvasStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.ImageSourceValue=e._updateImageSourceValue(),t.state_ImageSourceValue=!0},i=function(){e.ImageSource=e._updateImageSource(),t.state_ImageSource=!0},r=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},l=function(){e.CanvasWrapperStyle=e._updateCanvasWrapperStyle(),t.state_CanvasWrapperStyle=!0},o=function(){e.CanvasStyle=e._updateCanvasStyle(),t.state_CanvasStyle=!0},s=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},u=function(e,n){t.state_ImageSourceValue=f.ScheduleCallback(t.state_ImageSourceValue,a)},d=function(e,n){t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,r)},c=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,l)},h=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,l)},_=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,l)},g=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,l)},b=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,l)},v=function(e,n){t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,l)},S=function(e,n){t.state_CanvasStyle=f.ScheduleCallback(t.state_CanvasStyle,o)},p=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},m=function(e,a){t.state_Display=f.ScheduleCallback(t.state_Display,n)},C=function(e,n){t.state_ImageSource=f.ScheduleCallback(t.state_ImageSource,i)},y=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},k=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)};Te.HiddenObserve(e,"Settings",(function(e,i){null!=e&&(Te.HiddenForget(e,"imageSource",u),Te.HiddenForget(e,"aspectRatio",d),Te.HiddenForget(e,"border",c),Te.HiddenForget(e,"borderWidth",h),Te.HiddenForget(e,"borderRadius",_),Te.HiddenForget(e,"background",g),Te.HiddenForget(e,"boxShadow",b),Te.HiddenForget(e,"opacity",v),Te.HiddenForget(e,"imageScale",S),Te.HiddenForget(e,"text",p)),null!=i&&(Te.HiddenObserve(i,"imageSource",u),Te.HiddenObserve(i,"aspectRatio",d),Te.HiddenObserve(i,"border",c),Te.HiddenObserve(i,"borderWidth",h),Te.HiddenObserve(i,"borderRadius",_),Te.HiddenObserve(i,"background",g),Te.HiddenObserve(i,"boxShadow",b),Te.HiddenObserve(i,"opacity",v),Te.HiddenObserve(i,"imageScale",S),Te.HiddenObserve(i,"text",p)),t.state_Display=f.ScheduleCallback(t.state_Display,n),t.state_ImageSourceValue=f.ScheduleCallback(t.state_ImageSourceValue,a),t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,r),t.state_CanvasWrapperStyle=f.ScheduleCallback(t.state_CanvasWrapperStyle,l),t.state_CanvasStyle=f.ScheduleCallback(t.state_CanvasStyle,o),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"NavigationFocusMode",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",m),null!=a&&Te.HiddenObserve(a,"Value",m),t.state_Display=f.ScheduleCallback(t.state_Display,n)})),Te.HiddenObserve(e,"ImageSourceValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",C),null!=n&&Te.HiddenObserve(n,"Value",C),t.state_ImageSource=f.ScheduleCallback(t.state_ImageSource,i)})),Te.HiddenObserve(e,"ImageSource",(function(e,n){t.state_CanvasStyle=f.ScheduleCallback(t.state_CanvasStyle,o)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"CanvasWrapperStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"AspectRatio",(function(e,n){null!=e&&(Te.HiddenForget(e,"width",y),Te.HiddenForget(e,"height",k)),null!=n&&(Te.HiddenObserve(n,"width",y),Te.HiddenObserve(n,"height",k)),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"CanvasStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),n(),a(),i(),r(),l(),o(),s()};Kn.__name__=!0;var Jn=function(){Pe.call(this),this.ResetNavigationButtonComponentObserver=new $n(this)};Jn.__name__=!0,Jn.__super__=Pe,Jn.prototype=i(Pe.prototype,{ResetNavigation:function(){ee.Fire("resetnavigation",new be)},_updateVirtualDom:function(){var e=this,t=function(){e.ResetNavigation()};t.hash=0;var n=null;return null!=this.Settings&&((n=Fe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory),null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var $n=function(e){var t=this;this.state_VirtualDom=!1;var n=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},a=function(e,a){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,n)};Te.HiddenObserve(e,"Settings",(function(e,i){null!=e&&Te.HiddenForget(e,"styles",a),null!=i&&Te.HiddenObserve(i,"styles",a),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,n)})),Te.HiddenObserve(e,"StringFactory",(function(e,a){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,n)})),n()};$n.__name__=!0;var ea=function(){Pe.call(this),this.RouteComponentObserver=new ta(this)};ea.__name__=!0,ea.__super__=Pe,ea.prototype=i(Pe.prototype,{_updateViewStyle:function(){return"box-sizing: border-box;pointer-events: none;","position: absolute;","left: 0;","top: 0;","width: 100%;","height: 100%;","box-sizing: border-box;pointer-events: none;position: absolute;left: 0;top: 0;width: 100%;height: 100%;"},_updateActiveComponentDefinition:function(){if(null==this.Settings)return null;if(null==this.Route||null==this.Route.Value)return null;for(var e=0,t=this.Settings.routes;e<t.length;){var n=t[e];if(++e,this.Route.Value==n.route)return n.component}return null},_updateComponent:function(){return null==this.ComponentFactory||null==this.ActiveComponentDefinition?null:this.ComponentFactory.Create(this.ActiveComponentDefinition)},_updateVirtualDom:function(){var e=Fe.CreateNode("div");return e.Attributes.style=this.ViewStyle,null!=this.Component&&null!=this.Component.Value&&e.AddChild(we.Clone(this.Component.Value)),e}});var ta=function(e){var t=this;this.state_ViewStyle=!1,this.state_ActiveComponentDefinition=!1,this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.ActiveComponentDefinition=e._updateActiveComponentDefinition(),t.state_ActiveComponentDefinition=!0},a=function(){e.Component=e._updateComponent(),t.state_Component=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,a){t.state_ActiveComponentDefinition=f.ScheduleCallback(t.state_ActiveComponentDefinition,n)},l=function(e,a){t.state_ActiveComponentDefinition=f.ScheduleCallback(t.state_ActiveComponentDefinition,n)},o=function(e,a){null!=e&&(Te.HiddenForget(e,"route",r),Te.HiddenForget(e,"component",l)),null!=a&&(Te.HiddenObserve(a,"route",r),Te.HiddenObserve(a,"component",l)),t.state_ActiveComponentDefinition=f.ScheduleCallback(t.state_ActiveComponentDefinition,n)},s=function(e,a){t.state_ActiveComponentDefinition=f.ScheduleCallback(t.state_ActiveComponentDefinition,n)},u=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&Te.HiddenForget(e,"routes",o),null!=a&&Te.HiddenObserve(a,"routes",o),t.state_ActiveComponentDefinition=f.ScheduleCallback(t.state_ActiveComponentDefinition,n)})),Te.HiddenObserve(e,"Route",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",s),null!=a&&Te.HiddenObserve(a,"Value",s),t.state_ActiveComponentDefinition=f.ScheduleCallback(t.state_ActiveComponentDefinition,n)})),Te.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_Component=f.ScheduleCallback(t.state_Component,a)})),Te.HiddenObserve(e,"ActiveComponentDefinition",(function(e,n){t.state_Component=f.ScheduleCallback(t.state_Component,a)})),Te.HiddenObserve(e,"ViewStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"Component",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),e.ViewStyle=e._updateViewStyle(),t.state_ViewStyle=!0,n(),a(),i()};ta.__name__=!0;var na=function(){Pe.call(this),this.resizeObserver=new ht,this.ResizeSensorComponentObserver=new aa(this)};na.__name__=!0,na.__super__=Pe,na.prototype=i(Pe.prototype,{Mounted:function(){Pe.prototype.Mounted.call(this),this.resizeObserver.Attach(this.parent)},Unmounted:function(){Pe.prototype.Unmounted.call(this),this.resizeObserver.Attach(null)},_updateFireSizeChanged:function(){return this.FireEvent("SizeChanged",this.resizeObserver.Width,this.resizeObserver.Height),!this.FireSizeChanged}});var aa=function(e){var t=this;this.state_FireSizeChanged=!1;var n=function(){e.FireSizeChanged=e._updateFireSizeChanged(),t.state_FireSizeChanged=!0},a=function(e,a){t.state_FireSizeChanged=f.ScheduleCallback(t.state_FireSizeChanged,n)},i=function(e,a){t.state_FireSizeChanged=f.ScheduleCallback(t.state_FireSizeChanged,n)};Te.HiddenObserve(e,"resizeObserver",(function(e,r){null!=e&&(Te.HiddenForget(e,"Width",a),Te.HiddenForget(e,"Height",i)),null!=r&&(Te.HiddenObserve(r,"Width",a),Te.HiddenObserve(r,"Height",i)),t.state_FireSizeChanged=f.ScheduleCallback(t.state_FireSizeChanged,n)})),Te.HiddenObserve(e,"FireSizeChanged",(function(e,a){t.state_FireSizeChanged=f.ScheduleCallback(t.state_FireSizeChanged,n)})),n()};aa.__name__=!0;var ia=function(){Pe.call(this),this.ShareButtonComponentObserver=new ra(this)};ia.__name__=!0,ia.__super__=Pe,ia.prototype=i(Pe.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.ShareManager&&this.ShareManager.CanShare)},_updateurl:function(){return null==this.Settings||null==this.Settings.url?null:this.StringFactory.Create(this.Settings.url)},_updateanchor:function(){return null==this.Settings||null==this.Settings.anchor?null:this.StringFactory.Create(this.Settings.anchor)},_updateurlParameter:function(){return null==this.Settings||null==this.Settings.urlParameter?null:{name:this.StringFactory.Create(this.Settings.urlParameter.name),value:this.StringFactory.Create(this.Settings.urlParameter.value)}},_updatetitle:function(){return null==this.Settings||null==this.Settings.title?null:this.StringFactory.Create(this.Settings.title)},getTitleValue:function(){return null==this.title||Hs.IsNullOrWhiteSpace(this.title.Value)?Hs.IsNullOrWhiteSpace(window.document.title)?"Binkies3D":window.document.title:this.title.Value},_updatetext:function(){return null==this.Settings||null==this.Settings.text?null:this.StringFactory.Create(this.Settings.text)},Share:function(){try{this.ShareManager.Share(this.getShareData())}catch(e){ks.trace(e instanceof ws?e.val:e,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/components/sharebutton/ShareButtonComponent.hx",lineNumber:96,className:"binkies.integration.components.sharebutton.ShareButtonComponent",methodName:"Share"})}},getShareData:function(){var e={url:this.getURL()};return e.title=this.getTitleValue(),null!=this.text&&null!=this.text.Value&&(e.text=this.text.Value),e},getURL:function(){var e=new URL(null==this.url?window.location.href:this.url.Value);return null!=this.urlParameter&&null!=this.urlParameter.name.Value&&null!=this.urlParameter.value.Value&&e.searchParams.set(this.urlParameter.name.Value,this.urlParameter.value.Value),null!=this.anchor&&null!=this.anchor.Value&&(e.hash=this.anchor.Value),e.href},_updateVirtualDom:function(){var e=this,t=function(){e.Share()};t.hash=0;var n=null;return this.Display&&((n=Fe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory,n.Attributes.Settings=this.Settings),null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var ra=function(e){var t=this;this.state_Display=!1,this.state_url=!1,this.state_anchor=!1,this.state_urlParameter=!1,this.state_title=!1,this.state_text=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.url=e._updateurl(),t.state_url=!0},i=function(){e.anchor=e._updateanchor(),t.state_anchor=!0},r=function(){e.urlParameter=e._updateurlParameter(),t.state_urlParameter=!0},l=function(){e.title=e._updatetitle(),t.state_title=!0},o=function(){e.text=e._updatetext(),t.state_text=!0},s=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},u=function(e,n){t.state_url=f.ScheduleCallback(t.state_url,a)},d=function(e,n){t.state_anchor=f.ScheduleCallback(t.state_anchor,i)},c=function(e,n){t.state_urlParameter=f.ScheduleCallback(t.state_urlParameter,r)},h=function(e,n){t.state_title=f.ScheduleCallback(t.state_title,l)},_=function(e,n){t.state_text=f.ScheduleCallback(t.state_text,o)},g=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)},b=function(e,a){t.state_Display=f.ScheduleCallback(t.state_Display,n)};Te.HiddenObserve(e,"Settings",(function(e,b){null!=e&&(Te.HiddenForget(e,"url",u),Te.HiddenForget(e,"anchor",d),Te.HiddenForget(e,"urlParameter",c),Te.HiddenForget(e,"title",h),Te.HiddenForget(e,"text",_),Te.HiddenForget(e,"styles",g)),null!=b&&(Te.HiddenObserve(b,"url",u),Te.HiddenObserve(b,"anchor",d),Te.HiddenObserve(b,"urlParameter",c),Te.HiddenObserve(b,"title",h),Te.HiddenObserve(b,"text",_),Te.HiddenObserve(b,"styles",g)),t.state_Display=f.ScheduleCallback(t.state_Display,n),t.state_url=f.ScheduleCallback(t.state_url,a),t.state_anchor=f.ScheduleCallback(t.state_anchor,i),t.state_urlParameter=f.ScheduleCallback(t.state_urlParameter,r),t.state_title=f.ScheduleCallback(t.state_title,l),t.state_text=f.ScheduleCallback(t.state_text,o),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"ShareManager",(function(e,a){null!=e&&Te.HiddenForget(e,"CanShare",b),null!=a&&Te.HiddenObserve(a,"CanShare",b),t.state_Display=f.ScheduleCallback(t.state_Display,n)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,s)})),n(),a(),i(),r(),l(),o(),s()};ra.__name__=!0;var la=function(){null!=window.navigator.share&&(this.nativeShareFunction=function(e){return window.navigator.share(e)}),this.currentShareFunction=this.nativeShareFunction,this.ShareManagerObserver=new oa(this)};la.__name__=!0,la.prototype={_updateCanShare:function(){var e=null!=this.currentShareFunction;return e&&!this.canShareEventSent&&(ee.Fire("canshare",new ne),this.canShareEventSent=!0),e},Share:function(e){null!=this.currentShareFunction&&null!=e&&(ee.Fire("sharestarted",new Se),this.currentShareFunction(e).then((function(e){ee.Fire("sharecompleted",new fe)})))},_updateDebugModeChanged:function(){return this.currentShareFunction=this.DebugModeEnabled?Is(this,this.fakeShare):this.nativeShareFunction,!1},fakeShare:function(e){return ks.trace("Binkies Debug Share Started!",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/components/sharebutton/ShareManager.hx",lineNumber:64,className:"binkies.integration.components.sharebutton.ShareManager",methodName:"fakeShare"}),new Promise((function(t,n){ks.trace("Binkies Debug Share Done! Data:",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/components/sharebutton/ShareManager.hx",lineNumber:66,className:"binkies.integration.components.sharebutton.ShareManager",methodName:"fakeShare",customParams:[e]}),t(!0)}))}};var oa=function(e){var t=this;this.state_CanShare=!1,this.state_DebugModeChanged=!1;var n=function(){e.CanShare=e._updateCanShare(),t.state_CanShare=!0},a=function(){e.DebugModeChanged=e._updateDebugModeChanged(),t.state_DebugModeChanged=!0};Te.HiddenObserve(e,"currentShareFunction",(function(e,a){t.state_CanShare=f.ScheduleCallback(t.state_CanShare,n)})),Te.HiddenObserve(e,"canShareEventSent",(function(e,a){t.state_CanShare=f.ScheduleCallback(t.state_CanShare,n)})),Te.HiddenObserve(e,"DebugModeEnabled",(function(e,n){t.state_DebugModeChanged=f.ScheduleCallback(t.state_DebugModeChanged,a)})),Te.HiddenObserve(e,"nativeShareFunction",(function(e,n){t.state_DebugModeChanged=f.ScheduleCallback(t.state_DebugModeChanged,a)})),n(),a()};oa.__name__=!0;var sa=function(){Pe.call(this),this.ShowHide3dButtonComponentObserver=new ua(this)};sa.__name__=!0,sa.__super__=Pe,sa.prototype=i(Pe.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.State&&!(!this.State.ContentCanBeDownloaded&&!this.State.ContentDownloaded))},OnClick:function(){switch(this.Behavior){case"hide3d":this.State.WantToShowContent.SetValue(!1);break;case"show3d":this.State.WantToShowContent.SetValue(!0)}},_updateVirtualDom:function(){var e=this,t=function(){e.OnClick()};t.hash=0;var n=null;return this.Display&&((n=Fe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory),null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var ua=function(e){var t=this;this.state_Display=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)},r=function(e,a){t.state_Display=f.ScheduleCallback(t.state_Display,n)},l=function(e,a){t.state_Display=f.ScheduleCallback(t.state_Display,n)};Te.HiddenObserve(e,"Settings",(function(e,r){null!=e&&Te.HiddenForget(e,"styles",i),null!=r&&Te.HiddenObserve(r,"styles",i),t.state_Display=f.ScheduleCallback(t.state_Display,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"State",(function(e,a){null!=e&&(Te.HiddenForget(e,"ContentCanBeDownloaded",r),Te.HiddenForget(e,"ContentDownloaded",l)),null!=a&&(Te.HiddenObserve(a,"ContentCanBeDownloaded",r),Te.HiddenObserve(a,"ContentDownloaded",l)),t.state_Display=f.ScheduleCallback(t.state_Display,n)})),Te.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};ua.__name__=!0;var da=function(){Pe.call(this),this.StylePaneComponentObserver=new ca(this)};da.__name__=!0,da.__super__=Pe,da.prototype=i(Pe.prototype,{_updateStyle:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),Hs.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),Hs.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),Hs.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),Hs.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),Hs.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateInlineBoxSettings:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return Hs.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),Hs.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),Hs.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),Hs.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),Hs.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),Hs.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateVirtualDom:function(){var e=null;return null!=this.Settings&&((e=Fe.CreateNode("div")).Attributes.style="pointer-events: none; flex-wrap: wrap; overflow: hidden; flex: 1 1 auto; position: absolute; left: 0; top: 0; width: 100%; height: 100%; "+this.Style,e.Attributes.class="binkies-flex-centered binkies-horizontal-box binkies-unselectable"),null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var ca=function(e){var t=this;this.state_Style=!1,this.state_InlineBoxSettings=!1,this.state_VirtualDom=!1;var n=function(){e.Style=e._updateStyle(),t.state_Style=!0},a=function(){e.InlineBoxSettings=e._updateInlineBoxSettings(),t.state_InlineBoxSettings=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,i){t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)},l=function(e,i){t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)},o=function(e,i){t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)},s=function(e,i){t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)},u=function(e,i){t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)},d=function(e,i){t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)},c=function(e,i){null!=e&&(Te.HiddenForget(e,"border",r),Te.HiddenForget(e,"borderWidth",l),Te.HiddenForget(e,"borderRadius",o),Te.HiddenForget(e,"background",s),Te.HiddenForget(e,"boxShadow",u),Te.HiddenForget(e,"opacity",d)),null!=i&&(Te.HiddenObserve(i,"border",r),Te.HiddenObserve(i,"borderWidth",l),Te.HiddenObserve(i,"borderRadius",o),Te.HiddenObserve(i,"background",s),Te.HiddenObserve(i,"boxShadow",u),Te.HiddenObserve(i,"opacity",d)),t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a)};Te.HiddenObserve(e,"Settings",(function(e,r){null!=e&&Te.HiddenForget(e,"style",c),null!=r&&Te.HiddenObserve(r,"style",c),t.state_Style=f.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=f.ScheduleCallback(t.state_InlineBoxSettings,a),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),Te.HiddenObserve(e,"Style",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,i)})),n(),a(),i()};ca.__name__=!0;var ha=function(){this.fontSize=120;var e=C.stringGeneratorsByLength.h[0];null==e&&(e=new y(C.acceptedCharacters.split(""),null),C.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),Pe.call(this),this.TextComponentObserver=new _a(this)};ha.__name__=!0,ha.__super__=Pe,ha.prototype=i(Pe.prototype,{_updateTextValue:function(){return null==this.Settings||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.content)},_updateText:function(){return null==this.TextValue?null:this.TextValue.Value},_updateTextStyle:function(){if(null==this.Settings)return"";var e="";e="height: auto;",e="height: auto;width: auto;",e+="font-size:"+this.fontSize+"px;",e+="white-space: nowrap;",e+="flex: 0 0 auto;",e+="margin: 0;",e+="line-height: normal;";var t=this.Settings.style;return null==t||(Hs.IsNullOrWhiteSpace(t.fontFamily)||(e+="font-family: "+t.fontFamily+";"),Hs.IsNullOrWhiteSpace(t.color)||(e+="color: "+t.color+";"),Hs.IsNullOrWhiteSpace(t.textShadow)||(e+="text-shadow: "+t.textShadow+";"),Hs.IsNullOrWhiteSpace(t.opacity)||(e+="opacity: "+t.opacity+";"),Hs.IsNullOrWhiteSpace(t.textDecoration)||(e+="text-decoration: "+t.textDecoration+";"),Hs.IsNullOrWhiteSpace(t.border)||(e+="border: "+t.border+";"),Hs.IsNullOrWhiteSpace(t.borderWidth)||(e+="border-width: "+t.borderWidth+";"),Hs.IsNullOrWhiteSpace(t.padding)||(e+="padding: "+t.padding+";"),Hs.IsNullOrWhiteSpace(t.fontWeight)||(e+="font-weight: "+t.fontWeight+";")),e},_updateTextWrapperStyle:function(){if(null==this.Settings)return"";var e,t="";t="position: "+(this.AutoAdjustSize?"absolute":"relative")+";",t+="display: flex;",t+="height: 100%;",t+="width: 100%;",t+="box-sizing: border-box;",Hs.IsNullOrWhiteSpace(this.Settings.padding)||(t+="padding: "+this.Settings.padding+";");var n,a=this.Settings.horizontalAlign;if(null==a)e="center";else switch(a){case"center":default:e="center";break;case"end":e="flex-end";break;case"start":e="flex-start";break;case"stretch":e="stretch"}t+="justify-content: "+e+";";var i=this.Settings.verticalAlign;if(null==i)n="center";else switch(i){case"center":default:n="center";break;case"end":n="flex-end";break;case"start":n="flex-start";break;case"stretch":n="stretch"}return t+="align-items: "+n+";"},SensorSizeChanged:function(e,t){this.width=e,this.height=t},_updateUpdateText:function(){return null==this.width||null==this.height||null==this.Text||null==this.TextElementQuery||null==this.TextElementQuery.Result||null==this.AutoAdjustSize||this.updateText(this.TextElementQuery.Result,this.width,this.height,this.Text),null},_updateTextElementQuery:function(){return new bt("#"+this.id)},_updateAutoAdjustSize:function(){return null==this.Settings||null==this.Settings.style||null==this.Settings.style.fontSize},updateText:function(e,t,n,a){var i=this.TextElementQuery.Result;if(i.textContent=a,this.AutoAdjustSize){var r=Math.min(t/i.clientWidth,n/i.clientHeight);isNaN(r)||0==r?this.fontSize*=.1:this.fontSize*=r}else this.fontSize=this.Settings.style.fontSize},_updateVirtualDom:function(){var e=this,t=function(t,n){e.SensorSizeChanged(t,n)};t.hash=0;var n=null;if(null!=this.Text){(n=Fe.CreateNode("div")).Attributes.style=this.TextWrapperStyle,n.AddNode("resizesensor").Events.SizeChanged=t;var a=n.AddNode("p");a.Attributes.translate="no",a.Attributes.style=this.TextStyle,a.Attributes.id=this.id,a.Attributes.class="notranslate"}return null==n&&(n=Fe.CreateNode(this.converter.GetPlaceholderTag())),n}});var _a=function(e){var t=this;this.state_TextValue=!1,this.state_Text=!1,this.state_TextStyle=!1,this.state_TextWrapperStyle=!1,this.state_UpdateText=!1,this.state_TextElementQuery=!1,this.state_AutoAdjustSize=!1,this.state_VirtualDom=!1;var n=function(){e.TextValue=e._updateTextValue(),t.state_TextValue=!0},a=function(){e.Text=e._updateText(),t.state_Text=!0},i=function(){e.TextStyle=e._updateTextStyle(),t.state_TextStyle=!0},r=function(){e.TextWrapperStyle=e._updateTextWrapperStyle(),t.state_TextWrapperStyle=!0},l=function(){e.UpdateText=e._updateUpdateText(),t.state_UpdateText=!0},o=function(){e.TextElementQuery=e._updateTextElementQuery(),t.state_TextElementQuery=!0},s=function(){e.AutoAdjustSize=e._updateAutoAdjustSize(),t.state_AutoAdjustSize=!0},u=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},d=function(e,a){t.state_TextValue=f.ScheduleCallback(t.state_TextValue,n)},c=function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,i),t.state_AutoAdjustSize=f.ScheduleCallback(t.state_AutoAdjustSize,s)},h=function(e,n){t.state_TextWrapperStyle=f.ScheduleCallback(t.state_TextWrapperStyle,r)},_=function(e,n){t.state_TextWrapperStyle=f.ScheduleCallback(t.state_TextWrapperStyle,r)},g=function(e,n){t.state_TextWrapperStyle=f.ScheduleCallback(t.state_TextWrapperStyle,r)},b=function(e,n){t.state_Text=f.ScheduleCallback(t.state_Text,a)},v=function(e,n){t.state_UpdateText=f.ScheduleCallback(t.state_UpdateText,l)};Te.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"content",d),Te.HiddenForget(e,"style",c),Te.HiddenForget(e,"padding",h),Te.HiddenForget(e,"horizontalAlign",_),Te.HiddenForget(e,"verticalAlign",g)),null!=a&&(Te.HiddenObserve(a,"content",d),Te.HiddenObserve(a,"style",c),Te.HiddenObserve(a,"padding",h),Te.HiddenObserve(a,"horizontalAlign",_),Te.HiddenObserve(a,"verticalAlign",g)),t.state_TextValue=f.ScheduleCallback(t.state_TextValue,n),t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,i),t.state_TextWrapperStyle=f.ScheduleCallback(t.state_TextWrapperStyle,r),t.state_AutoAdjustSize=f.ScheduleCallback(t.state_AutoAdjustSize,s)})),Te.HiddenObserve(e,"StringFactory",(function(e,a){t.state_TextValue=f.ScheduleCallback(t.state_TextValue,n)})),Te.HiddenObserve(e,"TextValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",b),null!=n&&Te.HiddenObserve(n,"Value",b),t.state_Text=f.ScheduleCallback(t.state_Text,a)})),Te.HiddenObserve(e,"fontSize",(function(e,n){t.state_TextStyle=f.ScheduleCallback(t.state_TextStyle,i)})),Te.HiddenObserve(e,"AutoAdjustSize",(function(e,n){t.state_TextWrapperStyle=f.ScheduleCallback(t.state_TextWrapperStyle,r),t.state_UpdateText=f.ScheduleCallback(t.state_UpdateText,l)})),Te.HiddenObserve(e,"width",(function(e,n){t.state_UpdateText=f.ScheduleCallback(t.state_UpdateText,l)})),Te.HiddenObserve(e,"height",(function(e,n){t.state_UpdateText=f.ScheduleCallback(t.state_UpdateText,l)})),Te.HiddenObserve(e,"Text",(function(e,n){t.state_UpdateText=f.ScheduleCallback(t.state_UpdateText,l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,u)})),Te.HiddenObserve(e,"TextElementQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",v),null!=n&&Te.HiddenObserve(n,"Result",v),t.state_UpdateText=f.ScheduleCallback(t.state_UpdateText,l)})),Te.HiddenObserve(e,"id",(function(e,n){t.state_TextElementQuery=f.ScheduleCallback(t.state_TextElementQuery,o),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,u)})),Te.HiddenObserve(e,"TextWrapperStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,u)})),Te.HiddenObserve(e,"TextStyle",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,u)})),n(),a(),i(),r(),l(),o(),s(),u()};_a.__name__=!0;var ga=function(){};ga.__name__=!0,ga.IntegrationAlreadyOnPage=function(e){var t=window.BinkiesIntegrationIds;return null==t&&(t={},window.BinkiesIntegrationIds=t),!!Object.prototype.hasOwnProperty.call(t,e.IntegrationId)||(t[e.IntegrationId]=!0,!1)};var ba=function(e,t,n,a,i,r,l,o,s,u,d,c,h,_,g,b){this.state=n,this.contentQueue=a,this.navigationFocusMode=i,this.elementFactory=l,this.componentFactory=t,this.boolFactory=o,this.stringFactory=s,this.objectFactory=u,this.displayMode=d,this.route=c,this.testManager=h,this.manipulatorStore=_,this.integrationSettings=b,this.catalogManager=g;for(var v=0;v<e.length;)this.CreateFeatureInstance(e[v++])};ba.__name__=!0,ba.CreateStaticFeatureInstance=function(e){if(null!=e)switch(e.Id){case"CustomAnalytics":new Fa(e.Settings);break;case"GoogleAnalytics":new Da(e.Settings)}},ba.prototype={CreateFeatureInstance:function(e){switch(e.Id){case"CatalogFeature":return new Sa(this.integrationSettings,this.catalogManager,e.Settings);case"CreditCardCustomization":return new ya(this.manipulatorStore,e.Settings);case"Crossfader":return new ka(this.state,this.displayMode,e.Settings);case"CustomAnalytics":case"GoogleAnalytics":return null;case"ExposeContentState":return new wa(this.elementFactory,this.state,e.Settings);case"MarkElements":return new Ra(this.stringFactory,e.Settings);case"NavigationFocus":return new La(this.state,this.navigationFocusMode,this.boolFactory,e.Settings);case"Root":return new Ea(this.elementFactory,this.componentFactory,this.state,this.route,e.Settings);case"RouteButton":return new Ga(this.elementFactory,this.route,this.state,e.Settings);case"RouteHistory":return new Ya(this.route,e.Settings);case"Testing":return new ei(this.testManager,e.Settings);case"ValueInspection":return new ai(this.stringFactory,e.Settings);default:throw new ws("Unknown Feature ID: "+e.Id)}}};var va=function(e,t){this.elementFactory=e,this.targetElementFeatureSettings=t,this.TargetElementFeatureObserver=new fa(this)};va.__name__=!0,va.prototype={_updateTargetProvider:function(){return null==this.targetElementFeatureSettings||null==this.targetElementFeatureSettings.targetElement?null:this.elementFactory.Create(this.targetElementFeatureSettings.targetElement)}};var fa=function(e){var t=this;this.state_TargetProvider=!1;var n=function(){e.TargetProvider=e._updateTargetProvider(),t.state_TargetProvider=!0},a=function(e,a){t.state_TargetProvider=f.ScheduleCallback(t.state_TargetProvider,n)};Te.HiddenObserve(e,"targetElementFeatureSettings",(function(e,i){null!=e&&Te.HiddenForget(e,"targetElement",a),null!=i&&Te.HiddenObserve(i,"targetElement",a),t.state_TargetProvider=f.ScheduleCallback(t.state_TargetProvider,n)})),n()};fa.__name__=!0;var Sa=function(e,t,n){var a="https://hotspot3d.blob.core.windows.net/catalogs/"+e.AccessKey+"/"+e.IntegrationId,i=a+"/catalog.json",r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&(200==r.status||201==r.status)){var e=JSON.parse(r.response);e.BaseURL=a,t.setCatalog(e)}},r.open("GET",i,!0),r.send()};Sa.__name__=!0;var pa=function(){this.compareRightParamName="cr",this.compareLeftParamName="cl",this.CatalogManagerObserver=new ma(this)};pa.__name__=!0,pa.prototype={setCatalog:function(e){this.catalog=e,this.CompareChangeHandler(),window.addEventListener("popstate",Is(this,this.CompareChangeHandler))},CompareChangeHandler:function(){var e=this.getCompareIdsFromSearchParams();if(null!=e){for(var t=e.leftId,n=this.catalog.Products,a=[],i=0;i<n.length;){var r=n[i];++i;for(var l=r.Colors,o=[],s=0;s<l.length;){var u=l[s];++s,u.ContentId==t&&o.push(u)}null!=o[0]&&a.push(r)}var d=a[0];if(null!=d){this.SelectLeftProduct(d.UId);for(var c=d.Colors,h=[],_=0;_<c.length;){var g=c[_];++_,g.ContentId==t&&h.push(g)}this.SelectLeftColor(h[0].OptionUId)}for(var b=e.rightId,v=this.catalog.Products,f=[],S=0;S<v.length;){var p=v[S];++S;for(var m=p.Colors,C=[],y=0;y<m.length;){var k=m[y];++y,k.ContentId==b&&C.push(k)}null!=C[0]&&f.push(p)}var H=f[0];if(null!=H){this.SelectRightProduct(H.UId);for(var V=H.Colors,O=[],F=0;F<V.length;){var w=V[F];++F,w.ContentId==b&&O.push(w)}this.SelectRightColor(O[0].OptionUId)}}},getCompareIdsFromSearchParams:function(){var e=new URL(window.location.href);return{leftId:e.searchParams.get(this.compareLeftParamName),rightId:e.searchParams.get(this.compareRightParamName)}},_updateSelectedLeftProduct:function(){return null==this.catalog?null:null==this.leftProductId?this.getProduct(this.catalog.LeftStartProductUId):this.getProduct(this.leftProductId)},SelectLeftProduct:function(e){this.leftProductId=e,this.leftColorId=null},_updateSelectedLeftColor:function(){return null==this.SelectedLeftProduct?null:this.getColor(this.leftColorId,this.SelectedLeftProduct)},SelectLeftColor:function(e){this.leftColorId=e},_updateSelectedRightProduct:function(){return null==this.catalog?null:null==this.rightProductId?this.getProduct(this.catalog.RightStartProductUId):this.getProduct(this.rightProductId)},SelectRightProduct:function(e){this.rightProductId=e,this.rightColorId=null},_updateSelectedRightColor:function(){return null==this.SelectedRightProduct?null:this.getColor(this.rightColorId,this.SelectedRightProduct)},SelectRightColor:function(e){this.rightColorId=e},_updateSetURLParameters:function(){return null==this.SelectedLeftColor||null==this.SelectedRightColor||this.setCompareURL(this.SelectedLeftColor.ContentId,this.SelectedRightColor.ContentId),null},setCompareURL:function(e,t){var n=new URL(window.location.href),a=n.searchParams.get(this.compareLeftParamName),i=n.searchParams.get(this.compareRightParamName);a==e&&i==t||(n.searchParams.set(this.compareLeftParamName,e),n.searchParams.set(this.compareRightParamName,t),window.history.pushState("",window.document.title,n.pathname+n.search))},getProduct:function(e){return this.find(this.catalog.Products,(function(t){return t.UId==e}))},getColor:function(e,t){return null==e?t.Colors[0]:this.find(t.Colors,(function(t){return t.OptionUId==e}))},find:function(e,t){for(var n=0;n<e.length;){var a=e[n];if(++n,t(a))return a}return null}};var ma=function(e){var t=this;this.state_SelectedLeftProduct=!1,this.state_SelectedLeftColor=!1,this.state_SelectedRightProduct=!1,this.state_SelectedRightColor=!1,this.state_SetURLParameters=!1;var n=function(){e.SelectedLeftProduct=e._updateSelectedLeftProduct(),t.state_SelectedLeftProduct=!0},a=function(){e.SelectedLeftColor=e._updateSelectedLeftColor(),t.state_SelectedLeftColor=!0},i=function(){e.SelectedRightProduct=e._updateSelectedRightProduct(),t.state_SelectedRightProduct=!0},r=function(){e.SelectedRightColor=e._updateSelectedRightColor(),t.state_SelectedRightColor=!0},l=function(){e.SetURLParameters=e._updateSetURLParameters(),t.state_SetURLParameters=!0},o=function(e,a){t.state_SelectedLeftProduct=f.ScheduleCallback(t.state_SelectedLeftProduct,n)},s=function(e,n){t.state_SelectedRightProduct=f.ScheduleCallback(t.state_SelectedRightProduct,i)},u=function(e,n){t.state_SetURLParameters=f.ScheduleCallback(t.state_SetURLParameters,l)},d=function(e,n){t.state_SetURLParameters=f.ScheduleCallback(t.state_SetURLParameters,l)};Te.HiddenObserve(e,"catalog",(function(e,a){null!=e&&(Te.HiddenForget(e,"LeftStartProductUId",o),Te.HiddenForget(e,"RightStartProductUId",s)),null!=a&&(Te.HiddenObserve(a,"LeftStartProductUId",o),Te.HiddenObserve(a,"RightStartProductUId",s)),t.state_SelectedLeftProduct=f.ScheduleCallback(t.state_SelectedLeftProduct,n),t.state_SelectedRightProduct=f.ScheduleCallback(t.state_SelectedRightProduct,i)})),Te.HiddenObserve(e,"leftProductId",(function(e,a){t.state_SelectedLeftProduct=f.ScheduleCallback(t.state_SelectedLeftProduct,n)})),Te.HiddenObserve(e,"SelectedLeftProduct",(function(e,n){t.state_SelectedLeftColor=f.ScheduleCallback(t.state_SelectedLeftColor,a)})),Te.HiddenObserve(e,"leftColorId",(function(e,n){t.state_SelectedLeftColor=f.ScheduleCallback(t.state_SelectedLeftColor,a)})),Te.HiddenObserve(e,"rightProductId",(function(e,n){t.state_SelectedRightProduct=f.ScheduleCallback(t.state_SelectedRightProduct,i)})),Te.HiddenObserve(e,"SelectedRightProduct",(function(e,n){t.state_SelectedRightColor=f.ScheduleCallback(t.state_SelectedRightColor,r)})),Te.HiddenObserve(e,"rightColorId",(function(e,n){t.state_SelectedRightColor=f.ScheduleCallback(t.state_SelectedRightColor,r)})),Te.HiddenObserve(e,"SelectedLeftColor",(function(e,n){null!=e&&Te.HiddenForget(e,"ContentId",u),null!=n&&Te.HiddenObserve(n,"ContentId",u),t.state_SetURLParameters=f.ScheduleCallback(t.state_SetURLParameters,l)})),Te.HiddenObserve(e,"SelectedRightColor",(function(e,n){null!=e&&Te.HiddenForget(e,"ContentId",d),null!=n&&Te.HiddenObserve(n,"ContentId",d),t.state_SetURLParameters=f.ScheduleCallback(t.state_SetURLParameters,l)})),n(),a(),i(),r(),l()};ma.__name__=!0;var Ca=function(e){this.settings=e};Ca.__name__=!0,Ca.prototype={process:function(e,t){if("WmmbsN"==e.UId){var n=t.Materials[t.Models[0].MaterialIndex];null!=this.settings.color&&(n.Maps.diffuse=t.Textures.length,t.Textures.push(new oo(this.settings.color,1,1,1,2,-1))),null!=this.settings.normal&&(n.Maps.normal=t.Textures.length,t.Textures.push(new oo(this.settings.normal,1,1,1,0,-1)))}}};var ya=function(e,t){e.Add(new Ca(t))};ya.__name__=!0;var ka=function(e,t,n){this.settings=n,this.state=e,this.displayMode=t,this.component=new Ha,this.component.Settings=n,this.component.Mount(window.document.head),this.FeatureObserver=new Oa(this)};ka.__name__=!0,ka.prototype={_updateEnabled:function(){return null!=this.displayMode&&"onpage"==this.displayMode.Value},_updateUpdateComponent:function(){return null!=this.Enabled&&(this.component.Enabled=this.Enabled,this.component.Visible=this.state.ShowContent||this.state.ShowFullscreen,!0)}};var Ha=function(){Pe.call(this),this.FeatureComponentObserver=new Va(this)};Ha.__name__=!0,Ha.__super__=Pe,Ha.prototype=i(Pe.prototype,{_updateContent:function(){return this.Visible?Ha.shownStateStyle:Ha.hiddenStateStyle},_updateVirtualDom:function(){var e=null;return null!=this.Settings&&this.Enabled&&(e=Fe.CreateNode("style")).AddText("\n\t\t"+this.Content+"\n\t"),null==e&&(e=Fe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Va=function(e){var t=this;this.state_Content=!1,this.state_VirtualDom=!1;var n=function(){e.Content=e._updateContent(),t.state_Content=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Te.HiddenObserve(e,"Visible",(function(e,a){t.state_Content=f.ScheduleCallback(t.state_Content,n)})),Te.HiddenObserve(e,"shownStateStyle",(function(e,a){t.state_Content=f.ScheduleCallback(t.state_Content,n)})),Te.HiddenObserve(e,"hiddenStateStyle",(function(e,a){t.state_Content=f.ScheduleCallback(t.state_Content,n)})),Te.HiddenObserve(e,"Settings",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"Enabled",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"Content",(function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};Va.__name__=!0;var Oa=function(e){var t=this;this.state_Enabled=!1,this.state_UpdateComponent=!1;var n=function(){e.Enabled=e._updateEnabled(),t.state_Enabled=!0},a=function(){e.UpdateComponent=e._updateUpdateComponent(),t.state_UpdateComponent=!0},i=function(e,a){t.state_Enabled=f.ScheduleCallback(t.state_Enabled,n)},r=function(e,n){t.state_UpdateComponent=f.ScheduleCallback(t.state_UpdateComponent,a)},l=function(e,n){t.state_UpdateComponent=f.ScheduleCallback(t.state_UpdateComponent,a)};Te.HiddenObserve(e,"displayMode",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",i),null!=a&&Te.HiddenObserve(a,"Value",i),t.state_Enabled=f.ScheduleCallback(t.state_Enabled,n)})),Te.HiddenObserve(e,"Enabled",(function(e,n){t.state_UpdateComponent=f.ScheduleCallback(t.state_UpdateComponent,a)})),Te.HiddenObserve(e,"state",(function(e,n){null!=e&&(Te.HiddenForget(e,"ShowContent",r),Te.HiddenForget(e,"ShowFullscreen",l)),null!=n&&(Te.HiddenObserve(n,"ShowContent",r),Te.HiddenObserve(n,"ShowFullscreen",l)),t.state_UpdateComponent=f.ScheduleCallback(t.state_UpdateComponent,a)})),n(),a()};Oa.__name__=!0;var Fa=function(e){null!=e&&(this.settings=e,this.target=window[this.settings.target],null!=this.target?new k(this):console.error("Binkies 3D: Unable to find window."+this.settings.target))};Fa.__name__=!0,Fa.prototype={OnBookmarkClicked:function(e,t){var n=this.target.bookmarkClicked;null!=n&&n.call(this.target,e.Name)},OnContentLoaded:function(e,t){var n=this.target.contentLoaded;null!=n&&n.call(this.target)},OnContentSwitched:function(e,t){var n=this.target.contentSwitched;null!=n&&n.call(this.target)},OnContentFound:function(e,t){var n=this.target.contentFound;null!=n&&n.call(this.target,e.ContentIdentifier)},OnContentNotFound:function(e,t){var n=this.target.contentNotFound;null!=n&&n.call(this.target,e.ContentIdentifier)},OnDriverInfo:function(e,t){},OnEngaged:function(e,t){var n=this.target.engaged;null!=n&&n.call(this.target)},OnEnterFullscreen:function(e,t){var n=this.target.enterFullscreen;null!=n&&n.call(this.target)},OnLeaveFullscreen:function(e,t){var n=this.target.leaveFullscreen;null!=n&&n.call(this.target)},OnIntegrationLoaded:function(e,t){var n=this.target.integrationLoaded;null!=n&&n.call(this.target)},OnSupports3D:function(e,t){var n=this.target.supports3D;null!=n&&n.call(this.target,e.Supported)},OnResetNavigation:function(e,t){var n=this.target.resetNavigation;null!=n&&n.call(this.target)},OnRouteChanged:function(e,t){var n=this.target.routeChanged;null!=n&&n.call(this.target,e.Route)},OnCanShare:function(e,t){var n=this.target.canShare;null!=n&&n.call(this.target)},OnShareStarted:function(e,t){var n=this.target.shareStarted;null!=n&&n.call(this.target)},OnShareCompleted:function(e,t){var n=this.target.shareCompleted;null!=n&&n.call(this.target)},OnLinkFollowed:function(e,t){var n=this.target.linkFollowed;null!=n&&n.call(this.target,e.Href)},OnIntegrationDisplayMode:function(e,t){var n=this.target.integrationDisplayMode;null!=n&&n.call(this.target,e.IntegrationDisplayMode)},OnTestVariant:function(e,t){var n=this.target.testVariant;null!=n&&n.call(this.target,e.TestVariantName)},OnFlipperClicked:function(e,t){var n=this.target.flipperClicked;null!=n&&n.call(this.target,e.Direction)}};var wa=function(e,t,n){va.call(this,e,n),this.state=t,this.settings=n,this.ExposeContentStateFeatureObserver=new xa(this)};wa.__name__=!0,wa.__super__=va,wa.prototype=i(va.prototype,{_updateTarget:function(){return null==this.TargetProvider?null:(null!=this.Target&&(Ps.RemoveClass(this.Target,this.settings.availableClass),Ps.RemoveClass(this.Target,this.settings.unavailableClass)),this.TargetProvider.Value)},_updateStateApplied:function(){return null!=this.Target&&(this.state.ContentAvailable?(Ps.AddClass(this.Target,this.settings.availableClass),Ps.RemoveClass(this.Target,this.settings.unavailableClass)):(Ps.RemoveClass(this.Target,this.settings.availableClass),Ps.AddClass(this.Target,this.settings.unavailableClass)),!0)}});var xa=function(e){var t=this;this.state_Target=!1,this.state_StateApplied=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0},a=function(){e.StateApplied=e._updateStateApplied(),t.state_StateApplied=!0},i=function(e,i){t.state_Target=f.ScheduleCallback(t.state_Target,n),t.state_StateApplied=f.ScheduleCallback(t.state_StateApplied,a)},r=function(e,i){t.state_Target=f.ScheduleCallback(t.state_Target,n),t.state_StateApplied=f.ScheduleCallback(t.state_StateApplied,a)},l=function(e,n){t.state_StateApplied=f.ScheduleCallback(t.state_StateApplied,a)};Te.HiddenObserve(e,"Target",(function(e,i){t.state_Target=f.ScheduleCallback(t.state_Target,n),t.state_StateApplied=f.ScheduleCallback(t.state_StateApplied,a)})),Te.HiddenObserve(e,"settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"availableClass",i),Te.HiddenForget(e,"unavailableClass",r)),null!=l&&(Te.HiddenObserve(l,"availableClass",i),Te.HiddenObserve(l,"unavailableClass",r)),t.state_Target=f.ScheduleCallback(t.state_Target,n),t.state_StateApplied=f.ScheduleCallback(t.state_StateApplied,a)})),Te.HiddenObserve(e,"state",(function(e,n){null!=e&&Te.HiddenForget(e,"ContentAvailable",l),null!=n&&Te.HiddenObserve(n,"ContentAvailable",l),t.state_StateApplied=f.ScheduleCallback(t.state_StateApplied,a)}));var o=function(e,a){t.state_Target=f.ScheduleCallback(t.state_Target,n)};Te.HiddenObserve(e,"TargetProvider",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",o),null!=a&&Te.HiddenObserve(a,"Value",o),t.state_Target=f.ScheduleCallback(t.state_Target,n)})),n(),a()};xa.__name__=!0;var Da=function(e){var t,n=e.sendTarget;switch(null==n&&(n="ga"),n){case"ga":t=new Ma(e,window);break;case"gtag":t=new Ia(e,window);break;case"gtm":t=new Pa(e,window)}new Ta(new V(null,t))};Da.__name__=!0;var Pa=function(e,t){this.defaultEventName="track",this.defaultDataLayerName="dataLayer",this.settings=e,this.provider=t,this.GTMEndpointObserver=new Aa(this)};Pa.__name__=!0,Pa.prototype={_updateDataLayerName:function(){return null==this.settings||null==this.settings.googleTagManagerDatalayer||null==this.settings.googleTagManagerDatalayer.name?this.defaultDataLayerName:this.settings.googleTagManagerDatalayer.name},_updateEventName:function(){return null==this.settings||null==this.settings.googleTagManagerDatalayer||null==this.settings.googleTagManagerDatalayer.eventName?this.defaultEventName:this.settings.googleTagManagerDatalayer.eventName},getDataLayer:function(){var e=this.provider[this.DataLayerName];return null==e||null==e.push?null:e},TryToSendMessages:function(e){var t=this.getDataLayer();if(null==t)return!1;for(var n=0;n<e.length;){var a=e[n];if(++n,-1!=this.settings.events.indexOf(a.data.action)){var i={event:this.EventName,eventAction:a.data.action};null!=a.data.label&&(i.eventLabel=a.data.label),null!=this.settings.category&&(i.eventCategory=this.settings.category),t.push(i)}}return!0}};var Aa=function(e){var t=this;this.state_DataLayerName=!1,this.state_EventName=!1;var n=function(){e.DataLayerName=e._updateDataLayerName(),t.state_DataLayerName=!0},a=function(){e.EventName=e._updateEventName(),t.state_EventName=!0},i=function(e,i){t.state_DataLayerName=f.ScheduleCallback(t.state_DataLayerName,n),t.state_EventName=f.ScheduleCallback(t.state_EventName,a)};Te.HiddenObserve(e,"settings",(function(e,r){null!=e&&Te.HiddenForget(e,"googleTagManagerDatalayer",i),null!=r&&Te.HiddenObserve(r,"googleTagManagerDatalayer",i),t.state_DataLayerName=f.ScheduleCallback(t.state_DataLayerName,n),t.state_EventName=f.ScheduleCallback(t.state_EventName,a)})),Te.HiddenObserve(e,"defaultDataLayerName",(function(e,a){t.state_DataLayerName=f.ScheduleCallback(t.state_DataLayerName,n)})),Te.HiddenObserve(e,"defaultEventName",(function(e,n){t.state_EventName=f.ScheduleCallback(t.state_EventName,a)})),n(),a()};Aa.__name__=!0;var Ia=function(e,t){this.settings=e,this.provider=t};Ia.__name__=!0,Ia.prototype={gtagAvailable:function(){return null!=this.provider&&null!=this.provider.gtag},TryToSendMessages:function(e){if(!this.gtagAvailable())return!1;for(var t=0;t<e.length;){var n=e[t];if(++t,-1!=this.settings.events.indexOf(n.data.action)){var a={};null!=this.settings.category&&(a.event_category=this.settings.category),null!=n.data.label&&(a.event_label=n.data.label),null!=n.nonInteraction&&(a.non_interaction=n.nonInteraction),this.provider.gtag("event",n.data.action,a)}}return!0}};var Ta=function(e){if(null==e)throw new ws("Argument null exception. Parameter: endpoint");this.endpoint=e,new k(this)};Ta.__name__=!0,Ta.prototype={OnBookmarkClicked:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"BookmarkClicked",label:e.Name},timestamp:t,nonInteraction:!1}])},OnContentLoaded:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentLoaded",label:null},timestamp:t,nonInteraction:!0}])},OnContentSwitched:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentSwitched",label:null},timestamp:t,nonInteraction:!0}])},OnContentFound:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentFound",label:e.ContentIdentifier},timestamp:t,nonInteraction:!0}])},OnContentNotFound:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentNotFound",label:e.ContentIdentifier},timestamp:t,nonInteraction:!0}])},OnDriverInfo:function(e,t){},OnEngaged:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"Engaged",label:null},timestamp:t,nonInteraction:!1}])},OnEnterFullscreen:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"EnterFullscreen",label:null},timestamp:t,nonInteraction:!1}])},OnLeaveFullscreen:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"LeaveFullscreen",label:null},timestamp:t,nonInteraction:!1}])},OnIntegrationLoaded:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"IntegrationLoaded",label:null},timestamp:t,nonInteraction:!0}])},OnSupports3D:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"Supports3D",label:e.Supported?"true":"false: "+e.Reason},timestamp:t,nonInteraction:!0}])},OnResetNavigation:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ResetNavigation",label:null},timestamp:t,nonInteraction:!1}])},OnRouteChanged:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"RouteChanged",label:e.Route},timestamp:t,nonInteraction:!0}])},OnCanShare:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"CanShare",label:null},timestamp:t,nonInteraction:!0}])},OnShareStarted:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ShareStarted",label:null},timestamp:t,nonInteraction:!1}])},OnShareCompleted:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ShareCompleted",label:null},timestamp:t,nonInteraction:!1}])},OnLinkFollowed:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"LinkFollowed",label:e.Href},timestamp:t,nonInteraction:!1}])},OnIntegrationDisplayMode:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"IntegrationDisplayMode",label:e.IntegrationDisplayMode},timestamp:t,nonInteraction:!0}])},OnTestVariant:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"TestVariant",label:e.TestVariantName},timestamp:t,nonInteraction:!0}])},OnFlipperClicked:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"FlipperClicked",label:""+e.Direction},timestamp:t,nonInteraction:!1}])}};var Ma=function(e,t){this.settings=e,this.provider=t};Ma.__name__=!0,Ma.prototype={getTracker:function(){if(!this.gaAvailable())return null;var e=this.provider.ga.getAll();if(null==this.settings||null==this.settings.googleAnalyticsObject||null==this.settings.googleAnalyticsObject.trackingId)return e[0];for(var t=[],n=0;n<e.length;){var a=e[n];++n,a.get("trackingId")==this.settings.googleAnalyticsObject.trackingId&&t.push(a)}return t[0]},gaAvailable:function(){return null!=this.provider&&null!=this.provider.ga&&null!=this.provider.ga.getAll},TryToSendMessages:function(e){var t=this.getTracker();if(null==t)return!1;for(var n=0;n<e.length;){var a=e[n];if(++n,-1!=this.settings.events.indexOf(a.data.action)){var i={eventCategory:this.settings.category,eventAction:a.data.action};null!=a.data.label&&(i.eventLabel=a.data.label),null!=a.nonInteraction&&(i.nonInteraction=a.nonInteraction),t.send("event",i)}}return!0}};var Ra=function(e,t){this.stringFactory=e,this.settings=t,this.MarkElementsFeatureObserver=new Na(this)};Ra.__name__=!0,Ra.prototype={_updateSelector:function(){return null==this.settings||null==this.settings.selector?null:this.stringFactory.Create(this.settings.selector)},_updateTargetElementQuery:function(){if(null==this.Selector)return null;if(Hs.IsNullOrWhiteSpace(this.Selector.Value))return null;var e=null==this.settings.childOfRootTarget||this.settings.childOfRootTarget?'[data-binkies-content="pageTarget"] ':"";return e+=this.Selector.Value,new vt(e)},_updateMarker:function(){return null==this.settings||null==this.settings.marker?null:this.stringFactory.Create(this.settings.marker)},_updateElements:function(){if(null!=this.Elements)for(var e=0,t=this.Elements;e<t.length;)t[e++].removeAttribute("data-binkies-content");return null==this.TargetElementQuery||null==this.TargetElementQuery.Result?null:this.TargetElementQuery.Result.slice()},_updateElementsChanged:function(){if(null==this.Elements)return null;if(null==this.Marker||null==this.Marker.Value)return null;for(var e=0,t=this.Elements;e<t.length;)t[e++].setAttribute("data-binkies-content",this.Marker.Value);return null}};var Na=function(e){var t=this;this.state_Selector=!1,this.state_TargetElementQuery=!1,this.state_Marker=!1,this.state_Elements=!1,this.state_ElementsChanged=!1;var n=function(){e.Selector=e._updateSelector(),t.state_Selector=!0},a=function(){e.TargetElementQuery=e._updateTargetElementQuery(),t.state_TargetElementQuery=!0},i=function(){e.Marker=e._updateMarker(),t.state_Marker=!0},r=function(){e.Elements=e._updateElements(),t.state_Elements=!0},l=function(){e.ElementsChanged=e._updateElementsChanged(),t.state_ElementsChanged=!0},o=function(e,a){t.state_Selector=f.ScheduleCallback(t.state_Selector,n)},s=function(e,n){t.state_TargetElementQuery=f.ScheduleCallback(t.state_TargetElementQuery,a)},u=function(e,n){t.state_Marker=f.ScheduleCallback(t.state_Marker,i)},d=function(e,n){t.state_TargetElementQuery=f.ScheduleCallback(t.state_TargetElementQuery,a)},c=function(e,n){t.state_Elements=f.ScheduleCallback(t.state_Elements,r)},h=function(e,n){t.state_ElementsChanged=f.ScheduleCallback(t.state_ElementsChanged,l)};Te.HiddenObserve(e,"settings",(function(e,r){null!=e&&(Te.HiddenForget(e,"selector",o),Te.HiddenForget(e,"childOfRootTarget",s),Te.HiddenForget(e,"marker",u)),null!=r&&(Te.HiddenObserve(r,"selector",o),Te.HiddenObserve(r,"childOfRootTarget",s),Te.HiddenObserve(r,"marker",u)),t.state_Selector=f.ScheduleCallback(t.state_Selector,n),t.state_TargetElementQuery=f.ScheduleCallback(t.state_TargetElementQuery,a),t.state_Marker=f.ScheduleCallback(t.state_Marker,i)})),Te.HiddenObserve(e,"Selector",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",d),null!=n&&Te.HiddenObserve(n,"Value",d),t.state_TargetElementQuery=f.ScheduleCallback(t.state_TargetElementQuery,a)})),Te.HiddenObserve(e,"Elements",(function(e,n){t.state_Elements=f.ScheduleCallback(t.state_Elements,r),t.state_ElementsChanged=f.ScheduleCallback(t.state_ElementsChanged,l)})),Te.HiddenObserve(e,"TargetElementQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",c),null!=n&&Te.HiddenObserve(n,"Result",c),t.state_Elements=f.ScheduleCallback(t.state_Elements,r)})),Te.HiddenObserve(e,"Marker",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",h),null!=n&&Te.HiddenObserve(n,"Value",h),t.state_ElementsChanged=f.ScheduleCallback(t.state_ElementsChanged,l)})),n(),a(),i(),r(),l()};Na.__name__=!0;var La=function(e,t,n,a){this.settings=a,this.state=e,this.navigationFocusMode=t,this.boolFactory=n,this.FeatureObserver=new Ba(this)};La.__name__=!0,La.prototype={_updatedisableNavigation:function(){return null==this.settings||null==this.settings.disableNavigation?null:this.boolFactory.Create(this.settings.disableNavigation)},_updateCurrentNavigationFocus:function(){return null==this.state||null==this.disableNavigation?"none":this.state.ShowFullscreen?"canvas":this.disableNavigation.Value?"none":"product"},_updateSetNavigationFocus:function(){return this.navigationFocusMode.SetValue(this.CurrentNavigationFocus),!0}};var Ba=function(e){var t=this;this.state_disableNavigation=!1,this.state_CurrentNavigationFocus=!1,this.state_SetNavigationFocus=!1;var n=function(){e.disableNavigation=e._updatedisableNavigation(),t.state_disableNavigation=!0},a=function(){e.CurrentNavigationFocus=e._updateCurrentNavigationFocus(),t.state_CurrentNavigationFocus=!0},i=function(){e.SetNavigationFocus=e._updateSetNavigationFocus(),t.state_SetNavigationFocus=!0},r=function(e,a){t.state_disableNavigation=f.ScheduleCallback(t.state_disableNavigation,n)},l=function(e,n){t.state_CurrentNavigationFocus=f.ScheduleCallback(t.state_CurrentNavigationFocus,a)},o=function(e,n){t.state_CurrentNavigationFocus=f.ScheduleCallback(t.state_CurrentNavigationFocus,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"disableNavigation",r),null!=a&&Te.HiddenObserve(a,"disableNavigation",r),t.state_disableNavigation=f.ScheduleCallback(t.state_disableNavigation,n)})),Te.HiddenObserve(e,"state",(function(e,n){null!=e&&Te.HiddenForget(e,"ShowFullscreen",l),null!=n&&Te.HiddenObserve(n,"ShowFullscreen",l),t.state_CurrentNavigationFocus=f.ScheduleCallback(t.state_CurrentNavigationFocus,a)})),Te.HiddenObserve(e,"disableNavigation",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_CurrentNavigationFocus=f.ScheduleCallback(t.state_CurrentNavigationFocus,a)})),Te.HiddenObserve(e,"CurrentNavigationFocus",(function(e,n){t.state_SetNavigationFocus=f.ScheduleCallback(t.state_SetNavigationFocus,i)})),n(),a(),i()};Ba.__name__=!0;var Ea=function(e,t,n,a,i){va.call(this,e,i),this.state=n,this.settings=i,this.route=a,this.fullscreenProvider=new Pi("binkies-fullscreen","body",null!=i.overflowTarget?i.overflowTarget:"body");var r=new Wa;r.Settings=i,r.ComponentFactory=t,new ke(this,r,new Ae({childList:!0})),this.FeatureObserver=new za(this)};Ea.__name__=!0,Ea.__super__=va,Ea.prototype=i(va.prototype,{_updateIsFullscreen:function(){return null!=this.route&&this.route.ContainsFullscreen},_updateResetState:function(){return null!=this.TargetProvider&&null!=this.TargetProvider.Value||this.state.Reset(),!1},_updateMonitorActive:function(){return this.componentMonitor=new bt('[data-binkies-content="root"]'),!0},_updateUpdateCanShowContent:function(){var e=null!=this.componentMonitor.Result;return this.state.CanShowContent=e,this.state.CanShowFullscreen=null!=this.fullscreenProvider.Target,e},_updatePageTarget:function(){return null==this.TargetProvider?null:(null!=this.PageTarget&&this.PageTarget.removeAttribute("data-binkies-content"),null!=this.TargetProvider.Value&&this.TargetProvider.Value.setAttribute("data-binkies-content","pageTarget"),this.TargetProvider.Value)},_updateTarget:function(){return this.IsFullscreen?(this.fullscreenProvider.Enabled=!0,this.fullscreenProvider.Target):(this.fullscreenProvider.Enabled=!1,this.PageTarget)}});var Wa=function(){this.originalPosition=null,Pe.call(this),this.FeatureComponentObserver=new Ua(this)};Wa.__name__=!0,Wa.__super__=Pe,Wa.prototype=i(Pe.prototype,{Mounted:function(){Pe.prototype.Mounted.call(this),this.ApplyPositionOverride(this.root.parentElement)},Unmount:function(){this.RemovePositionOverride(this.root.parentElement),Pe.prototype.Unmount.call(this)},BeforeRemount:function(){this.RemovePositionOverride(this.root.parentElement)},Remounted:function(){var e=this;this.ApplyPositionOverride(this.root.parentElement),this.root.removeAttribute("mounted"),window.requestAnimationFrame((function(t){e.root.setAttribute("mounted","true")}))},ApplyPositionOverride:function(e){null!=e&&"static"==window.getComputedStyle(e,null).getPropertyValue("position")&&(this.originalPosition=e.style.position,e.style.position="relative")},RemovePositionOverride:function(e){null!=e&&null!=this.originalPosition&&(e.style.position=this.originalPosition,this.originalPosition=null)},_updateComponent:function(){return null==this.ComponentFactory?null:this.ComponentFactory.Create(this.Settings.component)},_updateVirtualDom:function(){var e=Fe.CreateNode("div");return e.Events.click=function(e){e.stopPropagation()},null==this.Settings||(e.Attributes["data-binkies-content"]="root",e.Attributes.class="binkies-unselectable",e.Attributes.mounted="true",e.Attributes.style="position: absolute; left: 0; right: 0; top: 0; bottom: 0;",e.AddNode("style").AddText("#binkies-fullscreen\n\t\t{\n\t\t\tbackground-color: "+this.Settings.fullscreenBackgroundColor+";\n\t\t\tmax-height: 100%;\n\t\t}"),null!=this.Component&&null!=this.Component.Value&&e.AddChild(we.Clone(this.Component.Value))),e}});var Ua=function(e){var t=this;this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.Component=e._updateComponent(),t.state_Component=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,a){t.state_Component=f.ScheduleCallback(t.state_Component,n)},r=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)},l=function(e,n){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)};Te.HiddenObserve(e,"ComponentFactory",(function(e,a){t.state_Component=f.ScheduleCallback(t.state_Component,n)})),Te.HiddenObserve(e,"Settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"component",i),Te.HiddenForget(e,"fullscreenBackgroundColor",r)),null!=l&&(Te.HiddenObserve(l,"component",i),Te.HiddenObserve(l,"fullscreenBackgroundColor",r)),t.state_Component=f.ScheduleCallback(t.state_Component,n),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),Te.HiddenObserve(e,"Component",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};Ua.__name__=!0;var za=function(e){var t=this;this.state_IsFullscreen=!1,this.state_ResetState=!1,this.state_MonitorActive=!1,this.state_UpdateCanShowContent=!1,this.state_PageTarget=!1,this.state_Target=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(){e.ResetState=e._updateResetState(),t.state_ResetState=!0},i=function(){e.UpdateCanShowContent=e._updateUpdateCanShowContent(),t.state_UpdateCanShowContent=!0},r=function(){e.PageTarget=e._updatePageTarget(),t.state_PageTarget=!0},l=function(){e.Target=e._updateTarget(),t.state_Target=!0},o=function(e,a){t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)},s=function(e,n){t.state_UpdateCanShowContent=f.ScheduleCallback(t.state_UpdateCanShowContent,i)},u=function(e,n){t.state_UpdateCanShowContent=f.ScheduleCallback(t.state_UpdateCanShowContent,i),t.state_Target=f.ScheduleCallback(t.state_Target,l)};Te.HiddenObserve(e,"route",(function(e,a){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",o),null!=a&&Te.HiddenObserve(a,"ContainsFullscreen",o),t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)})),Te.HiddenObserve(e,"componentMonitor",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",s),null!=n&&Te.HiddenObserve(n,"Result",s),t.state_UpdateCanShowContent=f.ScheduleCallback(t.state_UpdateCanShowContent,i)})),Te.HiddenObserve(e,"fullscreenProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"Target",u),null!=n&&Te.HiddenObserve(n,"Target",u),t.state_UpdateCanShowContent=f.ScheduleCallback(t.state_UpdateCanShowContent,i),t.state_Target=f.ScheduleCallback(t.state_Target,l)})),Te.HiddenObserve(e,"PageTarget",(function(e,n){t.state_PageTarget=f.ScheduleCallback(t.state_PageTarget,r),t.state_Target=f.ScheduleCallback(t.state_Target,l)})),Te.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_Target=f.ScheduleCallback(t.state_Target,l)}));var d=function(e,n){t.state_ResetState=f.ScheduleCallback(t.state_ResetState,a),t.state_PageTarget=f.ScheduleCallback(t.state_PageTarget,r)};Te.HiddenObserve(e,"TargetProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",d),null!=n&&Te.HiddenObserve(n,"Value",d),t.state_ResetState=f.ScheduleCallback(t.state_ResetState,a),t.state_PageTarget=f.ScheduleCallback(t.state_PageTarget,r)})),n(),a(),e.MonitorActive=e._updateMonitorActive(),t.state_MonitorActive=!0,i(),r(),l()};za.__name__=!0;var Ga=function(e,t,n,a){va.call(this,e,a),this.route=t,this.state=n,this.settings=a,this.RouteButtonFeatureObserver=new Xa(this)};Ga.__name__=!0,Ga.__super__=va,Ga.prototype=i(va.prototype,{_updateTarget:function(){return null==this.TargetProvider?null:(null!=this.Target&&this.Target.removeEventListener("click",Is(this,this.Clicked)),null!=this.TargetProvider.Value&&this.TargetProvider.Value.addEventListener("click",Is(this,this.Clicked)),this.TargetProvider.Value)},Clicked:function(){this.state.ContentAvailable&&this.route.GoTo(this.settings.route)}});var Xa=function(e){var t=this;this.state_Target=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0};Te.HiddenObserve(e,"Target",(function(e,a){t.state_Target=f.ScheduleCallback(t.state_Target,n)}));var a=function(e,a){t.state_Target=f.ScheduleCallback(t.state_Target,n)};Te.HiddenObserve(e,"TargetProvider",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Target=f.ScheduleCallback(t.state_Target,n)})),n()};Xa.__name__=!0;var Ya=function(e,t){this.settings=t,this.route=e,this.FeatureObserver=new Za(this)};Ya.__name__=!0,Ya.prototype={_updateMode:function(){if(null!=this.Mode&&this.Mode.Dispose(),"urlparameter"===this.settings.mode)return new Ja("binkies-route",this.route)}};var Za=function(e){var t=this;this.state_Mode=!1;var n=function(){e.Mode=e._updateMode(),t.state_Mode=!0},a=function(e,a){t.state_Mode=f.ScheduleCallback(t.state_Mode,n)};Te.HiddenObserve(e,"Mode",(function(e,a){t.state_Mode=f.ScheduleCallback(t.state_Mode,n)})),Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&Te.HiddenForget(e,"mode",a),null!=i&&Te.HiddenObserve(i,"mode",a),t.state_Mode=f.ScheduleCallback(t.state_Mode,n)})),Te.HiddenObserve(e,"route",(function(e,a){t.state_Mode=f.ScheduleCallback(t.state_Mode,n)})),n()};Za.__name__=!0;var Qa=function(e){this.route=e,window.addEventListener("hashchange",Is(this,this.HashChangeHandler)),this.HashChangeHandler(),this.AnchorModeObserver=new ja(this)};Qa.__name__=!0,Qa.prototype={Dispose:function(){window.removeEventListener("hashchange",Is(this,this.HashChangeHandler))},_updateRouteChanged:function(){return this.scrollX=window.scrollX,this.scrollY=window.scrollY,window.location.hash=h.replace(this.route.Value,"/","_"),window.scrollTo(this.scrollX,this.scrollY),null},HashChangeHandler:function(){this.route.GoTo(h.replace(h.replace(window.location.hash.toLowerCase(),"#",""),"_","/"))}};var ja=function(e){var t=this;this.state_RouteChanged=!1;var n=function(){e.RouteChanged=e._updateRouteChanged(),t.state_RouteChanged=!0},a=function(e,a){t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)};Te.HiddenObserve(e,"route",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)})),Te.HiddenObserve(e,"scrollX",(function(e,a){t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)})),Te.HiddenObserve(e,"scrollY",(function(e,a){t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)})),n()};ja.__name__=!0;var qa=function(e){this.route=e,window.addEventListener("popstate",Is(this,this.StateChangedHandler)),this.StateChangedHandler(),this.StateModeObserver=new Ka(this)};qa.__name__=!0,qa.prototype={Dispose:function(){window.removeEventListener("popstate",Is(this,this.StateChangedHandler))},_updateRouteChanged:function(){return this.getCurrentRoute()==this.route.Value||window.history.pushState({route:this.route.Value},"binkies-route"),null},StateChangedHandler:function(){var e=this.getCurrentRoute();null!=e&&this.route.GoTo(e)},getCurrentRoute:function(){var e=window.history.state;return null==e?null:e.route}};var Ka=function(e){var t=this;this.state_RouteChanged=!1;var n=function(){e.RouteChanged=e._updateRouteChanged(),t.state_RouteChanged=!0},a=function(e,a){t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)};Te.HiddenObserve(e,"route",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)})),n()};Ka.__name__=!0;var Ja=function(e,t){this.urlParameter=e,this.route=t,window.addEventListener("popstate",Is(this,this.StateChangedHandler)),window.addEventListener("locationchange",Is(this,this.LocationChangeHandler)),this.LocationChangeHandler(),this.URLParameterModeObserver=new $a(this)};Ja.__name__=!0,Ja.prototype={Dispose:function(){window.removeEventListener("popstate",Is(this,this.StateChangedHandler)),window.removeEventListener("locationchange",Is(this,this.LocationChangeHandler))},_updateRouteChanged:function(){var e=this.getCurrentRoute();if(e==this.route.Value)return null;var t=new URL(window.location.href),n=h.replace(this.route.Value,"/","_");n.length>0?t.searchParams.set(this.urlParameter,n):t.searchParams.delete(this.urlParameter);var a=null!=e&&o.has(e.split("/"),"fullscreen");if(a&&!this.route.ContainsFullscreen)window.history.back();else if(!a&&this.route.ContainsFullscreen){var i=this.getState();i.binkiesRoute=this.route.Value,window.history.pushState(i,"",t.href)}else{var r=this.getState();r.binkiesRoute=this.route.Value,window.history.replaceState(r,"",t.href)}return null},StateChangedHandler:function(){var e=this.getCurrentRoute();this.route.GoTo(e)},getCurrentRoute:function(){var e=this.getState();return null==e.binkiesRoute?"":e.binkiesRoute},getState:function(){var e=window.history.state;return null!=e&&d.isObject(e)||(e={binkiesRoute:""}),e},LocationChangeHandler:function(){var e=new URL(window.location.href).searchParams.get(this.urlParameter);e=null==e?"":e,this.route.GoTo(h.replace(e,"_","/"))}};var $a=function(e){var t=this;this.state_RouteChanged=!1;var n=function(){e.RouteChanged=e._updateRouteChanged(),t.state_RouteChanged=!0},a=function(e,a){t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)},i=function(e,a){t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)};Te.HiddenObserve(e,"route",(function(e,r){null!=e&&(Te.HiddenForget(e,"Value",a),Te.HiddenForget(e,"ContainsFullscreen",i)),null!=r&&(Te.HiddenObserve(r,"Value",a),Te.HiddenObserve(r,"ContainsFullscreen",i)),t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)})),Te.HiddenObserve(e,"urlParameter",(function(e,a){t.state_RouteChanged=f.ScheduleCallback(t.state_RouteChanged,n)})),n()};$a.__name__=!0;var ei=function(e,t){this.urlParameterName="binkies-testing",this.storageKey="binkies-testing";var n=this.DetermineActiveTestVariantName(t.testVariants);this.SetVariantInStorage(n),e.SetActiveTestVariantName(n)};ei.__name__=!0,ei.prototype={DetermineActiveTestVariantName:function(e){var t=this.GetTestVariantNameFromUrl();if(this.IsValidTestVariantName(t,e))return t;var n=this.GetTestVariantNameFromStorage();return this.IsValidTestVariantName(n,e)?n:n=this.RandomPickTestVariantName(Math.random(),e)},GetTestVariantNameFromUrl:function(){return new URL(window.location.href).searchParams.get(this.urlParameterName)},GetTestVariantNameFromStorage:function(){return ei.storage.getItem(this.storageKey)},SetVariantInStorage:function(e){ei.storage.setItem(this.storageKey,e)},IsValidTestVariantName:function(e,t){if(null==e)return!1;for(var n=0;n<t.length;)if(t[n++].name==e)return!0;return!1},RandomPickTestVariantName:function(e,t){for(var n=0,a=0;a<t.length;)n+=Math.max(0,t[a++].chance);for(var i=n,r=0,l=0;l<t.length;){var o=t[l];if(++l,e<=(r+=o.chance)/i)return o.name}return null}};var ti=function(){this.doubleTapExpired=null,this.isMinimizedKey="binkies-value-inspector-minimized",this.minimized=!1,At.call(this),ti.cssAddedToPage||(this.AddStyleToHead("#value-inspector\n{\n\tbackground: white;\n\tbackground-color: rgba(255, 255, 255, 0.7);\n\tborder: 1px solid darkorange;\n\tz-index: 2147483647;\n\n\ttop: 10px;\n\tleft: 10px;\n}\n\n#value-inspector .binkies-dragger\n{\n\tpadding: 10px;\n\tbackground-color: rgba(255, 140, 0, 0.7);\n\tcolor: #fff;\n\tborder: 1px solid darkorange;\n}\n\n#debugger-header.minimized\n{\n\twidth: 30px;\n\theight: 15px;\n}"),ti.cssAddedToPage=!0),this.ValueInspectionComponentObserver=new ni(this)};ti.__name__=!0,ti.__super__=At,ti.prototype=i(At.prototype,{Mounted:function(){At.prototype.Mounted.call(this),this.minimized="true"==ti.storage.getItem(this.isMinimizedKey)},ToggleMinimize:function(){this.minimized=!this.minimized,this.minimized?ti.storage.setItem(this.isMinimizedKey,"true"):ti.storage.removeItem(this.isMinimizedKey)},DoubleTap:function(e){1==e.touches.length&&(e.timeStamp<=this.doubleTapExpired?(e.preventDefault(),this.ToggleMinimize(),this.doubleTapExpired=null):this.doubleTapExpired=e.timeStamp+400)},_updateVirtualDom:function(){var e=this,t=function(t){e.DoubleTap(t)};t.hash=0;var n=function(){e.ToggleMinimize()};n.hash=1;var a=null;if((a=Fe.CreateNode("div")).Attributes.id="value-inspector",a.Attributes.class="binkies-draggable",1==this.minimized){var i=a.AddNode("div");i.Events.touchstart=t,i.Events.dblclick=n,i.Attributes.class="binkies-dragger minimized"}if(0==this.minimized){var r=a.AddNode("div");r.Events.touchstart=t,r.Events.dblclick=n,r.Attributes.class="binkies-dragger",r.AddText("\n\t\t\tValue Inspector\n\t\t");var l=a.AddNode("ul");if(null!=this.Values)for(var o=0,s=this.Values.length;o<s;){var u=o++;l.AddNode("li").AddText(this.Names[u]+': "'+this.Values[u].Value+'"')}}return null==a&&(a=Fe.CreateNode(this.converter.GetPlaceholderTag())),a}});var ni=function(e){var t=this;this.state_VirtualDom=!1;var n=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},a=function(e,a){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,n)};Te.HiddenObserve(e,"minimized",(function(e,a){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,n)})),Te.HiddenObserve(e,"Values",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,n)})),Te.HiddenObserve(e,"Names",(function(e,a){t.state_VirtualDom=f.ScheduleCallback(t.state_VirtualDom,n)})),n()};ni.__name__=!0;var ai=function(e,t){this.stringFactory=e,this.settings=t,nn.DebuggerEnabled()&&(this.component=new ti,this.component.Mount(window.document.body),this.ValueInspectionFeatureObserver=new ii(this))};ai.__name__=!0,ai.prototype={_updateInspectedValues:function(){var e=[];if(null==this.component)return e;for(var t=0,n=this.settings.values;t<n.length;)e.push(this.stringFactory.Create(n[t++].value));for(var a=this.settings.values,i=new Array(a.length),r=0,l=a.length;r<l;){var o=r++;i[o]=a[o].name}return this.component.Names=i,this.component.Values=e,e}};var ii=function(e){var t=this;this.state_InspectedValues=!1;var n=function(){e.InspectedValues=e._updateInspectedValues(),t.state_InspectedValues=!0},a=function(e,a){t.state_InspectedValues=f.ScheduleCallback(t.state_InspectedValues,n)};Te.HiddenObserve(e,"component",(function(e,a){t.state_InspectedValues=f.ScheduleCallback(t.state_InspectedValues,n)})),Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&Te.HiddenForget(e,"values",a),null!=i&&Te.HiddenObserve(i,"values",a),t.state_InspectedValues=f.ScheduleCallback(t.state_InspectedValues,n)})),n()};ii.__name__=!0;var ri=function(e,t){this.navigationFactory=e,this.comparisonCreated=t};ri.__name__=!0,ri.prototype={Create:function(e){return null==e?null:("comparison"==e.id.toLowerCase()&&this.comparisonCreated.SetValue(!0),this.navigationFactory.Create(e))}};var li=function(e,t,n,a,i,r,l,o){this.instantInit=!0,this.navigationManager=e,this.sceneManager=t,this.transitionFactory=n,this.activeBookmarkHandler=a,this.navigationFactory=i,this.contentQueue=r,this.comparisonContentQueue=l,this.route=o,this.NavigationFactoryObserver=new oi(this)};li.__name__=!0,li.prototype={_updateIsFullscreen:function(){return null!=this.route&&this.route.ContainsFullscreen},_updateIsFullscreenChanged:function(){return null==this.IsFullscreen?null:(this.instantInit=!0,this.IsFullscreen)},Create:function(e){if(null==e)return null;var t,n=e.settings;switch(e.id.toLowerCase()){case"comparison":t=new si([new g(this.contentQueue),new g(this.comparisonContentQueue)],new hi(null==n.defaultOrientation?ci.Bookmark("front"):ci.Snapshot(n.defaultOrientation),this.transitionFactory,this.activeBookmarkHandler,this.instantInit,n),new di(this.navigationFactory),this.navigationManager,this.sceneManager);break;case"justviewing":t=new si([new g(this.contentQueue)],new Vi(null==n.defaultOrientation?Hi.Bookmark("front"):Hi.Snapshot(n.defaultOrientation),this.transitionFactory,this.activeBookmarkHandler,this.instantInit,n),new ki(this.navigationFactory,yi.SmallObject),this.navigationManager,this.sceneManager);break;case"justviewinghotspo":t=new si([new g(this.contentQueue)],new Vi(null==n.defaultOrientation?Hi.Bookmark("front"):Hi.Snapshot(n.defaultOrientation),this.transitionFactory,this.activeBookmarkHandler,this.instantInit,n),new ki(this.navigationFactory,yi.Hotspot),this.navigationManager,this.sceneManager)}if(this.instantInit=!1,null==t)throw new ws("Unknown definition id: "+e.id);return t}};var oi=function(e){var t=this;this.state_IsFullscreen=!1,this.state_IsFullscreenChanged=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(){e.IsFullscreenChanged=e._updateIsFullscreenChanged(),t.state_IsFullscreenChanged=!0},i=function(e,a){t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)};Te.HiddenObserve(e,"route",(function(e,a){null!=e&&Te.HiddenForget(e,"ContainsFullscreen",i),null!=a&&Te.HiddenObserve(a,"ContainsFullscreen",i),t.state_IsFullscreen=f.ScheduleCallback(t.state_IsFullscreen,n)})),Te.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_IsFullscreenChanged=f.ScheduleCallback(t.state_IsFullscreenChanged,a)})),n(),a()};oi.__name__=!0;var si=function(e,t,n,a,i){this.items=e,this.stateMachine=t,this.controllerBuilder=n,this.navigationManager=a,this.sceneManager=i,this.SceneNavigationObserver=new ui(this)};si.__name__=!0,si.prototype={Start:function(){this.running||(this.sceneManager.SetSceneItems(this.items),this.running=!0)},Stop:function(){this.running&&(this.stateMachine.Stop(),this.running=!1)},_updateProductsReady:function(){return null==this.stateMachine||null==this.items?null:null!=this.items[0].Composition&&(this.stateMachine.Start(),!0)},_updateState:function(){return null==this.navigationManager||null==this.controllerBuilder||null==this.stateMachine||null==this.stateMachine.State?null:this.State!=this.stateMachine.State&&this.running?(this.navigationManager.NavigationController.NavigationModel.ProductTransformModels.length>0&&this.navigationManager.SetNavigationController(this.controllerBuilder.Build(this.stateMachine.State,this.navigationManager.NavigationController)),this.stateMachine.State):this.State}};var ui=function(e){var t=this;this.state_ProductsReady=!1,this.state_State=!1;var n=function(){e.ProductsReady=e._updateProductsReady(),t.state_ProductsReady=!0},a=function(){e.State=e._updateState(),t.state_State=!0},i=function(e,n){t.state_State=f.ScheduleCallback(t.state_State,a)},r=function(e,a){t.state_ProductsReady=f.ScheduleCallback(t.state_ProductsReady,n)},l=function(e,n){t.state_State=f.ScheduleCallback(t.state_State,a)},o=function(e,n){null!=e&&Te.HiddenForget(e,"ProductTransformModels",l),null!=n&&Te.HiddenObserve(n,"ProductTransformModels",l),t.state_State=f.ScheduleCallback(t.state_State,a)},s=function(e,n){null!=e&&Te.HiddenForget(e,"NavigationModel",o),null!=n&&Te.HiddenObserve(n,"NavigationModel",o),t.state_State=f.ScheduleCallback(t.state_State,a)};Te.HiddenObserve(e,"stateMachine",(function(e,r){null!=e&&Te.HiddenForget(e,"State",i),null!=r&&Te.HiddenObserve(r,"State",i),t.state_ProductsReady=f.ScheduleCallback(t.state_ProductsReady,n),t.state_State=f.ScheduleCallback(t.state_State,a)})),Te.HiddenObserve(e,"items",(function(e,a){null!=e&&Te.HiddenForget(e,"Composition",r),null!=a&&Te.HiddenObserve(a,"Composition",r),t.state_ProductsReady=f.ScheduleCallback(t.state_ProductsReady,n)})),Te.HiddenObserve(e,"navigationManager",(function(e,n){null!=e&&Te.HiddenForget(e,"NavigationController",s),null!=n&&Te.HiddenObserve(n,"NavigationController",s),t.state_State=f.ScheduleCallback(t.state_State,a)})),Te.HiddenObserve(e,"controllerBuilder",(function(e,n){t.state_State=f.ScheduleCallback(t.state_State,a)})),Te.HiddenObserve(e,"State",(function(e,n){t.state_State=f.ScheduleCallback(t.state_State,a)})),Te.HiddenObserve(e,"running",(function(e,n){t.state_State=f.ScheduleCallback(t.state_State,a)})),n(),a()};ui.__name__=!0;var di=function(e){this.navigationFactory=e};di.__name__=!0,di.prototype={Build:function(e,t,n){null==n&&(n=!1);var a=this.navigationFactory.Create(mo.SnapShot(t));switch(e._hx_index){case 0:return this.HandleInit(e.state,t,e.instant);case 1:return this.HandleBookmark(this.convertBookmarkToQuaternion(e.bookmark),a,n,!0);case 2:return this.HandleBookmark(this.convertOrientationToQuaternion(e.orientation),a,n,!0);case 3:case 4:return t;case 5:return this.HandleNavigate(a);case 6:return this.HandleAutoRotate(a,n)}},HandleInit:function(e,t,n){switch(e._hx_index){case 1:return this.HandleBookmark(this.convertBookmarkToQuaternion(e.bookmark),t,n,!1);case 2:return this.HandleBookmark(this.convertOrientationToQuaternion(e.orientation),t,n,!1);default:return this.Build(e,t,n)}},HandleBookmark:function(e,t,n,a){var i=this.navigationFactory.Create(mo.Bookmark([e,e],-t.NavigationModel.CameraPosition.Z,t.NavigationModel.CameraFieldOfView));return i=this.navigationFactory.Create(mo.SizeComparePositionate(i)),i=this.navigationFactory.Create(mo.SizeCompareKeepOnScreen(i)),i=this.navigationFactory.Create(mo.Blend(t,i,n?0:null)),a&&(i=this.navigationFactory.Create(mo.SizeComparePositionate(i))),i},HandleNavigate:function(e){var t=this.navigationFactory.Create(mo.SizeCompareRotate(e));return t=this.navigationFactory.Create(mo.SizeComparePositionate(t)),t=this.navigationFactory.Create(mo.SizeCompareKeepOnScreen(t))},HandleAutoRotate:function(e,t){var n=this.getStandingOrientation(e.NavigationModel.ProductTransformModels[0].ProductOrientation),a=this.navigationFactory.Create(mo.Bookmark([n,n],-e.NavigationModel.CameraPosition.Z,e.NavigationModel.CameraFieldOfView));return a=this.navigationFactory.Create(mo.AutoRotate(a)),a=this.navigationFactory.Create(mo.SizeComparePositionate(a)),a=this.navigationFactory.Create(mo.SizeCompareKeepOnScreen(a)),a=this.navigationFactory.Create(mo.Blend(e,a,t?0:null))},convertOrientationToQuaternion:function(e){return zl.FromYawPitchRoll(.017453292519943*e.yaw,.017453292519943*e.pitch,.017453292519943*e.roll)},convertBookmarkToQuaternion:function(e){switch(e){case"back":return{X:0,Y:0,Z:0,W:1};case"bottom":var t=-.5*Math.PI,n=Math.sin(.5*t),a=Math.cos(.5*t),i=.5*Math.PI-1e-4,r=Math.sin(.5*i),l=Math.cos(.5*i);return{X:0*l+0*a+n*r,Y:n*l+0*a-0*r,Z:0*l+a*r-0*n,W:a*l-0*n-0*r};case"front":var o=Math.PI;return{X:0,Y:Math.sin(.5*o),Z:0,W:Math.cos(.5*o)};case"left":var s=-.5*Math.PI;return{X:0,Y:Math.sin(.5*s),Z:0,W:Math.cos(.5*s)};case"right":var u=.5*Math.PI;return{X:0,Y:Math.sin(.5*u),Z:0,W:Math.cos(.5*u)};case"top":var d=-.5*Math.PI,c=Math.sin(.5*d),h=Math.cos(.5*d),_=.5*-Math.PI+1e-4,g=Math.sin(.5*_),b=Math.cos(.5*_);return{X:0*b+0*h+c*g,Y:c*b+0*h-0*g,Z:0*b+h*g-0*c,W:h*b-0*c-0*g};default:return null}},getStandingOrientation:function(e){var t=e.Y,n=e.W,a=Math.sqrt(t*t+n*n);return{X:0*(a=0==a?1:1/a),Y:t*a,Z:0*a,W:n*a}}};var ci=a["binkies.integration.navigation.comparison.ComparisonState"]={__ename__:!0,__constructs__:["Init","Bookmark","Snapshot","Timeout","InitTimeout","Navigate","AutoRotate"],Init:(t=function(e,t){return{_hx_index:0,state:e,instant:t,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},t.__params__=["state","instant"],t),Bookmark:(t=function(e){return{_hx_index:1,bookmark:e,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},t.__params__=["bookmark"],t),Snapshot:(t=function(e){return{_hx_index:2,orientation:e,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},t.__params__=["orientation"],t),Timeout:{_hx_index:3,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n},InitTimeout:{_hx_index:4,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n},Navigate:{_hx_index:5,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n},AutoRotate:{_hx_index:6,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},hi=function(e,t,n,a,i){var r=null==i.autoRotation||i.autoRotation;this.stateMachine=new as(ci.Init(e,a),[{State:ci.Init(null,null),Transitions:[t.Timeout(1e3,ci.InitTimeout)]},{State:ci.InitTimeout,Transitions:[r?t.Timeout(2e3,ci.AutoRotate):t.Noop(),t.StartInteracting(ci.Navigate),t.BookmarkClicked((function(e){return ci.Bookmark(e)}))]},{State:ci.Bookmark(null),Transitions:[t.GoTo(ci.Timeout)]},{State:ci.AutoRotate,Transitions:[t.BookmarkClicked((function(e){return ci.Bookmark(e)})),t.StartInteracting(ci.Navigate),t.ResetNavigation(ci.Init(e,!1))]},{State:ci.Timeout,Transitions:[r?t.Timeout(5e3,ci.AutoRotate):t.Noop(),t.StartInteracting(ci.Navigate),t.BookmarkClicked((function(e){return ci.Bookmark(e)})),t.ResetNavigation(ci.Init(e,!1))]},{State:ci.Navigate,Transitions:[t.BookmarkClicked((function(e){return ci.Bookmark(e)})),t.ResetNavigation(ci.Init(e,!1)),t.StoppedInteracting(ci.Timeout)]},{State:ci.Snapshot(null),Transitions:[t.GoTo(ci.Timeout)]}]),this.activeBookmarkHandler=n,this.ComparisonStateMachineObserver=new _i(this)};hi.__name__=!0,hi.prototype={_updateState:function(){var e=this.stateMachine.State;return this.handleState(e),e},handleState:function(e){if(null!=e)switch(e._hx_index){case 0:this.activeBookmarkHandler.SetValue(null),this.handleState(e.state);break;case 1:this.activeBookmarkHandler.SetValue(e.bookmark);break;case 5:case 6:this.activeBookmarkHandler.SetValue(null)}},Start:function(){this.stateMachine.Start()},Stop:function(){this.stateMachine.Stop()}};var _i=function(e){var t=this;this.state_State=!1;var n=function(){e.State=e._updateState(),t.state_State=!0},a=function(e,a){t.state_State=f.ScheduleCallback(t.state_State,n)};Te.HiddenObserve(e,"stateMachine",(function(e,i){null!=e&&Te.HiddenForget(e,"State",a),null!=i&&Te.HiddenObserve(i,"State",a),t.state_State=f.ScheduleCallback(t.state_State,n)})),n()};_i.__name__=!0;var gi=function(e,t){this.primaryInput=e,this.secondaryInput=t,this.GestureAdapterObserver=new bi(this)};gi.__name__=!0,gi.prototype={_updateprimaryInputActive:function(){return this.primaryInput.Gesture!=To.None},_updateGesture:function(){return this.primaryInputActive?this.primaryInput.Gesture:this.secondaryInput.Gesture},Update:function(e,t){this.primaryInput.Update(e,t),this.secondaryInput.Update(e,t)},_updateIsUserInteracting:function(){return this.primaryInputActive?this.primaryInput.IsUserInteracting:this.secondaryInput.IsUserInteracting}};var bi=function(e){var t=this;this.state_primaryInputActive=!1,this.state_Gesture=!1,this.state_IsUserInteracting=!1;var n=function(){e.primaryInputActive=e._updateprimaryInputActive(),t.state_primaryInputActive=!0},a=function(){e.Gesture=e._updateGesture(),t.state_Gesture=!0},i=function(){e.IsUserInteracting=e._updateIsUserInteracting(),t.state_IsUserInteracting=!0},r=function(e,i){t.state_primaryInputActive=f.ScheduleCallback(t.state_primaryInputActive,n),t.state_Gesture=f.ScheduleCallback(t.state_Gesture,a)},l=function(e,n){t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,i)},o=function(e,n){t.state_Gesture=f.ScheduleCallback(t.state_Gesture,a)},s=function(e,n){t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,i)};Te.HiddenObserve(e,"primaryInput",(function(e,o){null!=e&&(Te.HiddenForget(e,"Gesture",r),Te.HiddenForget(e,"IsUserInteracting",l)),null!=o&&(Te.HiddenObserve(o,"Gesture",r),Te.HiddenObserve(o,"IsUserInteracting",l)),t.state_primaryInputActive=f.ScheduleCallback(t.state_primaryInputActive,n),t.state_Gesture=f.ScheduleCallback(t.state_Gesture,a),t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,i)})),Te.HiddenObserve(e,"primaryInputActive",(function(e,n){t.state_Gesture=f.ScheduleCallback(t.state_Gesture,a),t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,i)})),Te.HiddenObserve(e,"secondaryInput",(function(e,n){null!=e&&(Te.HiddenForget(e,"Gesture",o),Te.HiddenForget(e,"IsUserInteracting",s)),null!=n&&(Te.HiddenObserve(n,"Gesture",o),Te.HiddenObserve(n,"IsUserInteracting",s)),t.state_Gesture=f.ScheduleCallback(t.state_Gesture,a),t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,i)})),n(),a(),i()};bi.__name__=!0;var vi=function(e){this.Gesture=To.None,this.inputProvider=e};vi.__name__=!0,vi.prototype={Update:function(e,t){e!=this.lastTime&&e!=this.lastTime&&(this.inputProvider.Update(e,t),this.lastTime=e,this.Gesture=To.None,this.IsUserInteracting=!1,0!=this.inputProvider.ScrollTicks&&(this.AddGesture(To.Zoom(this.inputProvider.InputPointA.Position,1+this.inputProvider.ScrollTicks*t)),this.IsUserInteracting=!0),!this.inputProvider.InputPointA.Down&&this.inputProvider.InputPointB.Down&&(this.AddGesture(To.Pan(this.inputProvider.InputPointB.Position,this.inputProvider.InputPointB.Delta)),this.IsUserInteracting=!0),this.inputProvider.InputPointA.Down&&!this.inputProvider.InputPointB.Down&&(this.AddGesture(To.Rotate(this.inputProvider.InputPointA.Delta.X,this.inputProvider.InputPointA.Delta.Y)),this.IsUserInteracting=!0))},AddGesture:function(e){var t=this.Gesture;switch(t._hx_index){case 0:this.Gesture=e;break;case 5:t.gestures.push(e);break;default:this.Gesture=To.Multiple([this.Gesture,e])}}};var fi=function(e,t){this.scrollDirectionThisFrame=0,new Mo(e),this.element=e,this.navigationFocusMode=t,this.InputPointA=new Lo(e,"left"),this.InputPointB=new Lo(e,"right"),this.MouseInputProviderObserver=new Si(this)};fi.__name__=!0,fi.prototype={_updateScrollTicks:function(){return this.scrollDirectionThisFrame},_updateNavigationFocusEnabled:function(){return"none"!=this.navigationFocusMode.Value},_updateNavigationFocusEnabledChanged:function(){return this.NavigationFocusEnabled?(this.InputPointA.Enable(),this.InputPointB.Enable(),this.element.addEventListener("wheel",Is(this,this.Wheel))):(this.InputPointA.Disable(),this.InputPointB.Disable(),this.element.removeEventListener("wheel",Is(this,this.Wheel))),!1},Update:function(e,t){this.NavigationFocusEnabled&&(this.InputPointA.Update(),this.InputPointB.Update(),this.scrollDirectionThisFrame=0)},Wheel:function(e){var t=e.deltaY,n=0;t<0&&(n=-1),t>0&&(n=1),this.scrollDirectionThisFrame=n,e.preventDefault()}};var Si=function(e){var t=this;this.state_ScrollTicks=!1,this.state_NavigationFocusEnabled=!1,this.state_NavigationFocusEnabledChanged=!1;var n=function(){e.ScrollTicks=e._updateScrollTicks(),t.state_ScrollTicks=!0},a=function(){e.NavigationFocusEnabled=e._updateNavigationFocusEnabled(),t.state_NavigationFocusEnabled=!0},i=function(){e.NavigationFocusEnabledChanged=e._updateNavigationFocusEnabledChanged(),t.state_NavigationFocusEnabledChanged=!0},r=function(e,n){t.state_NavigationFocusEnabled=f.ScheduleCallback(t.state_NavigationFocusEnabled,a)};Te.HiddenObserve(e,"scrollDirectionThisFrame",(function(e,a){t.state_ScrollTicks=f.ScheduleCallback(t.state_ScrollTicks,n)})),Te.HiddenObserve(e,"navigationFocusMode",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_NavigationFocusEnabled=f.ScheduleCallback(t.state_NavigationFocusEnabled,a)})),Te.HiddenObserve(e,"NavigationFocusEnabled",(function(e,n){t.state_NavigationFocusEnabledChanged=f.ScheduleCallback(t.state_NavigationFocusEnabledChanged,i)})),n(),a(),i()};Si.__name__=!0;var pi=function(e){this.Gesture=To.None,this.inputProvider=e};pi.__name__=!0,pi.prototype={Update:function(e,t){if(e!=this.lastTime&&e!=this.lastTime){if(this.inputProvider.Update(e,t),this.lastTime=e,this.Gesture=To.None,this.IsUserInteracting=!1,this.inputProvider.InputPointA.Down&&this.inputProvider.InputPointB.Down){var n=this.inputProvider.InputPointB.Position,a=this.inputProvider.InputPointA.Position,i=n.X-a.X,r=n.Y-a.Y;null==this.previousVector&&(this.previousVector={X:i,Y:r});var l=this.inputProvider.InputPointA.Position,o=this.inputProvider.InputPointB.Position,s={X:l.X+.5*(o.X-l.X),Y:l.Y+.5*(o.Y-l.Y)},u=this.inputProvider.InputPointA.Delta,d=this.inputProvider.InputPointB.Delta,c={X:u.X+.5*(d.X-u.X),Y:u.Y+.5*(d.Y-u.Y)};1!=this.inputProvider.ZoomFactor&&this.AddGesture(To.Zoom(s,this.inputProvider.ZoomFactor)),this.AddGesture(To.Pan(s,c)),this.IsUserInteracting=!0;var h=Math.sqrt(i*i+r*r);h=0==h?1:1/h;var _=this.previousVector,g=Math.sqrt(_.X*_.X+_.Y*_.Y);g=0==g?1:1/g;var b=_.X*g*(i*h)+_.Y*g*(r*h),v=b;b<-1?v=-1:b>1&&(v=1),this.AddGesture(To.Roll(s,Math.acos(v)*(i*this.previousVector.Y-r*this.previousVector.X<0?1:-1))),this.IsUserInteracting=!0,this.previousVector.X=i,this.previousVector.Y=r}else this.previousVector=null;this.inputProvider.InputPointA.Down&&!this.inputProvider.InputPointB.Down&&(this.AddGesture(To.Rotate(this.inputProvider.InputPointA.Delta.X,this.inputProvider.InputPointA.Delta.Y)),this.IsUserInteracting=!0)}},AddGesture:function(e){var t=this.Gesture;switch(t._hx_index){case 0:this.Gesture=e;break;case 5:t.gestures.push(e);break;default:this.Gesture=To.Multiple([this.Gesture,e])}}};var mi=function(e,t){this.element=e,this.navigationFocusMode=t,this.InputPointA=new Bo(e,0),this.InputPointB=new Bo(e,1),this.TouchInputProviderObserver=new Ci(this)};mi.__name__=!0,mi.prototype={_updateZoomFactor:function(){if(null==this.VectorAB)return 1;if(null==this.previousLength)return 1;if(0==this.previousLength)return 1;var e=this.VectorAB;return this.previousLength/Math.sqrt(e.X*e.X+e.Y*e.Y)},_updateVectorAB:function(){if(null==this.InputPointA||null==this.InputPointA.Position)return{X:0,Y:0};if(null==this.InputPointB||null==this.InputPointB.Position)return{X:0,Y:0};var e=this.InputPointA.Position,t=this.InputPointB.Position;return{X:e.X-t.X,Y:e.Y-t.Y}},_updateNavigationFocusEnabled:function(){return"none"!=this.navigationFocusMode.Value},_updateNavigationFocusEnabledChanged:function(){return this.NavigationFocusEnabled?(this.InputPointA.Enable(),this.InputPointB.Enable()):(this.InputPointA.Disable(),this.InputPointB.Disable()),!1},Update:function(e,t){if(this.NavigationFocusEnabled){this.InputPointA.Update(),this.InputPointB.Update();var n=this.VectorAB;this.previousLength=Math.sqrt(n.X*n.X+n.Y*n.Y)}}};var Ci=function(e){var t=this;this.state_ZoomFactor=!1,this.state_VectorAB=!1,this.state_NavigationFocusEnabled=!1,this.state_NavigationFocusEnabledChanged=!1;var n=function(){e.ZoomFactor=e._updateZoomFactor(),t.state_ZoomFactor=!0},a=function(){e.VectorAB=e._updateVectorAB(),t.state_VectorAB=!0},i=function(){e.NavigationFocusEnabled=e._updateNavigationFocusEnabled(),t.state_NavigationFocusEnabled=!0},r=function(){e.NavigationFocusEnabledChanged=e._updateNavigationFocusEnabledChanged(),t.state_NavigationFocusEnabledChanged=!0},l=function(e,a){t.state_ZoomFactor=f.ScheduleCallback(t.state_ZoomFactor,n)},o=function(e,a){t.state_ZoomFactor=f.ScheduleCallback(t.state_ZoomFactor,n)},s=function(e,n){t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)},u=function(e,n){t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)},d=function(e,n){null!=e&&(Te.HiddenForget(e,"X",s),Te.HiddenForget(e,"Y",u)),null!=n&&(Te.HiddenObserve(n,"X",s),Te.HiddenObserve(n,"Y",u)),t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)},c=function(e,n){t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)},h=function(e,n){t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)},_=function(e,n){null!=e&&(Te.HiddenForget(e,"X",c),Te.HiddenForget(e,"Y",h)),null!=n&&(Te.HiddenObserve(n,"X",c),Te.HiddenObserve(n,"Y",h)),t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)},g=function(e,n){t.state_NavigationFocusEnabled=f.ScheduleCallback(t.state_NavigationFocusEnabled,i)};Te.HiddenObserve(e,"VectorAB",(function(e,a){null!=e&&(Te.HiddenForget(e,"X",l),Te.HiddenForget(e,"Y",o)),null!=a&&(Te.HiddenObserve(a,"X",l),Te.HiddenObserve(a,"Y",o)),t.state_ZoomFactor=f.ScheduleCallback(t.state_ZoomFactor,n)})),Te.HiddenObserve(e,"previousLength",(function(e,a){t.state_ZoomFactor=f.ScheduleCallback(t.state_ZoomFactor,n)})),Te.HiddenObserve(e,"InputPointA",(function(e,n){null!=e&&Te.HiddenForget(e,"Position",d),null!=n&&Te.HiddenObserve(n,"Position",d),t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)})),Te.HiddenObserve(e,"InputPointB",(function(e,n){null!=e&&Te.HiddenForget(e,"Position",_),null!=n&&Te.HiddenObserve(n,"Position",_),t.state_VectorAB=f.ScheduleCallback(t.state_VectorAB,a)})),Te.HiddenObserve(e,"navigationFocusMode",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",g),null!=n&&Te.HiddenObserve(n,"Value",g),t.state_NavigationFocusEnabled=f.ScheduleCallback(t.state_NavigationFocusEnabled,i)})),Te.HiddenObserve(e,"NavigationFocusEnabled",(function(e,n){t.state_NavigationFocusEnabledChanged=f.ScheduleCallback(t.state_NavigationFocusEnabledChanged,r)})),n(),a(),i(),r()};Ci.__name__=!0;var yi=a["binkies.integration.navigation.justviewing.UserNavigationType"]={__ename__:!0,__constructs__:["Hotspot","SmallObject"],Hotspot:{_hx_index:0,__enum__:"binkies.integration.navigation.justviewing.UserNavigationType",toString:n},SmallObject:{_hx_index:1,__enum__:"binkies.integration.navigation.justviewing.UserNavigationType",toString:n}},ki=function(e,t){this.navigationFactory=e,this.userNavigationType=t};ki.__name__=!0,ki.prototype={Build:function(e,t,n){null==n&&(n=!1);var a=this.navigationFactory.Create(mo.SnapShot(t));switch(e._hx_index){case 0:return this.Build(e.state,t,e.instant);case 1:return this.HandleBookmark(this.convertBookmarkToQuaternion(e.bookmark),a,n);case 2:return this.HandleBookmark(this.convertOrientationToQuaternion(e.orientation),a,n);case 3:case 4:return t;case 5:return this.HandleUserNavigation(a);case 6:return this.HandleAutoRotate(a,n);case 7:return this.HandleFitToScreen(t,n)}},HandleBookmark:function(e,t,n){var a=this.navigationFactory.Create(mo.Bookmark([e],.5,t.NavigationModel.CameraFieldOfView));return a=this.navigationFactory.Create(mo.KeepOnScreen(a)),a=this.navigationFactory.Create(mo.Blend(t,a,n?0:null))},HandleUserNavigation:function(e){var t;switch(this.userNavigationType._hx_index){case 0:t=mo.HotspotRotate(e);break;case 1:t=mo.SmallObjectRotate(e)}var n=this.navigationFactory.Create(t);return this.userNavigationType==yi.SmallObject&&(n=this.navigationFactory.Create(mo.Zoom(n)),n=this.navigationFactory.Create(mo.Pan(n)),n=this.navigationFactory.Create(mo.Roll(n))),n=this.navigationFactory.Create(mo.RubberBand(n)),n=this.navigationFactory.Create(mo.ZoomLimiter(n)),n=this.navigationFactory.Create(mo.BrickWall(n))},HandleFitToScreen:function(e,t){var n=this.navigationFactory.Create(mo.KeepOnScreen(e));return n=this.navigationFactory.Create(mo.Blend(e,n,t?0:null))},HandleAutoRotate:function(e,t){var n=this.navigationFactory.Create(mo.Bookmark([this.getStandingOrientation(e.NavigationModel.ProductTransformModels[0].ProductOrientation)],.5,e.NavigationModel.CameraFieldOfView));return n=this.navigationFactory.Create(mo.KeepOnScreen(n)),n=this.navigationFactory.Create(mo.AutoRotate(n)),n=this.navigationFactory.Create(mo.Blend(e,n,t?0:null))},convertOrientationToQuaternion:function(e){return zl.FromYawPitchRoll(.017453292519943*e.yaw,.017453292519943*e.pitch,.017453292519943*e.roll)},convertBookmarkToQuaternion:function(e){switch(e){case"back":return{X:0,Y:0,Z:0,W:1};case"bottom":var t=Math.PI,n=Math.sin(.5*t),a=Math.cos(.5*t),i=.5*Math.PI,r=Math.sin(.5*i),l=Math.cos(.5*i);return{X:0*l+a*r+0*n,Y:n*l+0*a+0*r,Z:0*l+0*a-n*r,W:a*l-0*r-0*n};case"front":var o=Math.PI;return{X:0,Y:Math.sin(.5*o),Z:0,W:Math.cos(.5*o)};case"left":var s=-.5*Math.PI;return{X:0,Y:Math.sin(.5*s),Z:0,W:Math.cos(.5*s)};case"right":var u=.5*Math.PI;return{X:0,Y:Math.sin(.5*u),Z:0,W:Math.cos(.5*u)};case"top":var d=Math.PI,c=Math.sin(.5*d),h=Math.cos(.5*d),_=.5*-Math.PI,g=Math.sin(.5*_),b=Math.cos(.5*_);return{X:0*b+h*g+0*c,Y:c*b+0*h+0*g,Z:0*b+0*h-c*g,W:h*b-0*g-0*c};default:return null}},getStandingOrientation:function(e){var t=e.Y,n=e.W,a=Math.sqrt(t*t+n*n);return{X:0*(a=0==a?1:1/a),Y:t*a,Z:0*a,W:n*a}}};var Hi=a["binkies.integration.navigation.justviewing.JustViewingState"]={__ename__:!0,__constructs__:["Init","Bookmark","Snapshot","Timeout","InitTimeout","Navigate","AutoRotate","FitToScreen"],Init:(t=function(e,t){return{_hx_index:0,state:e,instant:t,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},t.__params__=["state","instant"],t),Bookmark:(t=function(e){return{_hx_index:1,bookmark:e,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},t.__params__=["bookmark"],t),Snapshot:(t=function(e){return{_hx_index:2,orientation:e,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},t.__params__=["orientation"],t),Timeout:{_hx_index:3,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},InitTimeout:{_hx_index:4,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},Navigate:{_hx_index:5,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},AutoRotate:{_hx_index:6,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},FitToScreen:{_hx_index:7,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},Vi=function(e,t,n,a,i){var r=null==i.autoRotation||i.autoRotation;this.stateMachine=new as(Hi.Init(e,a),[{State:Hi.Init(null,null),Transitions:[t.Timeout(1e3,Hi.InitTimeout)]},{State:Hi.InitTimeout,Transitions:[r?t.Timeout(2e3,Hi.AutoRotate):t.Noop(),t.StartInteracting(Hi.Navigate),t.ScreenSizeChanged(Hi.FitToScreen),t.BookmarkClicked((function(e){return Hi.Bookmark(e)}))]},{State:Hi.Bookmark(null),Transitions:[t.GoTo(Hi.Timeout),t.NavigationFocusDisabled(e)]},{State:Hi.AutoRotate,Transitions:[t.BookmarkClicked((function(e){return Hi.Bookmark(e)})),t.StartInteracting(Hi.Navigate),t.NavigationFocusDisabled(e),t.ResetNavigation(Hi.Init(e,!1))]},{State:Hi.Timeout,Transitions:[r?t.Timeout(5e3,Hi.AutoRotate):t.Noop(),t.StartInteracting(Hi.Navigate),t.BookmarkClicked((function(e){return Hi.Bookmark(e)})),t.ScreenSizeChanged(Hi.FitToScreen),t.NavigationFocusDisabled(e),t.ResetNavigation(Hi.Init(e,!1))]},{State:Hi.Navigate,Transitions:[t.BookmarkClicked((function(e){return Hi.Bookmark(e)})),t.ResetNavigation(Hi.Init(e,!1)),t.ScreenSizeChanged(Hi.FitToScreen),t.NavigationFocusDisabled(e),t.StoppedInteracting(Hi.Timeout)]},{State:Hi.FitToScreen,Transitions:[t.GoTo(Hi.Timeout),t.NavigationFocusDisabled(e)]},{State:Hi.Snapshot(null),Transitions:[t.GoTo(Hi.Timeout),t.NavigationFocusDisabled(e)]}]),this.activeBookmarkHandler=n,this.JustViewingStateMachineObserver=new Oi(this)};Vi.__name__=!0,Vi.prototype={_updateState:function(){var e=this.stateMachine.State;return this.handleState(e),e},handleState:function(e){if(null!=e)switch(e._hx_index){case 0:this.activeBookmarkHandler.SetValue(null),this.handleState(e.state);break;case 1:this.activeBookmarkHandler.SetValue(e.bookmark);break;case 5:case 6:this.activeBookmarkHandler.SetValue(null)}},Start:function(){this.stateMachine.Start()},Stop:function(){this.stateMachine.Stop()}};var Oi=function(e){var t=this;this.state_State=!1;var n=function(){e.State=e._updateState(),t.state_State=!0},a=function(e,a){t.state_State=f.ScheduleCallback(t.state_State,n)};Te.HiddenObserve(e,"stateMachine",(function(e,i){null!=e&&Te.HiddenForget(e,"State",a),null!=i&&Te.HiddenObserve(i,"State",a),t.state_State=f.ScheduleCallback(t.state_State,n)})),n()};Oi.__name__=!0;var Fi=function(e){this.decoratee=e};Fi.__name__=!0,Fi.prototype={GetPlayer:function(e){if(null!=this.cachedValue){var t=this.cachedValue;return window.clearTimeout(this.timeoutHandle),this.cachedValue=null,t}return this.decoratee.GetPlayer(e)},ReturnPlayer:function(e){var t=this;this.cachedValue=e,this.timeoutHandle=window.setTimeout((function(){return t.decoratee.ReturnPlayer(e),t.cachedValue=null}),5e3)}};var wi=function(){};wi.__name__=!0,wi.prototype={GetPlayer:function(e){var t=window.document.createElement("div");t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.display="inline-block";var n=BinkiesPlayer.CreatePlayer(e,t),a=!1;return{appendTo:function(e){return e.appendChild(t)},remove:function(){t.remove()},dispose:function(){n.Dispose()},switchToComposition:function(e,t,i){1==i&&(a=!0),n.SwitchToComposition(e,t,i)},updateExternalNavigation:function(e){a&&1==e.products.length&&(a=!1,n.SwitchToComposition(null,"",1)),n.UpdateExternalNavigation(e)},resume:function(){n.Resume()},pause:function(){n.Pause()},getPlayer:function(){return n}}},ReturnPlayer:function(e){e.remove(),e.dispose()}};var xi=function(e,t){this.contentIdentifierProvider=e,this.contentIdentifierTransformer=t,this.ContentIdentifierProviderTransformerObserver=new Di(this)};xi.__name__=!0,xi.prototype={_updateValue:function(){return this.Transform(this.contentIdentifierProvider.Value)},Transform:function(e){return this.contentIdentifierTransformer.Transform(e)}};var Di=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"contentIdentifierProvider",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};Di.__name__=!0;var Pi=function(e,t,n,a){null==a&&(a=Ve.Append),this.Enabled=!1,this.parentSelector=t,this.insertMode=a,this.overflowTarget=n,this.targetElement=window.document.createElement("div"),this.targetElement.id=e,this.targetElement.style.display="none",this.targetElement.tabIndex=-1,this.SetStyling(),"loading"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",Is(this,this.ObserveMutations)):this.ObserveMutations(),this.FullscreenTargetElementInjectorObserver=new Ai(this)};Pi.__name__=!0,Pi.prototype={_updateTarget:function(){return null==this.parentElement?null:this.targetElement},ObserveMutations:function(){var e,t=this;switch(this.overflowTarget){case"body":e=window.document.body;break;case"html":e=window.document.documentElement}this.overflowElement=e;var n=!1;new MutationObserver((function(e,a){t.parentElement=t.GetParentElement(),n||null==t.parentElement||(n=!0,t.GetElementAtInjectPosition()!=t.targetElement&&t.RepositionTargetElement(),n=!1)})).observe(window.document.body,{childList:!0,subtree:!0}),Te.HiddenObserve(this,"Enabled",(function(e,n){n?t.Enable():t.Disable()}),!0)},Enable:function(){null==this.originalOverflowValue&&(this.originalOverflowValue=this.overflowElement.style.overflow),this.overflowElement.style.overflow="hidden",this.targetElement.style.display="block",this.targetElement.setAttribute("aria-modal","true"),this.targetElement.focus()},Disable:function(){null!=this.originalOverflowValue&&(this.overflowElement.style.overflow=this.originalOverflowValue,this.originalOverflowValue=null),this.targetElement.style.display="none",this.targetElement.setAttribute("aria-modal","false"),this.targetElement.blur()},GetParentElement:function(){return window.document.querySelector(this.parentSelector)},GetElementAtInjectPosition:function(){var e=this.insertMode;switch(e._hx_index){case 0:return this.parentElement.lastElementChild;case 1:return this.parentElement.children[e.index];case 2:return this.parentElement.firstElementChild}},RepositionTargetElement:function(){Ps.RemoveFromParent(this.targetElement),this.SetStyling();var e=this.insertMode;switch(e._hx_index){case 0:this.parentElement.appendChild(this.targetElement);break;case 1:this.parentElement.insertBefore(this.targetElement,this.parentElement.children[e.index]);break;case 2:this.parentElement.insertBefore(this.targetElement,this.parentElement.children[0])}},SetStyling:function(){this.targetElement.style.position="fixed",this.targetElement.style.top="0",this.targetElement.style.bottom="0",this.targetElement.style.left="0",this.targetElement.style.right="0",this.targetElement.style.zIndex="2147483647",this.Enabled?this.Enable():this.Disable()}};var Ai=function(e){var t=this;this.state_Target=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0};Te.HiddenObserve(e,"parentElement",(function(e,a){t.state_Target=f.ScheduleCallback(t.state_Target,n)})),Te.HiddenObserve(e,"targetElement",(function(e,a){t.state_Target=f.ScheduleCallback(t.state_Target,n)})),n()};Ai.__name__=!0;var Ii=function(e,t){this.valueDefinitionProvider=e,this.stringFactory=t,this.IntegrationConfigurationContentIdentifierProviderObserver=new Ti(this)};Ii.__name__=!0,Ii.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.valueDefinitionProvider.ContentIdentifierProvider)},_updateValue:function(){return null==this.StringValue?null:this.StringValue.Value}};var Ti=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"valueDefinitionProvider",(function(e,a){null!=e&&Te.HiddenForget(e,"ContentIdentifierProvider",i),null!=a&&Te.HiddenObserve(a,"ContentIdentifierProvider",i),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Ti.__name__=!0;var Mi=function(e){this.targetElement=new bt(e),this.QueryTargetElementProviderObserver=new Ri(this)};Mi.__name__=!0,Mi.prototype={_updateTarget:function(){return this.targetElement.Result}};var Ri=function(e){var t=this;this.state_Target=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0},a=function(e,a){t.state_Target=f.ScheduleCallback(t.state_Target,n)};Te.HiddenObserve(e,"targetElement",(function(e,i){null!=e&&Te.HiddenForget(e,"Result",a),null!=i&&Te.HiddenObserve(i,"Result",a),t.state_Target=f.ScheduleCallback(t.state_Target,n)})),n()};Ri.__name__=!0;var Ni=function(e){null==e&&(e=""),this.FullscreenRoute="fullscreen",this.Value=e,this.RouteObserver=new Li(this)};Ni.__name__=!0,Ni.prototype={Contains:function(e){return null!=this.Value&&o.has(this.Value.split("/"),e)},_updateContainsFullscreen:function(){return null!=this.Value&&this.Contains(this.FullscreenRoute)},GoTo:function(e){e!=this.Value&&(this.Value=e,ee.Fire("routechanged",new ve(this.Value)))}};var Li=function(e){var t=this;this.state_ContainsFullscreen=!1;var n=function(){e.ContainsFullscreen=e._updateContainsFullscreen(),t.state_ContainsFullscreen=!0};Te.HiddenObserve(e,"Value",(function(e,a){t.state_ContainsFullscreen=f.ScheduleCallback(t.state_ContainsFullscreen,n)})),Te.HiddenObserve(e,"FullscreenRoute",(function(e,a){t.state_ContainsFullscreen=f.ScheduleCallback(t.state_ContainsFullscreen,n)})),n()};Li.__name__=!0;var Bi=function(e,t){this.accessKey=e,this.viewId=t};Bi.__name__=!0,Bi.prototype={Request:function(e,t){var n=new XMLHttpRequest;n.onload=function(){if(200==n.status){var e=JSON.parse(n.response);t(e)}else t({path:null,optionUId:null,productUId:null})};var a=window.location.href;n.open("GET","https://embed.binkies3d.com/content/"+this.accessKey+"/"+this.viewId+"/"+e,!0),n.setRequestHeader("x-referrer",a),n.responseType="text",n.send()}};var Ei=function(){this.Value=null};Ei.__name__=!0,Ei.prototype={SetActiveTestVariantName:function(e){null==this.Value&&(this.Value=e,ee.Fire("testvariant",new me(e)))}};var Wi=function(e,t,n){this.boolFactory=e,this.factory=t,this.settings=n,this.ConditionalObserver=new Ui(this)};Wi.__name__=!0,Wi.prototype={_updateCondition:function(){return null==this.settings||null==this.settings.condition?null:this.boolFactory.Create(this.settings.condition)},_updateIfTrue:function(){return null==this.settings||null==this.settings.ifTrue?null:this.factory.Create(this.settings.ifTrue)},_updateIfFalse:function(){return null==this.settings||null==this.settings.ifFalse?null:this.factory.Create(this.settings.ifFalse)},_updateConditionResult:function(){return null==this.Condition||null==this.Condition.Value?null:this.Condition.Value?this.IfTrue:this.IfFalse},_updateValue:function(){return null==this.ConditionResult?null:this.ConditionResult.Value}};var Ui=function(e){var t=this;this.state_Condition=!1,this.state_IfTrue=!1,this.state_IfFalse=!1,this.state_ConditionResult=!1,this.state_Value=!1;var n=function(){e.Condition=e._updateCondition(),t.state_Condition=!0},a=function(){e.IfTrue=e._updateIfTrue(),t.state_IfTrue=!0},i=function(){e.IfFalse=e._updateIfFalse(),t.state_IfFalse=!0},r=function(){e.ConditionResult=e._updateConditionResult(),t.state_ConditionResult=!0},l=function(){e.Value=e._updateValue(),t.state_Value=!0},o=function(e,a){t.state_Condition=f.ScheduleCallback(t.state_Condition,n)},s=function(e,n){t.state_IfTrue=f.ScheduleCallback(t.state_IfTrue,a)},u=function(e,n){t.state_IfFalse=f.ScheduleCallback(t.state_IfFalse,i)},d=function(e,n){t.state_ConditionResult=f.ScheduleCallback(t.state_ConditionResult,r)},c=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,l)};Te.HiddenObserve(e,"settings",(function(e,r){null!=e&&(Te.HiddenForget(e,"condition",o),Te.HiddenForget(e,"ifTrue",s),Te.HiddenForget(e,"ifFalse",u)),null!=r&&(Te.HiddenObserve(r,"condition",o),Te.HiddenObserve(r,"ifTrue",s),Te.HiddenObserve(r,"ifFalse",u)),t.state_Condition=f.ScheduleCallback(t.state_Condition,n),t.state_IfTrue=f.ScheduleCallback(t.state_IfTrue,a),t.state_IfFalse=f.ScheduleCallback(t.state_IfFalse,i)})),Te.HiddenObserve(e,"Condition",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",d),null!=n&&Te.HiddenObserve(n,"Value",d),t.state_ConditionResult=f.ScheduleCallback(t.state_ConditionResult,r)})),Te.HiddenObserve(e,"IfTrue",(function(e,n){t.state_ConditionResult=f.ScheduleCallback(t.state_ConditionResult,r)})),Te.HiddenObserve(e,"IfFalse",(function(e,n){t.state_ConditionResult=f.ScheduleCallback(t.state_ConditionResult,r)})),Te.HiddenObserve(e,"ConditionResult",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",c),null!=n&&Te.HiddenObserve(n,"Value",c),t.state_Value=f.ScheduleCallback(t.state_Value,l)})),n(),a(),i(),r(),l()};Ui.__name__=!0;var zi=function(e){this.settings=e,this.ConstantObserver=new Gi(this)};zi.__name__=!0,zi.prototype={_updateValue:function(){return this.settings.value}};var Gi=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&Te.HiddenForget(e,"value",a),null!=i&&Te.HiddenObserve(i,"value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};Gi.__name__=!0;var Xi=function(e,t){this.factory=e,this.settings=t,this.FirstMatchObserver=new Yi(this)};Xi.__name__=!0,Xi.prototype={_updateValues:function(){if(null==this.settings||null==this.settings.values)return null;for(var e=this.settings.values,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.factory.Create(e[i])}return t},_updateValue:function(){if(null==this.Values)return null;for(var e=0,t=this.Values;e<t.length;){var n=t[e];if(++e,null!=n.Value)return n.Value}return null}};var Yi=function(e){var t=this;this.state_Values=!1,this.state_Value=!1;var n=function(){e.Values=e._updateValues(),t.state_Values=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Values=f.ScheduleCallback(t.state_Values,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"values",i),null!=a&&Te.HiddenObserve(a,"values",i),t.state_Values=f.ScheduleCallback(t.state_Values,n)})),Te.HiddenObserve(e,"Values",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Yi.__name__=!0;var Zi=function(e,t,n,a,i){this.objectFactory=t,this.stringFactory=e,this.settings=n,this.updateTrigger=a,this.validatorFunction=i,this.FromFieldObserver=new Qi(this)};Zi.__name__=!0,Zi.prototype={_updateObjectValue:function(){return this.objectFactory.Create(this.settings.object)},_updateAttributePath:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateValue:function(){if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.ObjectValue||null==this.ObjectValue.Value)return null;if(null==this.AttributePath||null==this.AttributePath.Value)return null;var e=Ki.EvaluatePath(this.ObjectValue.Value,this.AttributePath.Value);return null==e||this.validatorFunction(e)?e:(ks.trace("Binkies 3D: value found at "+c.string(this.settings.attributePath)+" is not of the requested type!",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/FromField.hx",lineNumber:55,className:"binkies.integration.values.FromField",methodName:"_updateValue"}),null)}};var Qi=function(e){var t=this;this.state_ObjectValue=!1,this.state_AttributePath=!1,this.state_Value=!1;var n=function(){e.ObjectValue=e._updateObjectValue(),t.state_ObjectValue=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_ObjectValue=f.ScheduleCallback(t.state_ObjectValue,n)},l=function(e,n){t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a),t.state_Value=f.ScheduleCallback(t.state_Value,i)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},s=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},u=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)};Te.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Te.HiddenForget(e,"object",r),Te.HiddenForget(e,"attributePath",l)),null!=o&&(Te.HiddenObserve(o,"object",r),Te.HiddenObserve(o,"attributePath",l)),t.state_ObjectValue=f.ScheduleCallback(t.state_ObjectValue,n),t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"ObjectValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"AttributePath",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Qi.__name__=!0;var ji=function(e,t,n,a){this.stringFactory=e,this.settings=t,this.updateTrigger=n,this.validatorFunction=a,this.FromJavaScriptObserver=new qi(this)};ji.__name__=!0,ji.prototype={_updateAttributePathValue:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateAttributePath:function(){if(null==this.AttributePathValue||null==this.AttributePathValue.Value)return null;var e=this.AttributePathValue.Value;switch(null==this.settings.scope?"window":this.settings.scope){case"global":break;case"window":e="window."+e}return e},_updateValue:function(){if(null==this.AttributePath)return null;if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;var e=Ki.EvaluatePath(null,this.AttributePath);return null==e||this.validatorFunction(e)?e:(ks.trace("Binkies 3D: value found at "+this.AttributePath+" is not of the requested type!",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/FromJavaScript.hx",lineNumber:65,className:"binkies.integration.values.FromJavaScript",methodName:"_updateValue"}),null)}};var qi=function(e){var t=this;this.state_AttributePathValue=!1,this.state_AttributePath=!1,this.state_Value=!1;var n=function(){e.AttributePathValue=e._updateAttributePathValue(),t.state_AttributePathValue=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_AttributePathValue=f.ScheduleCallback(t.state_AttributePathValue,n)},l=function(e,n){t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a)},o=function(e,n){t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a)},s=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Te.HiddenForget(e,"attributePath",r),Te.HiddenForget(e,"scope",l)),null!=i&&(Te.HiddenObserve(i,"attributePath",r),Te.HiddenObserve(i,"scope",l)),t.state_AttributePathValue=f.ScheduleCallback(t.state_AttributePathValue,n),t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a)})),Te.HiddenObserve(e,"AttributePathValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a)})),Te.HiddenObserve(e,"AttributePath",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};qi.__name__=!0;var Ki=function(){};Ki.__name__=!0,Ki.EvaluatePath=function(e,t){if(!Ki.IsValidPath(t))throw new ws("Invalid attribute path detected");try{var n;return n=null==e?'"use strict";return ('+t+")":'"use strict";return (this.'+t+")",new Function(n).call(e)}catch(e){return null}},Ki.IsValidPath=function(e){if(Hs.IsNullOrWhiteSpace(e))return!1;for(var t=["(",")","=","<",">"],n=0;n<t.length;)if(e.indexOf(t[n++])>-1)return!1;return!0};var Ji=function(e,t){this.settings=t,this.state=e,this.ActiveStateIsObserver=new $i(this)};Ji.__name__=!0,Ji.prototype={_updateLoadedFirst:function(){return!!this.LoadedFirst||this.state.ResourcesLoaded},_updateValue:function(){switch(this.settings.State){case"loading":return!this.state.ResourcesLoaded;case"loadingfirst":return!this.LoadedFirst}}};var $i=function(e){var t=this;this.state_LoadedFirst=!1,this.state_Value=!1;var n=function(){e.LoadedFirst=e._updateLoadedFirst(),t.state_LoadedFirst=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,i){t.state_LoadedFirst=f.ScheduleCallback(t.state_LoadedFirst,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"LoadedFirst",(function(e,i){t.state_LoadedFirst=f.ScheduleCallback(t.state_LoadedFirst,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"state",(function(e,r){null!=e&&Te.HiddenForget(e,"ResourcesLoaded",i),null!=r&&Te.HiddenObserve(r,"ResourcesLoaded",i),t.state_LoadedFirst=f.ScheduleCallback(t.state_LoadedFirst,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"settings",(function(e,n){null!=e&&Te.HiddenForget(e,"State",r),null!=n&&Te.HiddenObserve(n,"State",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};$i.__name__=!0;var er=function(e,t){this.boolFactory=e,this.settings=t,this.AndObserver=new tr(this)};er.__name__=!0,er.prototype={_updateConditions:function(){if(null==this.settings||null==this.settings.conditions)return null;for(var e=this.settings.conditions,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.boolFactory.Create(e[i])}return t},_updateValue:function(){if(null==this.Conditions)return!1;for(var e=0,t=this.Conditions;e<t.length;){var n=t[e];if(++e,0==n.Value)return!1;if(null==n.Value)return null}return!0}};var tr=function(e){var t=this;this.state_Conditions=!1,this.state_Value=!1;var n=function(){e.Conditions=e._updateConditions(),t.state_Conditions=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Conditions=f.ScheduleCallback(t.state_Conditions,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"conditions",i),null!=a&&Te.HiddenObserve(a,"conditions",i),t.state_Conditions=f.ScheduleCallback(t.state_Conditions,n)})),Te.HiddenObserve(e,"Conditions",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};tr.__name__=!0;var nr=function(e,t,n,a){this.leftValueFactory=e,this.rightValueFactory=t,this.comparator=n,this.settings=a,this.ComparisonObserver=new ar(this)};nr.__name__=!0,nr.prototype={_updateLeft:function(){return null==this.settings?null:this.leftValueFactory.Create(this.settings.left)},_updateRight:function(){return null==this.settings?null:this.rightValueFactory.Create(this.settings.right)},_updateValue:function(){if(null==this.Left)return null;if(null==this.Right)return null;var e=this.Left.Value,t=this.Right.Value;try{return this.comparator.compare(e,t,this.settings.op)}catch(e){var n=e instanceof ws?e.val:e;if("string"==typeof n)return ks.trace(n,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/bool/Comparison.hx",lineNumber:76,className:"binkies.integration.values.bool.Comparison",methodName:"_updateValue"}),null;throw e}}};var ar=function(e){var t=this;this.state_Left=!1,this.state_Right=!1,this.state_Value=!1;var n=function(){e.Left=e._updateLeft(),t.state_Left=!0},a=function(){e.Right=e._updateRight(),t.state_Right=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Left=f.ScheduleCallback(t.state_Left,n)},l=function(e,n){t.state_Right=f.ScheduleCallback(t.state_Right,a)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},s=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},u=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)};Te.HiddenObserve(e,"settings",(function(e,s){null!=e&&(Te.HiddenForget(e,"left",r),Te.HiddenForget(e,"right",l),Te.HiddenForget(e,"op",o)),null!=s&&(Te.HiddenObserve(s,"left",r),Te.HiddenObserve(s,"right",l),Te.HiddenObserve(s,"op",o)),t.state_Left=f.ScheduleCallback(t.state_Left,n),t.state_Right=f.ScheduleCallback(t.state_Right,a),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"Left",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"Right",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};ar.__name__=!0;var ir=function(e,t){this.networkSpeed=e,this.settings=t,this.ConnectionSpeedIsObserver=new rr(this)};ir.__name__=!0,ir.prototype={_updateValue:function(){return null==this.settings||null==this.settings.connectionSpeed||null==this.networkSpeed||null==this.networkSpeed.connectionSpeed?null:this.networkSpeed.connectionSpeed==this.settings.connectionSpeed}};var rr=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&Te.HiddenForget(e,"connectionSpeed",a),null!=i&&Te.HiddenObserve(i,"connectionSpeed",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"networkSpeed",(function(e,a){null!=e&&Te.HiddenForget(e,"connectionSpeed",i),null!=a&&Te.HiddenObserve(a,"connectionSpeed",i),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};rr.__name__=!0;var lr=function(e,t){this.settings=t,this.displayMode=e,this.DisplayModeIsObserver=new or(this)};lr.__name__=!0,lr.prototype={_updateValue:function(){return this.settings.displayMode==this.displayMode.Value}};var or=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&Te.HiddenForget(e,"displayMode",a),null!=i&&Te.HiddenObserve(i,"displayMode",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"displayMode",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",i),null!=a&&Te.HiddenObserve(a,"Value",i),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};or.__name__=!0;var sr=function(e,t){this.factory=e,this.settings=t,this.ExistsObserver=new ur(this)};sr.__name__=!0,sr.prototype={_updateWrappedValue:function(){return this.factory.Create(this.settings.value)},_updateValue:function(){return null==this.WrappedValue?null:null!=this.WrappedValue.Value}};var ur=function(e){var t=this;this.state_WrappedValue=!1,this.state_Value=!1;var n=function(){e.WrappedValue=e._updateWrappedValue(),t.state_WrappedValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_WrappedValue=f.ScheduleCallback(t.state_WrappedValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"value",i),null!=a&&Te.HiddenObserve(a,"value",i),t.state_WrappedValue=f.ScheduleCallback(t.state_WrappedValue,n)})),Te.HiddenObserve(e,"WrappedValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};ur.__name__=!0;var dr=function(e,t){this.stringFactory=e,this.settings=t,this.FromStringObserver=new cr(this)};dr.__name__=!0,dr.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;switch(this.StringValue.Value.toLowerCase()){case"false":return!1;case"true":return!0;default:return null}}};var cr=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"value",i),null!=a&&Te.HiddenObserve(a,"value",i),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};cr.__name__=!0;var hr=function(e){this.isCatalogOpenValue=e,this.IsCatalogOpenedObserver=new _r(this)};hr.__name__=!0,hr.prototype={_updateValue:function(){return null==this.isCatalogOpenValue?null:null!=this.isCatalogOpenValue.Value}};var _r=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"isCatalogOpenValue",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};_r.__name__=!0;var gr=function(e,t){this.activeTestVariantName=e,this.settings=t,this.IsTestVariantActiveObserver=new br(this)};gr.__name__=!0,gr.prototype={_updateValue:function(){return this.activeTestVariantName.Value==this.settings.testVariantName}};var br=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"activeTestVariantName",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"testVariantName",i),null!=a&&Te.HiddenObserve(a,"testVariantName",i),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};br.__name__=!0;var vr=function(e){this.matches=!1,this.settings=e,this.MediaQueryMatchObserver=new fr(this)};vr.__name__=!0,vr.prototype={_updateMediaQueryString:function(){var e=[];return null!=this.settings.minWidth&&e.push("(min-width: "+this.settings.minWidth+")"),null!=this.settings.maxWidth&&e.push("(max-width: "+this.settings.maxWidth+")"),null!=this.settings.minHeight&&e.push("(min-height: "+this.settings.minHeight+")"),null!=this.settings.maxHeight&&e.push("(max-height: "+this.settings.maxHeight+")"),null!=this.settings.minAspectRatio&&e.push("(min-aspect-ratio: "+this.settings.minAspectRatio+")"),null!=this.settings.maxAspectRatio&&e.push("(max-aspect-ratio: "+this.settings.maxAspectRatio+")"),null!=this.settings.orientation&&e.push("(orientation: "+this.settings.orientation+")"),e.join(" and ")},_updateMediaQueryList:function(){if(null!=this.MediaQueryList&&this.MediaQueryList.removeListener(Is(this,this.OnChange)),Hs.IsNullOrWhiteSpace(this.MediaQueryString))return null;var e=window.matchMedia(this.MediaQueryString);return e.addListener(Is(this,this.OnChange)),this.matches=e.matches,e},OnChange:function(){this.matches=this.MediaQueryList.matches},_updateValue:function(){return this.matches}};var fr=function(e){var t=this;this.state_MediaQueryString=!1,this.state_MediaQueryList=!1,this.state_Value=!1;var n=function(){e.MediaQueryString=e._updateMediaQueryString(),t.state_MediaQueryString=!0},a=function(){e.MediaQueryList=e._updateMediaQueryList(),t.state_MediaQueryList=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)},l=function(e,a){t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)},o=function(e,a){t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)},s=function(e,a){t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)},u=function(e,a){t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)},d=function(e,a){t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)},c=function(e,a){t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"minWidth",r),Te.HiddenForget(e,"maxWidth",l),Te.HiddenForget(e,"minHeight",o),Te.HiddenForget(e,"maxHeight",s),Te.HiddenForget(e,"minAspectRatio",u),Te.HiddenForget(e,"maxAspectRatio",d),Te.HiddenForget(e,"orientation",c)),null!=a&&(Te.HiddenObserve(a,"minWidth",r),Te.HiddenObserve(a,"maxWidth",l),Te.HiddenObserve(a,"minHeight",o),Te.HiddenObserve(a,"maxHeight",s),Te.HiddenObserve(a,"minAspectRatio",u),Te.HiddenObserve(a,"maxAspectRatio",d),Te.HiddenObserve(a,"orientation",c)),t.state_MediaQueryString=f.ScheduleCallback(t.state_MediaQueryString,n)})),Te.HiddenObserve(e,"MediaQueryList",(function(e,n){t.state_MediaQueryList=f.ScheduleCallback(t.state_MediaQueryList,a)})),Te.HiddenObserve(e,"MediaQueryString",(function(e,n){t.state_MediaQueryList=f.ScheduleCallback(t.state_MediaQueryList,a)})),Te.HiddenObserve(e,"matches",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};fr.__name__=!0;var Sr=function(e,t){this.boolFactory=e,this.settings=t,this.NotObserver=new pr(this)};Sr.__name__=!0,Sr.prototype={_updateWrappedValue:function(){return this.boolFactory.Create(this.settings.value)},_updateValue:function(){return null==this.WrappedValue?null:!this.WrappedValue.Value}};var pr=function(e){var t=this;this.state_WrappedValue=!1,this.state_Value=!1;var n=function(){e.WrappedValue=e._updateWrappedValue(),t.state_WrappedValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_WrappedValue=f.ScheduleCallback(t.state_WrappedValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"value",i),null!=a&&Te.HiddenObserve(a,"value",i),t.state_WrappedValue=f.ScheduleCallback(t.state_WrappedValue,n)})),Te.HiddenObserve(e,"WrappedValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};pr.__name__=!0;var mr=function(e,t){this.boolFactory=e,this.settings=t,this.OrObserver=new Cr(this)};mr.__name__=!0,mr.prototype={_updateConditions:function(){if(null==this.settings||null==this.settings.conditions)return null;for(var e=this.settings.conditions,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.boolFactory.Create(e[i])}return t},_updateValue:function(){if(null==this.Conditions)return!1;for(var e=0,t=this.Conditions;e<t.length;)if(1==t[e++].Value)return!0;return!1}};var Cr=function(e){var t=this;this.state_Conditions=!1,this.state_Value=!1;var n=function(){e.Conditions=e._updateConditions(),t.state_Conditions=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Conditions=f.ScheduleCallback(t.state_Conditions,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"conditions",i),null!=a&&Te.HiddenObserve(a,"conditions",i),t.state_Conditions=f.ScheduleCallback(t.state_Conditions,n)})),Te.HiddenObserve(e,"Conditions",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Cr.__name__=!0;var yr=function(){};yr.__name__=!0,yr.prototype={compare:function(e,t,n){if(null==n)return null;switch(n){case"!=":return e!=t;case"<":return e<t;case"<=":return e<=t;case"==":return e==t;case">":return e>t;case">=":return e>=t}}};var kr=function(){};kr.__name__=!0,kr.prototype={compare:function(e,t,n){if(null==n)return null;switch(n){case"!=":return e!=t;case"<":return e<t;case"<=":return e<=t;case"==":return e==t;case">":return e>t;case">=":return e>=t}}};var Hr=function(e,t){this.stringFactory=e,this.settings=t,this.CSSSelectorObserver=new Vr(this)};Hr.__name__=!0,Hr.prototype={_updateSelector:function(){return this.stringFactory.Create(this.settings.selector)},_updateTargetElementQuery:function(){return null==this.Selector||Hs.IsNullOrWhiteSpace(this.Selector.Value)?null:new bt(this.Selector.Value)},_updateValue:function(){return null==this.TargetElementQuery?null:this.TargetElementQuery.Result}};var Vr=function(e){var t=this;this.state_Selector=!1,this.state_TargetElementQuery=!1,this.state_Value=!1;var n=function(){e.Selector=e._updateSelector(),t.state_Selector=!0},a=function(){e.TargetElementQuery=e._updateTargetElementQuery(),t.state_TargetElementQuery=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Selector=f.ScheduleCallback(t.state_Selector,n)},l=function(e,n){t.state_TargetElementQuery=f.ScheduleCallback(t.state_TargetElementQuery,a)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"selector",r),null!=a&&Te.HiddenObserve(a,"selector",r),t.state_Selector=f.ScheduleCallback(t.state_Selector,n)})),Te.HiddenObserve(e,"Selector",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_TargetElementQuery=f.ScheduleCallback(t.state_TargetElementQuery,a)})),Te.HiddenObserve(e,"TargetElementQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",o),null!=n&&Te.HiddenObserve(n,"Result",o),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Vr.__name__=!0;var Or=function(e,t){this.elementFactory=e,this.settings=t,this.ParentObserver=new Fr(this)};Or.__name__=!0,Or.prototype={_updateChild:function(){return this.elementFactory.Create(this.settings.child)},_updateValue:function(){return null==this.Child||null==this.Child.Value?null:this.Child.Value.parentElement}};var Fr=function(e){var t=this;this.state_Child=!1,this.state_Value=!1;var n=function(){e.Child=e._updateChild(),t.state_Child=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Child=f.ScheduleCallback(t.state_Child,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){null!=e&&Te.HiddenForget(e,"parentElement",r),null!=n&&Te.HiddenObserve(n,"parentElement",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"child",i),null!=a&&Te.HiddenObserve(a,"child",i),t.state_Child=f.ScheduleCallback(t.state_Child,n)})),Te.HiddenObserve(e,"Child",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Fr.__name__=!0;var wr=function(){};wr.__name__=!0,wr.validatorFunction=function(e){return null!=e&&"boolean"==typeof e},wr.prototype={Create:function(e){if(null==e)return new vs;var t,n=e.settings;switch(e.id.toLowerCase()){case"activestateis":t=new Ji(this.State,n);break;case"and":t=new er(this,n);break;case"connectionspeedis":t=new ir(this.NetworkSpeedProvider,n);break;case"constant":t=new zi(n);break;case"displaymodeis":t=new lr(this.IntegrationDisplayMode,n);break;case"elementexists":t=new sr(this.ElementFactory,n);break;case"firstmatch":t=new Xi(this,n);break;case"floatcomparison":t=new nr(this.FloatFactory,this.FloatFactory,this.FloatComparator,n);break;case"fromfield":t=new Zi(this.StringFactory,this.ObjectFactory,n,this.IntervalUpdater,wr.validatorFunction);break;case"fromjavascript":t=new ji(this.StringFactory,n,this.IntervalUpdater,wr.validatorFunction);break;case"fromstring":t=new dr(this.StringFactory,n);break;case"iscatalogopened":t=new hr(this.isCatalogOpenValue);break;case"istestvariantactive":t=new gr(this.ActiveTestVariantName,n);break;case"mediaquerymatch":t=new vr(n);break;case"not":t=new Sr(this,n);break;case"or":t=new mr(this,n);break;case"stringcomparison":t=new nr(this.StringFactory,this.StringFactory,this.StringComparator,n)}if(null==t)throw new ws("Unknown definition id: "+e.id);return t}};var xr=function(e){this.Value=e};xr.__name__=!0;var Dr=function(e,t,n,a,i,r,l,o,s,u,d,c,h,_,g,b,v,f,S,p,m,C,y,k,H){this.state=e,this.navigationFocusMode=t,this.contentQueue=n,this.comparisonContentQueue=a,this.loadStateProvider=i,this.playerDownloader=r,this.boolFactory=l,this.stringFactory=o,this.objectFactory=C,this.shareManager=s,this.navigationManager=u,this.passThroughProvider=c,this.sceneManager=f,this.activeBookmarkHandler=h,this.transitionFactory=new _s(c,this.activeBookmarkHandler,this.passThroughProvider,this.navigationFocusMode),this.gridDebuggingToggle=_,this.displayMode=g,this.displayModeOverride=b,this.playerProvider=v,this.navigationFactory=new ri(new li(u,f,this.transitionFactory,h,d,n,a,S),m),this.route=S,this.fullscreenManager=p,this.colorPickerValue=y,this.isCatalogOpenValue=k,this.catalogManager=H};Dr.__name__=!0,Dr.prototype={Create:function(e){if(null==e)return new vs;var t=e.id.toLowerCase(),n=e.settings,a=null;switch(t){case"catalog":(a=this.CreateNode(t,n)).Value.Attributes.CatalogManager=this.catalogManager,a.Value.Attributes.IsCatalogOpen=this.isCatalogOpenValue;break;case"catalogcolorpicker":(a=this.CreateNode(t,n)).Value.Attributes.CatalogManager=this.catalogManager,a.Value.Attributes.StringFactory=this.stringFactory;break;case"closecatalogbutton":case"opencatalogbutton":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.CatalogManager=this.catalogManager,a.Value.Attributes.IsCatalogOpen=this.isCatalogOpenValue;break;case"colorpicker":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.SelectedColor=this.colorPickerValue,a.Value.Attributes.ObjectFactory=this.objectFactory;break;case"comparisonbutton":case"gotoroutebutton":case"navigationbuttons":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.Route=this.route;break;case"conditional":a=new Wi(this.boolFactory,this,n);break;case"dimensions":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.CatalogManager=this.catalogManager;break;case"displaymodebutton":(a=this.CreateNode("displaymodebutton",n)).Value.Attributes.DisplayMode=this.displayModeOverride,a.Value.Attributes.StringFactory=this.stringFactory;break;case"flipper":case"gallery":(a=this.CreateNode(t,n)).Value.Attributes.ActiveBookmarkHandler=this.activeBookmarkHandler,a.Value.Attributes.StringFactory=this.stringFactory;break;case"googleform":case"image":case"textcomponent":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory;break;case"grid":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this,a.Value.Attributes.DebuggingEnabled=this.gridDebuggingToggle,a.Value.Attributes.BoolFactory=this.boolFactory;break;case"hand":(a=this.CreateNode(t,n)).Value.Attributes.State=this.state,a.Value.Attributes.NavigationFocusMode=this.navigationFocusMode;break;case"hide3dbutton":(a=this.CreateNode("showhide3dbutton",n)).Value.Attributes.Behavior="hide3d",a.Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.WantToShowContent=this.state.WantToShowContent;break;case"inlinebox":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this;break;case"integrationplayer":(a=this.CreateNode(t,n)).Value.Attributes.PlayerDownloader=this.playerDownloader,a.Value.Attributes.NavigationFocusMode=this.navigationFocusMode,a.Value.Attributes.PassThroughProvider=this.passThroughProvider,a.Value.Attributes.NavigationManager=this.navigationManager,a.Value.Attributes.SceneManager=this.sceneManager,a.Value.Attributes.NavigationFactory=this.navigationFactory,a.Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.PlayerProvider=this.playerProvider;break;case"layout":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this,a.Value.Attributes.State=this.state,a.Value.Attributes.BoolFactory=this.boolFactory,a.Value.Attributes.DisplayMode=this.displayMode,a.Value.Attributes.Route=this.route;break;case"linkbutton":(a=this.CreateNode(t,n)).Value.Attributes.BoolFactory=this.boolFactory,a.Value.Attributes.StringFactory=this.stringFactory;break;case"loadingbar":(a=this.CreateNode(t,n)).Value.Attributes.LoadStateProvider=this.loadStateProvider;break;case"partymodehint":(a=this.CreateNode(t,n)).Value.Attributes.NavigationFocusMode=this.navigationFocusMode,a.Value.Attributes.StringFactory=this.stringFactory;break;case"resetnavigationbutton":(a=this.CreateNode(t,n)).Value.Attributes.State=this.state,a.Value.Attributes.StringFactory=this.stringFactory;break;case"route":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this,a.Value.Attributes.Route=this.route;break;case"sharebutton":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.ShareManager=this.shareManager;break;case"show3dbutton":(a=this.CreateNode("showhide3dbutton",n)).Value.Attributes.State=this.state,a.Value.Attributes.Behavior="show3d",a.Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.WantToShowContent=this.state.WantToShowContent;break;case"stylepane":a=this.CreateNode(t,n)}if(null==a)throw new ws("Unknown definition id: "+e.id);return a},CreateNode:function(e,t){var n=Fe.CreateNode(e);return n.Attributes.Settings=t,new xr(n)}};var Pr=function(){};Pr.__name__=!0,Pr.prototype={Create:function(e){if(null==e)return new vs;var t,n=e.settings;switch(e.id.toLowerCase()){case"conditional":t=new Wi(this.BoolFactory,this,n);break;case"constant":t=new Hr(this.StringFactory,{selector:n.value});break;case"cssselector":t=new Hr(this.StringFactory,n);break;case"firstmatch":t=new Xi(this,n);break;case"parent":t=new Or(this,n)}if(null==t)throw new ws("Unknown definition id: "+e.id);return t}};var Ar=function(){};Ar.__name__=!0,Ar.validatorFunction=function(e){if(null==e||("number"!=typeof e||e%1!=0)){return null!=e&&"number"==typeof e}return!0},Ar.prototype={Create:function(e){if(null==e)return new vs;var t,n=e.settings;switch(e.id.toLowerCase()){case"constant":t=new zi(n);break;case"firstmatch":t=new Xi(this,n);break;case"fromfield":t=new Zi(this.StringFactory,this.ObjectFactory,n,this.IntervalUpdater,Ar.validatorFunction);break;case"fromjavascript":t=new ji(this.StringFactory,n,this.IntervalUpdater,Ar.validatorFunction);break;case"fromstring":t=new Mr(this.StringFactory,n);break;case"windowsize":t=new Nr(n)}if(null==t)throw new ws("Unknown definition id: "+e.id);return t}};var Ir=function(){};Ir.__name__=!0,Ir.validatorFunction=function(e){return null!=e&&"object"==typeof e},Ir.prototype={Create:function(e){if(null==e)return new vs;var t,n=e.settings;switch(e.id.toLowerCase()){case"angularscope":t=new Br(this.ElementFactory,n,this.IntervalUpdater);break;case"constant":t=new zi(n);break;case"findinarraybybool":t=new Wr(this.StringFactory,this,this.BoolFactory,n,this.IntervalUpdater);break;case"findinarraybyelement":t=new Wr(this.StringFactory,this,this.ElementFactory,n,this.IntervalUpdater);break;case"findinarraybynumber":t=new Wr(this.StringFactory,this,this.FloatFactory,n,this.IntervalUpdater);break;case"findinarraybyobject":t=new Wr(this.StringFactory,this,this,n,this.IntervalUpdater);break;case"findinarraybystring":t=new Wr(this.StringFactory,this,this.StringFactory,n,this.IntervalUpdater);break;case"findinarraywithfield":t=new zr(this.StringFactory,this,n,this.IntervalUpdater);break;case"fromfield":t=new Zi(this.StringFactory,this,n,this.IntervalUpdater,Ir.validatorFunction);break;case"fromjavascript":t=new ji(this.StringFactory,n,this.IntervalUpdater,Ir.validatorFunction);break;case"parsejson":t=new Xr(this.StringFactory,n);break;case"vuescope":t=new Zr(this.ElementFactory,n,this.IntervalUpdater)}if(null==t)throw new ws("Unknown definition id: "+e.id);return t}};var Tr=function(){};Tr.__name__=!0,Tr.validatorFunction=function(e){return null!=e&&"string"==typeof e},Tr.prototype={Create:function(e){if(null==e)return new vs;var t,n=e.settings;switch(e.id.toLowerCase()){case"attributefromelement":t=new jr(n,this,this.ElementFactory);break;case"checkedinputattribute":t=new Kr(n,this.IntervalUpdater);break;case"conditional":t=new Wi(this.BoolFactory,this,n);break;case"constant":t=new zi(n);break;case"elementtextcontent":t=new $r(this.ElementFactory,n);break;case"firstmatch":t=new Xi(this,n);break;case"frombool":t=new rl(this.BoolFactory,n);break;case"fromcatalog":t=new tl(this.CatalogManager,n);break;case"fromcolorpicker":t=new al(n,this.ColorPickerValue);break;case"fromfield":t=new Zi(this,this.ObjectFactory,n,this.IntervalUpdater,Tr.validatorFunction);break;case"fromfloat":t=new rl(this.FloatFactory,n);break;case"fromjavascript":t=new ji(this,n,this.IntervalUpdater,Tr.validatorFunction);break;case"jqueryattribute":t=new ol(this.ElementFactory,this,n,this.IntervalUpdater);break;case"jsonld":t=new ul(n);break;case"lastpartofurl":t=new cl(this,n);break;case"localize":t=new gl(this,n);break;case"multipart":t=new vl(this,n);break;case"queryattribute":t=new Sl(n,this);break;case"querystyleproperty":t=new ml(n);break;case"regex":t=new yl(this,n);break;case"removeduplicates":t=new Hl(this,n);break;case"replace":t=new Ol(this,n);break;case"sanitize":t=new wl(this,n,this.Sanitizer);break;case"template":t=new Dl(this,n);break;case"urlparameter":t=new Al(this,n)}if(null==t)throw new ws("Unknown definition id: "+e.id);return t}};var Mr=function(e,t){this.stringFactory=e,this.settings=t,this.FromStringObserver=new Rr(this)};Mr.__name__=!0,Mr.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;var e=parseFloat(this.StringValue.Value);return isNaN(e)?null:e}};var Rr=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"value",i),null!=a&&Te.HiddenObserve(a,"value",i),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Rr.__name__=!0;var Nr=function(e){this.settings=e,window.addEventListener("resize",Is(this,this.OnResize)),this.OnResize(),this.WindowSizeObserver=new Lr(this)};Nr.__name__=!0,Nr.prototype={OnResize:function(){this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.outerWidth=window.outerWidth,this.outerHeight=window.outerHeight},_updateValue:function(){switch(this.settings.dimension){case"bodyheight":return window.document.body.clientHeight;case"bodywidth":return window.document.body.clientWidth;case"htmlheight":return window.document.documentElement.clientHeight;case"htmlwidth":return window.document.documentElement.clientWidth;case"innerheight":return this.innerHeight;case"innerwidth":return this.innerWidth;case"outerheight":return this.outerHeight;case"outerwidth":return this.outerWidth}}};var Lr=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&Te.HiddenForget(e,"dimension",a),null!=i&&Te.HiddenObserve(i,"dimension",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"innerHeight",(function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"innerWidth",(function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"outerHeight",(function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"outerWidth",(function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};Lr.__name__=!0;var Br=function(e,t,n){this.elementFactory=e,this.settings=t,this.updateTrigger=n,this.tryToSetAngular(),this.AngularScopeObserver=new Er(this)};Br.__name__=!0,Br.prototype={tryToSetAngular:function(){null==window.angular?window.setTimeout(Is(this,this.tryToSetAngular),500):this.angular=window.angular},_updateScopeElement:function(){return this.elementFactory.Create(this.settings.scopeElement)},_updateAngularElement:function(){return null==this.angular||null==this.ScopeElement||null==this.ScopeElement.Value?null:this.angular.element(this.ScopeElement.Value)},_updateValue:function(){return null==this.AngularElement?null:this.AngularElement.scope()}};var Er=function(e){var t=this;this.state_ScopeElement=!1,this.state_AngularElement=!1,this.state_Value=!1;var n=function(){e.ScopeElement=e._updateScopeElement(),t.state_ScopeElement=!0},a=function(){e.AngularElement=e._updateAngularElement(),t.state_AngularElement=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_ScopeElement=f.ScheduleCallback(t.state_ScopeElement,n)},l=function(e,n){t.state_AngularElement=f.ScheduleCallback(t.state_AngularElement,a)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"scopeElement",r),null!=a&&Te.HiddenObserve(a,"scopeElement",r),t.state_ScopeElement=f.ScheduleCallback(t.state_ScopeElement,n)})),Te.HiddenObserve(e,"angular",(function(e,n){t.state_AngularElement=f.ScheduleCallback(t.state_AngularElement,a)})),Te.HiddenObserve(e,"ScopeElement",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_AngularElement=f.ScheduleCallback(t.state_AngularElement,a)})),Te.HiddenObserve(e,"AngularElement",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Er.__name__=!0;var Wr=function(e,t,n,a,i){this.objectFactory=t,this.stringFactory=e,this.valueFactory=n,this.settings=a,this.updateTrigger=i,this.FindInArrayByObserver=new Ur(this)};Wr.__name__=!0,Wr.prototype={_updateArray:function(){return this.objectFactory.Create(this.settings.array)},_updateAttributePath:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateFieldValue:function(){return this.valueFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.Array||null==this.Array.Value)return null;if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.AttributePath||null==this.AttributePath.Value)return null;if(null==this.FieldValue)return null;if(!Array.isArray(this.Array.Value))return null;for(var e=this.Array.Value,t=0;t<e.length;){var n=e[t];++t;var a=Ki.EvaluatePath(n,this.AttributePath.Value);if(a==this.FieldValue.Value&&typeof a==typeof this.FieldValue.Value)return n}return null}};var Ur=function(e){var t=this;this.state_Array=!1,this.state_AttributePath=!1,this.state_FieldValue=!1,this.state_Value=!1;var n=function(){e.Array=e._updateArray(),t.state_Array=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.FieldValue=e._updateFieldValue(),t.state_FieldValue=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},l=function(e,a){t.state_Array=f.ScheduleCallback(t.state_Array,n)},o=function(e,n){t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a)},s=function(e,n){t.state_FieldValue=f.ScheduleCallback(t.state_FieldValue,i)},u=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)},d=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)},c=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)},h=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)};Te.HiddenObserve(e,"settings",(function(e,r){null!=e&&(Te.HiddenForget(e,"array",l),Te.HiddenForget(e,"attributePath",o),Te.HiddenForget(e,"value",s)),null!=r&&(Te.HiddenObserve(r,"array",l),Te.HiddenObserve(r,"attributePath",o),Te.HiddenObserve(r,"value",s)),t.state_Array=f.ScheduleCallback(t.state_Array,n),t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a),t.state_FieldValue=f.ScheduleCallback(t.state_FieldValue,i)})),Te.HiddenObserve(e,"Array",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",d),null!=n&&Te.HiddenObserve(n,"Value",d),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),Te.HiddenObserve(e,"AttributePath",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",c),null!=n&&Te.HiddenObserve(n,"Value",c),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),Te.HiddenObserve(e,"FieldValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",h),null!=n&&Te.HiddenObserve(n,"Value",h),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};Ur.__name__=!0;var zr=function(e,t,n,a){this.objectFactory=t,this.stringFactory=e,this.settings=n,this.updateTrigger=a,this.FindInArrayWithFieldObserver=new Gr(this)};zr.__name__=!0,zr.prototype={_updateArray:function(){return this.objectFactory.Create(this.settings.array)},_updateAttributePath:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateValue:function(){if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.Array||null==this.Array.Value)return null;if(null==this.AttributePath||null==this.AttributePath.Value)return null;if(!Array.isArray(this.Array.Value))return null;for(var e=this.Array.Value,t=0;t<e.length;){var n=e[t];if(++t,null!=Ki.EvaluatePath(n,this.AttributePath.Value))return n}return null}};var Gr=function(e){var t=this;this.state_Array=!1,this.state_AttributePath=!1,this.state_Value=!1;var n=function(){e.Array=e._updateArray(),t.state_Array=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Array=f.ScheduleCallback(t.state_Array,n)},l=function(e,n){t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},s=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},u=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Te.HiddenForget(e,"array",r),Te.HiddenForget(e,"attributePath",l)),null!=i&&(Te.HiddenObserve(i,"array",r),Te.HiddenObserve(i,"attributePath",l)),t.state_Array=f.ScheduleCallback(t.state_Array,n),t.state_AttributePath=f.ScheduleCallback(t.state_AttributePath,a)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"Array",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"AttributePath",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Gr.__name__=!0;var Xr=function(e,t){this.stringFactory=e,this.settings=t,this.ParseJsonObserver=new Yr(this)};Xr.__name__=!0,Xr.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;var e=this.StringValue.Value;try{return JSON.parse(e)}catch(t){return ks.trace('Binkies 3D: value is not a valid JSON string: "'+e+'"',{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/object/ParseJson.hx",lineNumber:46,className:"binkies.integration.values.object.ParseJson",methodName:"_updateValue"}),null}}};var Yr=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"value",i),null!=a&&Te.HiddenObserve(a,"value",i),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Yr.__name__=!0;var Zr=function(e,t,n){this.elementFactory=e,this.settings=t,this.updateTrigger=n,this.VueScopeObserver=new Qr(this)};Zr.__name__=!0,Zr.prototype={_updateScopeElement:function(){return this.elementFactory.Create(this.settings.scopeElement)},_updateValue:function(){return null==this.ScopeElement||null==this.ScopeElement.Value?null:this.ScopeElement.Value.__vue__}};var Qr=function(e){var t=this;this.state_ScopeElement=!1,this.state_Value=!1;var n=function(){e.ScopeElement=e._updateScopeElement(),t.state_ScopeElement=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_ScopeElement=f.ScheduleCallback(t.state_ScopeElement,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"scopeElement",i),null!=a&&Te.HiddenObserve(a,"scopeElement",i),t.state_ScopeElement=f.ScheduleCallback(t.state_ScopeElement,n)})),Te.HiddenObserve(e,"ScopeElement",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Qr.__name__=!0;var jr=function(e,t,n){var a=this;this.settings=e,this.elementFactory=n,this.stringFactory=t;var i=new MutationObserver(Is(this,this.ObserverCallback)),r={attributes:!0};Te.HiddenObserve(this,"Element",(function(e,t){null!=e&&(i.disconnect(),a.Value=null),null!=t&&(i.observe(t,r),a.ObserverCallback(null,null))}),!0),this.AttributeFromElementObserver=new qr(this)};jr.__name__=!0,jr.prototype={ObserverCallback:function(e,t){this.Value=this.Element.getAttribute(this.AttributeString.Value)},_updateAttributeString:function(){return this.stringFactory.Create(this.settings.attribute)},_updateElementValue:function(){return this.elementFactory.Create(this.settings.element)},_updateElement:function(){return null==this.ElementValue||null==this.AttributeString?null:this.ElementValue.Value}};var qr=function(e){var t=this;this.state_AttributeString=!1,this.state_ElementValue=!1,this.state_Element=!1;var n=function(){e.AttributeString=e._updateAttributeString(),t.state_AttributeString=!0},a=function(){e.ElementValue=e._updateElementValue(),t.state_ElementValue=!0},i=function(){e.Element=e._updateElement(),t.state_Element=!0},r=function(e,a){t.state_AttributeString=f.ScheduleCallback(t.state_AttributeString,n)},l=function(e,n){t.state_ElementValue=f.ScheduleCallback(t.state_ElementValue,a)},o=function(e,n){t.state_Element=f.ScheduleCallback(t.state_Element,i)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Te.HiddenForget(e,"attribute",r),Te.HiddenForget(e,"element",l)),null!=i&&(Te.HiddenObserve(i,"attribute",r),Te.HiddenObserve(i,"element",l)),t.state_AttributeString=f.ScheduleCallback(t.state_AttributeString,n),t.state_ElementValue=f.ScheduleCallback(t.state_ElementValue,a)})),Te.HiddenObserve(e,"ElementValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_Element=f.ScheduleCallback(t.state_Element,i)})),Te.HiddenObserve(e,"AttributeString",(function(e,n){t.state_Element=f.ScheduleCallback(t.state_Element,i)})),n(),a(),i()};qr.__name__=!0;var Kr=function(e,t){this.settings=e,this.updateTrigger=t,this.CheckedInputAttributeObserver=new Jr(this)};Kr.__name__=!0,Kr.prototype={_updateDomQuery:function(){return null==this.settings||Hs.IsNullOrWhiteSpace(this.settings.query)?null:new vt(this.settings.query)},_updateValue:function(){if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.DomQuery||null==this.DomQuery.Result)return null;for(var e=null,t=0,n=this.DomQuery.Result;t<n.length&&null==(e=this.CheckResult(n[t++])););return e},CheckResult:function(e){return"INPUT"!=e.tagName?null:e.checked?e.getAttribute(this.settings.attribute):null}};var Jr=function(e){var t=this;this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"query",i),null!=a&&Te.HiddenObserve(a,"query",i),t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,n)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"DomQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",l),null!=n&&Te.HiddenObserve(n,"Result",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Jr.__name__=!0;var $r=function(e,t){this.triggerValue=0;var n=this;this.settings=t,this.elementFactory=e;var a={characterData:!0,subtree:!0,childList:!0};this.observer=new MutationObserver((function(e,t){return n.triggerValue++})),Te.HiddenObserve(this,"ElementValue",(function(e,t){null!=e&&n.observer.disconnect(),null!=t&&n.observer.observe(t,a)}),!0),this.ElementTextContentObserver=new el(this)};$r.__name__=!0,$r.prototype={_updateElement:function(){return null==this.settings||null==this.settings.element?null:this.elementFactory.Create(this.settings.element)},_updateElementValue:function(){return null==this.Element?null:this.Element.Value},_updateValue:function(){return null==this.ElementValue||null==this.triggerValue?null:this.GetTextContent()},GetTextContent:function(){return this.ElementValue.textContent}};var el=function(e){var t=this;this.state_Element=!1,this.state_ElementValue=!1,this.state_Value=!1;var n=function(){e.Element=e._updateElement(),t.state_Element=!0},a=function(){e.ElementValue=e._updateElementValue(),t.state_ElementValue=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Element=f.ScheduleCallback(t.state_Element,n)},l=function(e,n){t.state_ElementValue=f.ScheduleCallback(t.state_ElementValue,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"element",r),null!=a&&Te.HiddenObserve(a,"element",r),t.state_Element=f.ScheduleCallback(t.state_Element,n)})),Te.HiddenObserve(e,"Element",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_ElementValue=f.ScheduleCallback(t.state_ElementValue,a)})),Te.HiddenObserve(e,"ElementValue",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"triggerValue",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};el.__name__=!0;var tl=function(e,t){this.catalogManager=e,this.settings=t,this.FromCatalogObserver=new nl(this)};tl.__name__=!0,tl.prototype={_updateProduct:function(){var e;switch(this.settings.product){case"left":e=this.catalogManager.SelectedLeftProduct;break;case"right":e=this.catalogManager.SelectedRightProduct}return e},_updateColor:function(){var e;switch(this.settings.product){case"left":e=this.catalogManager.SelectedLeftColor;break;case"right":e=this.catalogManager.SelectedRightColor}return e},_updateValue:function(){if(null==this.Product)return null;if(null==this.Color)return null;var e;switch(this.settings.field){case"brandName":e=this.Product.Brand;break;case"colorName":e=this.Color.Name;break;case"contentId":e=this.Color.ContentId;break;case"productName":e=this.Product.Name;break;case"url":e=this.Color.Url}return e}};var nl=function(e){var t=this;this.state_Product=!1,this.state_Color=!1,this.state_Value=!1;var n=function(){e.Product=e._updateProduct(),t.state_Product=!0},a=function(){e.Color=e._updateColor(),t.state_Color=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,i){t.state_Product=f.ScheduleCallback(t.state_Product,n),t.state_Color=f.ScheduleCallback(t.state_Color,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},o=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},s=function(e,a){t.state_Product=f.ScheduleCallback(t.state_Product,n)},u=function(e,n){t.state_Color=f.ScheduleCallback(t.state_Color,a)},d=function(e,n){t.state_Color=f.ScheduleCallback(t.state_Color,a)};Te.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Te.HiddenForget(e,"product",r),Te.HiddenForget(e,"field",l)),null!=o&&(Te.HiddenObserve(o,"product",r),Te.HiddenObserve(o,"field",l)),t.state_Product=f.ScheduleCallback(t.state_Product,n),t.state_Color=f.ScheduleCallback(t.state_Color,a),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"catalogManager",(function(e,i){null!=e&&(Te.HiddenForget(e,"SelectedLeftProduct",o),Te.HiddenForget(e,"SelectedRightProduct",s),Te.HiddenForget(e,"SelectedLeftColor",u),Te.HiddenForget(e,"SelectedRightColor",d)),null!=i&&(Te.HiddenObserve(i,"SelectedLeftProduct",o),Te.HiddenObserve(i,"SelectedRightProduct",s),Te.HiddenObserve(i,"SelectedLeftColor",u),Te.HiddenObserve(i,"SelectedRightColor",d)),t.state_Product=f.ScheduleCallback(t.state_Product,n),t.state_Color=f.ScheduleCallback(t.state_Color,a)})),Te.HiddenObserve(e,"Product",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"Color",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};nl.__name__=!0;var al=function(e,t){this.value=t,this.FromColorPickerObserver=new il(this)};al.__name__=!0,al.prototype={_updateValue:function(){return null==this.value?null:this.value.Value}};var il=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"value",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};il.__name__=!0;var rl=function(e,t){this.valueFactory=e,this.settings=t,this.FromValueObserver=new ll(this)};rl.__name__=!0,rl.prototype={_updateInputValue:function(){return this.valueFactory.Create(this.settings.value)},_updateValue:function(){return null==this.InputValue||null==this.InputValue.Value?null:c.string(this.InputValue.Value)}};var ll=function(e){var t=this;this.state_InputValue=!1,this.state_Value=!1;var n=function(){e.InputValue=e._updateInputValue(),t.state_InputValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_InputValue=f.ScheduleCallback(t.state_InputValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"value",i),null!=a&&Te.HiddenObserve(a,"value",i),t.state_InputValue=f.ScheduleCallback(t.state_InputValue,n)})),Te.HiddenObserve(e,"InputValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};ll.__name__=!0;var ol=function(e,t,n,a){this.elementFactory=e,this.stringFactory=t,this.settings=n,this.updateTrigger=a,this.JQueryAttributeObserver=new sl(this)};ol.__name__=!0,ol.prototype={_updateDataElement:function(){return this.elementFactory.Create(this.settings.dataElement)},_updateJQueryElement:function(){return null==this.DataElement||null==this.DataElement.Value?null:window.jQuery(this.DataElement.Value)},_updateData:function(){return null==this.JQueryElement?null:this.JQueryElement.data()},_updateValue:function(){if(null==this.Data)return null;for(var e=this.settings.attributePath.split("."),t=this.Data,n=0,a=e.length;n<a&&null!=(t=t[e[n++]]););return t}};var sl=function(e){var t=this;this.state_DataElement=!1,this.state_JQueryElement=!1,this.state_Data=!1,this.state_Value=!1;var n=function(){e.DataElement=e._updateDataElement(),t.state_DataElement=!0},a=function(){e.JQueryElement=e._updateJQueryElement(),t.state_JQueryElement=!0},i=function(){e.Data=e._updateData(),t.state_Data=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},l=function(e,a){t.state_DataElement=f.ScheduleCallback(t.state_DataElement,n)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)},s=function(e,n){t.state_JQueryElement=f.ScheduleCallback(t.state_JQueryElement,a)},u=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"dataElement",l),Te.HiddenForget(e,"attributePath",o)),null!=a&&(Te.HiddenObserve(a,"dataElement",l),Te.HiddenObserve(a,"attributePath",o)),t.state_DataElement=f.ScheduleCallback(t.state_DataElement,n),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),Te.HiddenObserve(e,"DataElement",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_JQueryElement=f.ScheduleCallback(t.state_JQueryElement,a)})),Te.HiddenObserve(e,"JQueryElement",(function(e,n){t.state_Data=f.ScheduleCallback(t.state_Data,i)})),Te.HiddenObserve(e,"Data",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)})),Te.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};sl.__name__=!0;var ul=function(e){this.settings=e,this.JsonLdObserver=new dl(this)};ul.__name__=!0,ul.prototype={_updateDomQuery:function(){var e=this,t='script[type="application/ld+json"]';return new gt(t,"dummy",(function(n){var a=window.document.querySelector(t);if(null==a||null==a.textContent)e.jsonContent=null;else try{e.jsonContent=JSON.parse(a.textContent)}catch(t){ks.trace('Binkies 3D: value is not a valid JSON string: "'+a.textContent+'"',{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/JsonLd.hx",lineNumber:45,className:"binkies.integration.values.string.JsonLd",methodName:"_updateDomQuery"}),e.jsonContent=null}}))},_updateValue:function(){if(null==this.jsonContent)return null;for(var e=this.settings.attributePath.split("."),t=this.jsonContent,n=0,a=e.length;n<a&&null!=(t=t[e[n++]]););var i,r=t;if(null!=r){i=!(null!=r&&"string"==typeof r)}else i=!1;return i?(ks.trace('Binkies 3D: value found at "'+this.settings.attributePath+'" is not a String',{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/JsonLd.hx",lineNumber:60,className:"binkies.integration.values.string.JsonLd",methodName:"_updateValue"}),null):r}};var dl=function(e){var t=this;this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"jsonContent",(function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&Te.HiddenForget(e,"attributePath",a),null!=i&&Te.HiddenObserve(i,"attributePath",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0,n()};dl.__name__=!0;var cl=function(e,t){this.stringFactory=e,this.settings=t,this.LastPartOfURLObserver=new hl(this)};cl.__name__=!0,cl.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;var e=null;try{e=new URL(this.StringValue.Value,"http://dummy.com")}catch(e){return ks.trace(e instanceof ws?e.val:e,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/LastPartOfURL.hx",lineNumber:46,className:"binkies.integration.values.string.LastPartOfURL",methodName:"_updateValue"}),null}var t=e.pathname;if(null==t)return null;for(var n=t.split("/"),a=null,i=1,r=n.length+1;i<r&&!((a=n[n.length-i++]).length>0););var l=a;if(null==this.settings.removeExtension||this.settings.removeExtension){var o=l.split(".");o.length>1&&(o.pop(),l=o.join("."))}return l}};var hl=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"value",i),Te.HiddenForget(e,"removeExtension",r)),null!=l&&(Te.HiddenObserve(l,"value",i),Te.HiddenObserve(l,"removeExtension",r)),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};hl.__name__=!0;var _l=function(e){this.itemName=e,this.Value=_l.storage.getItem(this.itemName)};_l.__name__=!0,_l.prototype={SetValue:function(e){null==e?_l.storage.removeItem(this.itemName):_l.storage.setItem(this.itemName,e),this.Value=e}};var gl=function(e,t){this.documentLanguage=new bt("html",null,(function(e){return e.getAttribute("lang")})),this.stringFactory=e,this.settings=t,this.LocalizeObserver=new bl(this)};gl.__name__=!0,gl.prototype={_updateCurrentLanguage:function(){return this.documentLanguage.Result},_updateCurrentTranslation:function(){var e=this;if(null==this.settings||null==this.settings.translations)return this.settings.defaultValue;var t=o.find(this.settings.translations,(function(t){return t.language==e.CurrentLanguage}));return null==t?this.settings.defaultValue:t.value},_updateStringValue:function(){return null==this.CurrentTranslation?null:this.stringFactory.Create(this.CurrentTranslation)},_updateValue:function(){return null==this.StringValue?null:this.StringValue.Value}};var bl=function(e){var t=this;this.state_CurrentLanguage=!1,this.state_CurrentTranslation=!1,this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.CurrentLanguage=e._updateCurrentLanguage(),t.state_CurrentLanguage=!0},a=function(){e.CurrentTranslation=e._updateCurrentTranslation(),t.state_CurrentTranslation=!0},i=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},l=function(e,a){t.state_CurrentLanguage=f.ScheduleCallback(t.state_CurrentLanguage,n)},o=function(e,n){t.state_CurrentTranslation=f.ScheduleCallback(t.state_CurrentTranslation,a)},s=function(e,n){t.state_CurrentTranslation=f.ScheduleCallback(t.state_CurrentTranslation,a)},u=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)};Te.HiddenObserve(e,"documentLanguage",(function(e,a){null!=e&&Te.HiddenForget(e,"Result",l),null!=a&&Te.HiddenObserve(a,"Result",l),t.state_CurrentLanguage=f.ScheduleCallback(t.state_CurrentLanguage,n)})),Te.HiddenObserve(e,"settings",(function(e,n){null!=e&&(Te.HiddenForget(e,"translations",o),Te.HiddenForget(e,"defaultValue",s)),null!=n&&(Te.HiddenObserve(n,"translations",o),Te.HiddenObserve(n,"defaultValue",s)),t.state_CurrentTranslation=f.ScheduleCallback(t.state_CurrentTranslation,a)})),Te.HiddenObserve(e,"CurrentLanguage",(function(e,n){t.state_CurrentTranslation=f.ScheduleCallback(t.state_CurrentTranslation,a)})),Te.HiddenObserve(e,"CurrentTranslation",(function(e,n){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,i)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};bl.__name__=!0;var vl=function(e,t){this.stringFactory=e,this.settings=t,this.MultipartObserver=new fl(this)};vl.__name__=!0,vl.prototype={_updateValues:function(){if(null==this.settings||null==this.settings.values)return null;for(var e=this.settings.values,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.stringFactory.Create(e[i])}return t},_updateValue:function(){if(null==this.Values)return null;for(var e=0,t=this.Values;e<t.length;)if(null==t[e++].Value)return null;for(var n=this.Values,a=new Array(n.length),i=0,r=n.length;i<r;){var l=i++;a[l]=n[l].Value}return a.join(this.settings.separator)}};var fl=function(e){var t=this;this.state_Values=!1,this.state_Value=!1;var n=function(){e.Values=e._updateValues(),t.state_Values=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Values=f.ScheduleCallback(t.state_Values,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"values",i),Te.HiddenForget(e,"separator",r)),null!=l&&(Te.HiddenObserve(l,"values",i),Te.HiddenObserve(l,"separator",r)),t.state_Values=f.ScheduleCallback(t.state_Values,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"Values",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};fl.__name__=!0;var Sl=function(e,t){this.settings=e,this.stringFactory=t,this.QueryAttributeObserver=new pl(this)};Sl.__name__=!0,Sl.prototype={_updateQueryString:function(){return this.stringFactory.Create(this.settings.query)},_updateAttributeString:function(){return this.stringFactory.Create(this.settings.attribute)},_updateDomQuery:function(){var e=this;return null==this.QueryString||null==this.QueryString.Value||null==this.AttributeString||null==this.AttributeString.Value||Hs.IsNullOrWhiteSpace(this.QueryString.Value)?null:new bt(this.QueryString.Value,null,(function(t){return t.getAttribute(e.AttributeString.Value)}))},_updateValue:function(){return null==this.DomQuery?null:this.DomQuery.Result}};var pl=function(e){var t=this;this.state_QueryString=!1,this.state_AttributeString=!1,this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.QueryString=e._updateQueryString(),t.state_QueryString=!0},a=function(){e.AttributeString=e._updateAttributeString(),t.state_AttributeString=!0},i=function(){e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},l=function(e,a){t.state_QueryString=f.ScheduleCallback(t.state_QueryString,n)},o=function(e,n){t.state_AttributeString=f.ScheduleCallback(t.state_AttributeString,a)},s=function(e,n){t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,i)},u=function(e,n){t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,i)},d=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Te.HiddenForget(e,"query",l),Te.HiddenForget(e,"attribute",o)),null!=i&&(Te.HiddenObserve(i,"query",l),Te.HiddenObserve(i,"attribute",o)),t.state_QueryString=f.ScheduleCallback(t.state_QueryString,n),t.state_AttributeString=f.ScheduleCallback(t.state_AttributeString,a)})),Te.HiddenObserve(e,"QueryString",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,i)})),Te.HiddenObserve(e,"AttributeString",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",u),null!=n&&Te.HiddenObserve(n,"Value",u),t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,i)})),Te.HiddenObserve(e,"DomQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",d),null!=n&&Te.HiddenObserve(n,"Result",d),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};pl.__name__=!0;var ml=function(e){this.settings=e,this.QueryStylePropertyObserver=new Cl(this)};ml.__name__=!0,ml.prototype={_updateDomQuery:function(){var e=this;return null==this.settings||Hs.IsNullOrWhiteSpace(this.settings.query)?null:new bt(this.settings.query,null,(function(t){var n=t.style.getPropertyValue(e.settings.property);return Hs.IsNullOrWhiteSpace(n)&&(n=window.getComputedStyle(t).getPropertyValue(e.settings.property)),n}))},_updateValue:function(){return null==this.DomQuery?null:this.DomQuery.Result}};var Cl=function(e){var t=this;this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,n)},r=function(e,a){t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,n)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"query",i),Te.HiddenForget(e,"property",r)),null!=a&&(Te.HiddenObserve(a,"query",i),Te.HiddenObserve(a,"property",r)),t.state_DomQuery=f.ScheduleCallback(t.state_DomQuery,n)})),Te.HiddenObserve(e,"DomQuery",(function(e,n){null!=e&&Te.HiddenForget(e,"Result",l),null!=n&&Te.HiddenObserve(n,"Result",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Cl.__name__=!0;var yl=function(e,t){this.stringFactory=e,this.settings=t,this.RegexObserver=new kl(this)};yl.__name__=!0,yl.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.settings||null==this.settings.regex)return this.StringValue.Value;if(null==this.StringValue||null==this.StringValue.Value)return null;var e=new r(this.settings.regex,"");if(e.match(this.StringValue.Value))try{return e.matched(1)}catch(e){return ks.trace("Binkies 3D: regex must contain one at least searching group: "+this.settings.regex,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/Regex.hx",lineNumber:45,className:"binkies.integration.values.string.Regex",methodName:"_updateValue"}),null}return null}};var kl=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"value",i),Te.HiddenForget(e,"regex",r)),null!=l&&(Te.HiddenObserve(l,"value",i),Te.HiddenObserve(l,"regex",r)),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};kl.__name__=!0;var Hl=function(e,t){this.stringFactory=e,this.settings=t,this.RemoveDuplicatesObserver=new Vl(this)};Hl.__name__=!0,Hl.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){return this.RemoveDuplicates(this.StringValue.Value,this.settings.separator)},RemoveDuplicates:function(e,t){if(null==t&&(t=" "),null==e)return null;for(var n=e.split(t),a=[],i=[],r=0;r<n.length;){var l=n[r];++r;var s=l.toLowerCase();o.has(a,s)||(a.push(s),i.push(l))}return i.join(t)}};var Vl=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,l){null!=e&&(Te.HiddenForget(e,"value",i),Te.HiddenForget(e,"separator",r)),null!=l&&(Te.HiddenObserve(l,"value",i),Te.HiddenObserve(l,"separator",r)),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",l),null!=n&&Te.HiddenObserve(n,"Value",l),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Vl.__name__=!0;var Ol=function(e,t){this.stringFactory=e,this.settings=t,this.ReplaceObserver=new Fl(this)};Ol.__name__=!0,Ol.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){return null==this.StringValue||null==this.StringValue.Value?null:h.replace(this.StringValue.Value,this.settings.search,this.settings.replace)}};var Fl=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},l=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Te.HiddenForget(e,"value",i),Te.HiddenForget(e,"search",r),Te.HiddenForget(e,"replace",l)),null!=o&&(Te.HiddenObserve(o,"value",i),Te.HiddenObserve(o,"search",r),Te.HiddenObserve(o,"replace",l)),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};Fl.__name__=!0;var wl=function(e,t,n){this.stringFactory=e,this.settings=t,this.sanitizer=n,this.SanitizeObserver=new xl(this)};wl.__name__=!0,wl.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){return null==this.StringValue||null==this.StringValue.Value?null:this.sanitizer.Transform(this.StringValue.Value)}};var xl=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,a)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&Te.HiddenForget(e,"value",i),null!=a&&Te.HiddenObserve(a,"value",i),t.state_StringValue=f.ScheduleCallback(t.state_StringValue,n)})),Te.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",r),null!=n&&Te.HiddenObserve(n,"Value",r),t.state_Value=f.ScheduleCallback(t.state_Value,a)})),n(),a()};xl.__name__=!0;var Dl=function(e,t){this.stringFactory=e,this.settings=t,this.TemplateObserver=new Pl(this)};Dl.__name__=!0,Dl.prototype={_updateTemplateValue:function(){return this.stringFactory.Create(this.settings.template)},_updateTemplate:function(){return null==this.TemplateValue?null:this.TemplateValue.Value},_updateReplaceStringValues:function(){for(var e=this.settings.replaceStrings,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++,r=e[i];t[i]={key:r.key,value:this.stringFactory.Create(r.value)}}return t},_updateValue:function(){if(null==this.ReplaceStringValues)return null;if(null==this.Template)return null;for(var e=this.Template,t=0,n=this.ReplaceStringValues;t<n.length;){var a=n[t];++t;var i=a.value.Value;if(null==i)return null;e=h.replace(e,"{"+a.key+"}",i)}return e}};var Pl=function(e){var t=this;this.state_TemplateValue=!1,this.state_Template=!1,this.state_ReplaceStringValues=!1,this.state_Value=!1;var n=function(){e.TemplateValue=e._updateTemplateValue(),t.state_TemplateValue=!0},a=function(){e.Template=e._updateTemplate(),t.state_Template=!0},i=function(){e.ReplaceStringValues=e._updateReplaceStringValues(),t.state_ReplaceStringValues=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},l=function(e,a){t.state_TemplateValue=f.ScheduleCallback(t.state_TemplateValue,n)},o=function(e,n){t.state_ReplaceStringValues=f.ScheduleCallback(t.state_ReplaceStringValues,i)},s=function(e,n){t.state_Template=f.ScheduleCallback(t.state_Template,a)},u=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)},d=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)},c=function(e,n){null!=e&&Te.HiddenForget(e,"Value",d),null!=n&&Te.HiddenObserve(n,"Value",d),t.state_Value=f.ScheduleCallback(t.state_Value,r)};Te.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Te.HiddenForget(e,"template",l),Te.HiddenForget(e,"replaceStrings",o)),null!=a&&(Te.HiddenObserve(a,"template",l),Te.HiddenObserve(a,"replaceStrings",o)),t.state_TemplateValue=f.ScheduleCallback(t.state_TemplateValue,n),t.state_ReplaceStringValues=f.ScheduleCallback(t.state_ReplaceStringValues,i)})),Te.HiddenObserve(e,"TemplateValue",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_Template=f.ScheduleCallback(t.state_Template,a)})),Te.HiddenObserve(e,"ReplaceStringValues",(function(e,n){null!=e&&(Te.HiddenForget(e,"key",u),Te.HiddenForget(e,"value",c)),null!=n&&(Te.HiddenObserve(n,"key",u),Te.HiddenObserve(n,"value",c)),t.state_Value=f.ScheduleCallback(t.state_Value,r)})),Te.HiddenObserve(e,"Template",(function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};Pl.__name__=!0;var Al=function(e,t){this.stringFactory=e,this.settings=t,this.URLParameterObserver=new Il(this)};Al.__name__=!0,Al.prototype={_updateurl:function(){return this.stringFactory.Create(this.settings.url)},_updateparameter:function(){return this.stringFactory.Create(this.settings.parameter)},_updateValue:function(){if(null==this.url||null==this.url.Value)return null;if(null==this.parameter||null==this.parameter.Value)return null;var e=null;try{e=new URL(this.url.Value,"http://dummy.com")}catch(e){return ks.trace(e instanceof ws?e.val:e,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/URLParameter.hx",lineNumber:53,className:"binkies.integration.values.string.URLParameter",methodName:"_updateValue"}),null}return e.searchParams.get(this.parameter.Value)}};var Il=function(e){var t=this;this.state_url=!1,this.state_parameter=!1,this.state_Value=!1;var n=function(){e.url=e._updateurl(),t.state_url=!0},a=function(){e.parameter=e._updateparameter(),t.state_parameter=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_url=f.ScheduleCallback(t.state_url,n)},l=function(e,n){t.state_parameter=f.ScheduleCallback(t.state_parameter,a)},o=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)},s=function(e,n){t.state_Value=f.ScheduleCallback(t.state_Value,i)};Te.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Te.HiddenForget(e,"url",r),Te.HiddenForget(e,"parameter",l)),null!=i&&(Te.HiddenObserve(i,"url",r),Te.HiddenObserve(i,"parameter",l)),t.state_url=f.ScheduleCallback(t.state_url,n),t.state_parameter=f.ScheduleCallback(t.state_parameter,a)})),Te.HiddenObserve(e,"url",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",o),null!=n&&Te.HiddenObserve(n,"Value",o),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),Te.HiddenObserve(e,"parameter",(function(e,n){null!=e&&Te.HiddenForget(e,"Value",s),null!=n&&Te.HiddenObserve(n,"Value",s),t.state_Value=f.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Il.__name__=!0;var Tl=function(e,t,n,a,i,r){this.minX=e,this.minY=t,this.minZ=n,this.maxX=a,this.maxY=i,this.maxZ=r};Tl.__name__=!0;var Ml=function(e,t,n,a,i,r){this.Type=Ll.Box,this.Min={X:e,Y:n,Z:i},this.Max={X:t,Y:a,Z:r},this.Update()};Ml.__name__=!0,Ml.prototype={DetermineOptimalZoomDistance:function(e,t){return null==this.Min||null==this.Max||null==this.Center?null:Math.max(Math.max(Math.abs(this.Min.Y),Math.abs(this.Max.Y))/Math.tan(e/t*.017453292519943*.5),Math.max(Math.abs(this.Min.X),Math.abs(this.Max.X))/Math.tan(.017453292519943*e*.5))-this.Min.Z},MoveTo:function(e){var t=e.X-this.Center.X,n=e.Y-this.Center.Y,a=e.Z-this.Center.Z;this.Min={X:this.Min.X+t,Y:this.Min.Y+n,Z:this.Min.Z+a},this.Max={X:this.Max.X+t,Y:this.Max.Y+n,Z:this.Max.Z+a},this.Update()},Update:function(){var e=this.Max,t=this.Min;this.Center={X:e.X+.5*(t.X-e.X),Y:e.Y+.5*(t.Y-e.Y),Z:e.Z+.5*(t.Z-e.Z)},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z}};var Rl=function(e,t,n){this.Type=Ll.Cylinder,this.Center=e,this.Radius=t,this.HalfHeight=n,this.Update()};Rl.__name__=!0,Rl.prototype={DetermineOptimalZoomDistance:function(e,t){return null==this.Min||null==this.Max||null==this.Center?null:Math.max(Math.max(Math.abs(this.Min.Y),Math.abs(this.Max.Y))/Math.tan(e/t*.017453292519943*.5),Math.max(Math.abs(this.Min.X),Math.abs(this.Max.X))/Math.tan(.017453292519943*e*.5))-this.Min.Z},MoveTo:function(e){this.Center=e,this.Update()},Update:function(){this.Min={X:this.Center.X-this.Radius,Y:this.Center.Y-this.HalfHeight,Z:this.Center.Z-this.Radius},this.Max={X:this.Center.X+this.Radius,Y:this.Center.Y+this.HalfHeight,Z:this.Center.Z+this.Radius},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z}};var Nl=function(e,t){this.Type=Ll.Sphere,this.Center=e,this.Radius=t,this.Update()};Nl.__name__=!0,Nl.prototype={DetermineOptimalZoomDistance:function(e,t){return null==this.Min||null==this.Max||null==this.Center?null:Math.max(Math.max(Math.abs(this.Min.Y),Math.abs(this.Max.Y))/Math.tan(e/t*.017453292519943*.5),Math.max(Math.abs(this.Min.X),Math.abs(this.Max.X))/Math.tan(.017453292519943*e*.5))-this.Min.Z},MoveTo:function(e){this.Center=e,this.Update()},Update:function(){this.Min={X:this.Center.X-this.Radius,Y:this.Center.Y-this.Radius,Z:this.Center.Z-this.Radius},this.Max={X:this.Center.X+this.Radius,Y:this.Center.Y+this.Radius,Z:this.Center.Z+this.Radius},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z}};var Ll=a["binkies.intersection.BoundingVolumeType"]={__ename__:!0,__constructs__:["Cylinder","Sphere","Box"],Cylinder:{_hx_index:0,__enum__:"binkies.intersection.BoundingVolumeType",toString:n},Sphere:{_hx_index:1,__enum__:"binkies.intersection.BoundingVolumeType",toString:n},Box:{_hx_index:2,__enum__:"binkies.intersection.BoundingVolumeType",toString:n}},Bl=function(e,t,n){this.Type=Ll.Box,this.boundingBox=e,this.translation=t,this.orientation=n,this.Update()};Bl.__name__=!0,Bl.prototype={Update:function(){this.corners=this.GetCorenrs(),this.Min={X:1/0,Y:1/0,Z:1/0},this.Max={X:-1/0,Y:-1/0,Z:-1/0};for(var e=0,t=this.corners;e<t.length;){var n=t[e];++e,this.Min.X=Math.min(n.X,this.Min.X),this.Min.Y=Math.min(n.Y,this.Min.Y),this.Min.Z=Math.min(n.Z,this.Min.Z),this.Max.X=Math.max(n.X,this.Max.X),this.Max.Y=Math.max(n.Y,this.Max.Y),this.Max.Z=Math.max(n.Z,this.Max.Z)}var a=this.Min,i=this.Max;this.Center={X:a.X+.5*(i.X-a.X),Y:a.Y+.5*(i.Y-a.Y),Z:a.Z+.5*(i.Z-a.Z)},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z},GetCorenrs:function(){for(var e=[{X:this.boundingBox.Min.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Min.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Max.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Max.Z},{X:this.boundingBox.Min.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Min.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Max.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Max.Z}],t=0;t<e.length;)++t;return e},DetermineOptimalZoomDistance:function(e,t){var n=this;if(null==this.corners||null==this.Center)return null;var a=Math.tan(.017453292519943*e*.5),i=a,r=a;return t>1?i=t*a:r=a/t,o.fold(this.corners,(function(e,t){return Math.max(Math.max(Math.abs(e.X-n.Center.X)/i,Math.abs(e.Y-n.Center.Y)/r)-e.Z,t)}),-1/0)},MoveTo:function(e){this.boundingBox.MoveTo(e),this.Update()}};var El=function(){};El.__name__=!0,El.Perform=function(e,t,n){El.Hit=!1,El.Distance=1/0;var a=1/t.X,i=1/t.Y,r=1/t.Z,l=(n.minX-e.X)*a,o=(n.maxX-e.X)*a,s=(n.minY-e.Y)*i,u=(n.maxY-e.Y)*i,d=(n.minZ-e.Z)*r,c=(n.maxZ-e.Z)*r,h=Math.max(Math.max(Math.min(l,o),Math.min(s,u)),Math.min(d,c)),_=Math.min(Math.min(Math.max(l,o),Math.max(s,u)),Math.max(d,c));_<0||h>_||(El.Hit=!0,El.Distance=h)};var Wl=function(){};Wl.__name__=!0,Wl.Perform=function(e,t,n,a){Wl.Hit=!1,Wl.Distance=1/0;var i=n.X*t.X+n.Y*t.Y+n.Z*t.Z;if(!(Math.abs(i)<Wl.epsilon)){var r=(a-(n.X*e.X+n.Y*e.Y+n.Z*e.Z))/i;r<0||(Wl.Distance=r,Wl.Hit=!0)}};var Ul=function(){};Ul.__name__=!0,Ul.Perform=function(e,t,n){Ul.Hit=!1,Ul.Distance=1/0,Ul.U=-1,Ul.V=-1;for(var a=n.IndexBuffer.Data,i=n.Positions.Data,r=0,l=n.NumberOfPrimitives;r<l;){var o=r++,s=a[3*o],u=a[3*o+1],d=a[3*o+2];Ul.pos0.X=i[3*s],Ul.pos0.Y=i[3*s+1],Ul.pos0.Z=i[3*s+2],Ul.pos1.X=i[3*u],Ul.pos1.Y=i[3*u+1],Ul.pos1.Z=i[3*u+2],Ul.pos2.X=i[3*d],Ul.pos2.Y=i[3*d+1],Ul.pos2.Z=i[3*d+2];var c=Ul.pos1,h=Ul.pos0,_=c.X-h.X,g=c.Y-h.Y,b=c.Z-h.Z,v=Ul.pos2,f=Ul.pos0,S=v.X-f.X,p=v.Y-f.Y,m=v.Z-f.Z,C=t.Y*m-t.Z*p,y=t.Z*S-t.X*m,k=t.X*p-t.Y*S,H=_*C+g*y+b*k;if(!(Math.abs(H)<Ul.epsilon)){var V=1/H,O=Ul.pos0,F=e.X-O.X,w=e.Y-O.Y,x=e.Z-O.Z,D=(F*C+w*y+x*k)*V;if(!(D<0||D>1)){var P=w*b-x*g,A=x*_-F*b,I=F*g-w*_,T=(t.X*P+t.Y*A+t.Z*I)*V;if(!(T<0||D+T>1)){var M=(S*P+p*A+m*I)*V;M<Ul.Distance&&(Ul.Distance=M,Ul.U=D,Ul.V=T,Ul.Hit=!0)}}}}};var zl=function(){};zl.__name__=!0,zl.FromYawPitchRoll=function(e,t,n){var a=.5*n,i=Math.sin(a),r=Math.cos(a),l=.5*t,o=Math.sin(l),s=Math.cos(l),u=.5*e,d=Math.sin(u),c=Math.cos(u);return{X:c*o*r+d*s*i,Y:d*s*r-c*o*i,Z:c*s*i-d*o*r,W:c*s*r+d*o*i}};var Gl=function(e){this._c=0,this._a=e,this._b=new DataView(e)};Gl.__name__=!0;var Xl=function(e,t,n,a){this._b=n,this._c=a,this._d=t,this._a=e};Xl.__name__=!0;var Yl=function(){this.Settings=[],this.OptionGroups=[],this.Options=[],this.Nodes=[],this.Geometries=[],this.Decals=[],this.Models=[],this.ModelGroups=[],this.Materials=[],this.MaterialGroups=[],this.Textures=[]};Yl.__name__=!0;var Zl=function(){};Zl.__name__=!0;var Ql=function(){this.Positions=[],this.Normals=[],this.TextureCoordinates=[],this.AmbientOcclusions=[]};Ql.__name__=!0;var jl=function(e,t){this._c=0,this._b=e,this._a=t;var n=this._af();if("BINKIES-MODOM"!=n&&"BINKIES-MDM"!=n)throw new ws("Invalid MDM file encountered.");var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4,this._c=i;var r=Math.pow(10,1),l=this._c*r;l=Math.round(l),l/=r,this._c=l};jl.__name__=!0,jl.prototype={_e:function(e){this._b._c=e._b},_f:function(){var e=this._ae(),t=this._b,n=t._b.getUint16(t._c,!0);t._c+=2;var a=this._b,i=a._b.getUint16(a._c,!0);a._c+=2;var r=this._b,l=r._b.getUint8(r._c);r._c+=1;var o=this._b,s=o._b.getUint8(o._c);o._c+=1;var u=this._b,d=u._b.getFloat32(u._c,!0);return u._c+=4,new oo(e,n,i,l,s,d)},_g:function(){return new Ql},_h:function(e){e.UID=this._ae()},_i:function(){return new ql},_j:function(){var e=new Kl;e.Name=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);return t._c+=4,e.ParentIndex=n,e},_k:function(e){var t=this._b,n=t._b.getUint8(t._c);t._c+=1;var a=this._b,i=a._b.getUint8(a._c);a._c+=1;var r=this._b,l=r._b.getUint8(r._c);r._c+=1;var o=this._b,s=o._b.getUint8(o._c);o._c+=1;var u=new Me(n,i,l,s),d=this._ae();e.Colors[d]=u},_l:function(e){var t=this._b,n=t._b.getUint32(t._c,!0);t._c+=4;var a=this._ae();e.Maps[a]=n},_m:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._ae();e.Values[a]=n},_n:function(e){var t=this._b,n=t._b.getUint8(t._c);t._c+=1;var a=this._ae();e.Booleans[a]=0!=n},_o:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4;var r=this._ae();e.Vector2s[r]={X:n,Y:i}},_p:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4;var r=this._b,l=r._b.getFloat32(r._c,!0);r._c+=4;var o=this._ae();e.Vector3s[o]={X:n,Y:i,Z:l}},_q:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4;var r=this._b,l=r._b.getFloat32(r._c,!0);r._c+=4;var o=this._b,s=o._b.getFloat32(o._c,!0);o._c+=4;var u=this._ae();e.Vector4s[u]={X:n,Y:i,Z:l,W:s}},_r:function(e){e.Name=this._ae(),e.ID=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4,e.GroupIndex=n},_s:function(e){switch(e){case 0:throw new ws("Indices with compression method none (32-bit) are not supported.");case 1:throw new ws("Not implemented");case 2:return this._u()}},_u:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=this._b,a=new Uint16Array(n._a,n._c,t);return n._c+=2*t,a},_v:function(e){switch(e){case 0:return this._w();case 1:case 2:throw new ws("Not implemented")}},_w:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=3*t,a=this._b,i=new Float32Array(a._a,a._c,n);return a._c+=4*n,i},_y:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=this._b,a=new Float32Array(n._a,n._c,t);return n._c+=4*t,a},_z:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=2*t,a=this._b,i=new Float32Array(a._a,a._c,n);return a._c+=4*n,i},_aa:function(){var e=this._b,t=e._b.getUint8(e._c);e._c+=1;var n=this._b,a=n._b.getInt32(n._c,!0);n._c+=4;var i=this._b,r=i._b.getInt32(i._c,!0);i._c+=4;var l=new no(t,a,r,this._ab(),this._ae());if(this._c>=3){var o=this._b,s=o._b.getInt32(o._c,!0);o._c+=4,s>0&&(l.Values={});for(var u=0;u<s;){++u;var d=this._ae(),c=this._b,h=c._b.getFloat32(c._c,!0);c._c+=4,l.Values[d]=h}}return l},_ab:function(){return this._ac(),this._ac(),this._ac(),this._ac()},_ac:function(){var e=this._b,t=e._b.getFloat32(e._c,!0);e._c+=4;var n=this._b,a=n._b.getFloat32(n._c,!0);n._c+=4;var i=this._b,r=i._b.getFloat32(i._c,!0);return i._c+=4,{X:t,Y:a,Z:r}},_ae:function(){if(this._c>=2.8)return this._af();throw new ws("not implemented: ReadBase64EncodedString")},_af:function(){var e=this._b,t=e._b.getUint8(e._c);e._c+=1;for(var n=this._b,a="",i=0,r=t;i<r;){i++;var l=n._b.getUint8(n._c);n._c+=1;var o=l;a+=String.fromCodePoint(o)}return a},_ag:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;for(var n=[],a=this._b._c+8*t,i=0;i<t;){++i;var r=this._b,l=r._b.getUint16(r._c,!0);r._c+=2;var o=this._b,s=o._b.getUint16(o._c,!0);o._c+=2;var u=this._b,d=u._b.getUint32(u._c,!0);u._c+=4;var c=new Xl(l,s,a,d);switch(n.push(c),c._a){case 2:case 8:break;default:a+=c._c}}return n},_ah:function(){var e=new $l,t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4,e.MaterialIndex=n;var a=this._b,i=a._b.getInt32(a._c,!0);a._c+=4,e.GeometryIndex=i;var r=this._b,l=r._b.getInt32(r._c,!0);if(r._c+=4,e.AmbientOcclusionGroup=l,this._b._c+=1,this._c>=2.2){var o=this._b,s=o._b.getUint8(o._c);o._c+=1,e.DoubleSided=0!=s,this._b._c+=1}return e},_ai:function(){var e=new eo;e.Name=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4;for(var a=0;a<n;){++a;var i=this._b,r=i._b.getInt32(i._c,!0);i._c+=4,e.Models.push(r)}return e},_aj:function(){var e=new Zl,t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4,e.MaterialIndex=n;var a=this._b,i=a._b.getInt32(a._c,!0);a._c+=4,e.GeometryIndex=i;var r=this._b,l=r._b.getUint8(r._c);return r._c+=1,e.DoubleSided=0!=l,e},_ak:function(){var e=new ao;e.Name=this._ae(),e.UID=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);return t._c+=4,e.GroupIndex=n,this._am(e),e},_al:function(){var e=new io;return e.Name=this._ae(),e},_am:function(e){var t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4;for(var a=0;a<n;){++a;var i=new ro,r=this._b,l=r._b.getInt32(r._c,!0);r._c+=4,i.NodeIndex=l;var o=this._b,s=o._b.getUint8(o._c);if(o._c+=1,i.OverrideTransform=0!=s,this._ab(),i.OverrideTransform)throw new ws("Overriding transforms is not supported.");var u=this._b,d=u._b.getUint8(u._c);u._c+=1,i.OverrideMaterial=0!=d;var c=this._b,h=c._b.getInt32(c._c,!0);if(c._c+=4,i.MaterialIndex=h,this._c>=3.1){var _=this._b,g=_._b.getUint8(_._c);_._c+=1,i.NodeHidden=0!=g}e.NodeOverrides.push(i)}},_an:function(){var e=new lo;return e.Name=this._ae(),e.Value=this._ae(),e}};var ql=function(){this.Name="",this.Maps={},this.Colors={},this.Values={},this.Booleans={},this.Vector2s={},this.Vector3s={},this.Vector4s={}};ql.__name__=!0;var Kl=function(){};Kl.__name__=!0;var Jl=function(){};Jl.__name__=!0,Jl._a=function(e){for(var t=new Yl,n=new jl(new Gl(e),t),a=n._ag(),i=0,r=a.length;i<r;){var l=a[i++];switch(n._e(l),l._a){case-1:break;case 0:t.Nodes.push(n._aa());break;case 1:t.Textures.push(n._f());break;case 2:t.Materials.push(n._i());break;case 3:n._k(t.Materials[t.Materials.length-1]);break;case 4:n._l(t.Materials[t.Materials.length-1]);break;case 5:n._m(t.Materials[t.Materials.length-1]);break;case 6:t.MaterialGroups.push(n._j());break;case 7:n._r(t.Materials[t.Materials.length-1]);break;case 8:t.Geometries.push(n._g());break;case 9:t.Geometries[t.Geometries.length-1].Indices=n._s(l._d);break;case 10:t.Geometries[t.Geometries.length-1].Positions.push(n._v(l._d));break;case 11:t.Geometries[t.Geometries.length-1].Normals.push(n._v(l._d));break;case 12:t.Geometries[t.Geometries.length-1].TextureCoordinates.push(n._z());break;case 13:t.Models.push(n._ah());break;case 14:t.ModelGroups.push(n._ai());break;case 15:t.Geometries[t.Geometries.length-1].AmbientOcclusions.push(n._y());break;case 16:t.Options.push(n._ak());break;case 17:t.OptionGroups.push(n._al());break;case 18:break;case 19:t.Settings.push(n._an());break;case 20:t.Decals.push(n._aj());break;case 21:case 22:case 23:break;case 24:n._n(t.Materials[t.Materials.length-1]);break;case 25:n._h(t.Geometries[t.Geometries.length-1]);break;case 26:n._o(t.Materials[t.Materials.length-1]);break;case 27:n._p(t.Materials[t.Materials.length-1]);break;case 28:n._q(t.Materials[t.Materials.length-1])}}return t};var $l=function(){};$l.__name__=!0;var eo=function(){this.Models=[]};eo.__name__=!0;var to=function(){};to.__name__=!0,to.GetMaterialIndex=function(e,t){return null!=e&&e.OverrideMaterial?e.MaterialIndex:t.MaterialIndex},to.IsHidden=function(e){return null!=e&&e.NodeHidden};var no=function(e,t,n,a,i){this.contentIndex=t,this.parentIndex=n,this.position=a,this.Name=i,this.content=e};no.__name__=!0;var ao=function(){this.NodeOverrides=[]};ao.__name__=!0;var io=function(){};io.__name__=!0;var ro=function(){};ro.__name__=!0;var lo=function(){};lo.__name__=!0;var oo=function(e,t,n,a,i,r){this.Path=e,this.Width=t,this.Height=n,this.Quality=a,this.CompressionType=i,this.Bias=r};oo.__name__=!0;var so=function(e,t){this.updateTime=0,this.gestureProvider=e,this.NavigationController=t};so.__name__=!0,so.prototype={Update:function(e,t){var n;null!=this.NavigationController&&(e<=this.updateTime?n=!1:(this.updateTime=e,n=!0),n&&(this.gestureProvider.Update(e,t),this.NavigationController.Update(e,t),this.NavigationModel=this.NavigationController.NavigationModel))},SetNavigationController:function(e){this.NavigationController=e}};var uo=function(e){this.speed=.314159265358974,this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel};uo.__name__=!0,uo.prototype={Update:function(e,t){if(e!=this.lastTime){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.lastTime=e;for(var n=this.normalizeAngle(this.speed*t),a=0,i=this.NavigationModel.ProductTransformModels;a<i.length;){var r=i[a];++a;var l=r.ProductOrientation,o=Math.sin(.5*n),s=0*o,u=0*o,d=Math.cos(.5*n),c=l.X,h=l.Y,_=l.Z,g=l.W;r.ProductOrientation={X:c*d+g*s+h*u-_*o,Y:h*d+g*o+_*s-c*u,Z:_*d+g*u+c*o-h*s,W:g*d-c*s-h*o-_*u}}}},normalizeAngle:function(e){return e%(2*Math.PI)}};var co=function(e,t,n){this.NavigationModel=new Eo,this.blendSource=e,this.blendTarget=t,this.animationLength=n,this.progress=0};co.__name__=!0,co.BlendProduct=function(e,t,n){var a=null!=e?e.ProductPosition:co.offScreenPosition,i=null!=e?e.ProductOrientation:co.offScreenQuaternion,r=null!=t?t.ProductPosition:co.offScreenPosition,l=null!=t?t.ProductOrientation:co.offScreenQuaternion,o=i,s=l,u=Math.sqrt(o.X*o.X+o.Y*o.Y+o.Z*o.Z+o.W*o.W);u=0==u?1:1/u,o={X:o.X*u,Y:o.Y*u,Z:o.Z*u,W:o.W*u};var d=Math.sqrt(s.X*s.X+s.Y*s.Y+s.Z*s.Z+s.W*s.W);d=0==d?1:1/d,s={X:s.X*d,Y:s.Y*d,Z:s.Z*d,W:s.W*d};var c,h=o.X*s.X+o.Y*s.Y+o.Z*s.Z+o.W*s.W;if(h<0&&(l={X:-1*l.X,Y:-1*l.Y,Z:-1*l.Z,W:-1*l.W},h=-h),h>.9995)c={X:i.X+(l.X-i.X)*n,Y:i.Y+(l.Y-i.Y)*n,Z:i.Z+(l.Z-i.Z)*n,W:i.W+(l.W-i.W)*n};else{var _=Math.acos(h),g=_*n,b=Math.sin(g),v=Math.sin(_),f=Math.cos(g)-h*b/v,S=b/v;c={X:i.X*f+l.X*S,Y:i.Y*f+l.Y*S,Z:i.Z*f+l.Z*S,W:i.W*f+l.W*S}}return{ProductPosition:{X:a.X+(r.X-a.X)*n,Y:a.Y+(r.Y-a.Y)*n,Z:a.Z+(r.Z-a.Z)*n},ProductOrientation:c}},co.BlendCamera=function(e,t,n){if(null!=e){var a,i=e.CameraPosition,r=t.CameraPosition,l=e.CameraOrientation,o=t.CameraOrientation,s=o,u=Math.sqrt(l.X*l.X+l.Y*l.Y+l.Z*l.Z+l.W*l.W);u=0==u?1:1/u,a={X:l.X*u,Y:l.Y*u,Z:l.Z*u,W:l.W*u};var d=Math.sqrt(s.X*s.X+s.Y*s.Y+s.Z*s.Z+s.W*s.W);d=0==d?1:1/d,s={X:s.X*d,Y:s.Y*d,Z:s.Z*d,W:s.W*d};var c,h=a.X*s.X+a.Y*s.Y+a.Z*s.Z+a.W*s.W;if(h<0&&(o={X:-1*o.X,Y:-1*o.Y,Z:-1*o.Z,W:-1*o.W},h=-h),h>.9995)c={X:l.X+(o.X-l.X)*n,Y:l.Y+(o.Y-l.Y)*n,Z:l.Z+(o.Z-l.Z)*n,W:l.W+(o.W-l.W)*n};else{var _=Math.acos(h),g=_*n,b=Math.sin(g),v=Math.sin(_),f=Math.cos(g)-h*b/v,S=b/v;c={X:l.X*f+o.X*S,Y:l.Y*f+o.Y*S,Z:l.Z*f+o.Z*S,W:l.W*f+o.W*S}}return{CameraPosition:{X:i.X+(r.X-i.X)*n,Y:i.Y+(r.Y-i.Y)*n,Z:i.Z+(r.Z-i.Z)*n},CameraOrientation:c,CameraFieldOfView:e.CameraFieldOfView*(1-n)+t.CameraFieldOfView*n}}return t},co.prototype={Update:function(e,t){null!=this.blendTarget&&e!=this.lastTime&&(this.lastTime=e,this.progress<=1?(this.blendSource.Update(e,t),this.blendTarget.Update(e,t),this.progress+=0==this.animationLength?1:t/this.animationLength,this.animate(this.easeInOutCubic(this.progress))):(this.blendSource=null,this.blendTarget.Update(e,t),this.NavigationModel=this.blendTarget.NavigationModel))},animate:function(e){for(var t=this.blendSource.NavigationModel,n=this.blendTarget.NavigationModel,a=this.easeInOutCubic(this.progress),i=0|Math.max(t.ProductTransformModels.length,n.ProductTransformModels.length),r=0;r<i;){var l=r++;this.NavigationModel.ProductTransformModels[l]=co.BlendProduct(t.ProductTransformModels[l],n.ProductTransformModels[l],a)}var o=co.BlendCamera(t,n,a);this.NavigationModel.CameraPosition=o.CameraPosition,this.NavigationModel.CameraOrientation=o.CameraOrientation,this.NavigationModel.CameraFieldOfView=o.CameraFieldOfView},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}};var ho=function(e,t,n){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.screenSizeProvider=t,this.margin=n,this.BrickWallObserver=new _o(this)};ho.__name__=!0,ho.prototype={_updateaspectRatio:function(){return null==this.screenSizeProvider?null:this.screenSizeProvider.Width/this.screenSizeProvider.Height},_updatefov2Tan:function(){return null==this.NavigationModel?null:.5*this.NavigationModel.CameraFieldOfView*.017453292519943},_updatefov2TanH:function(){return this.aspectRatio>1?this.aspectRatio*this.fov2Tan:this.fov2Tan},_updatefov2TanV:function(){return this.aspectRatio<1?this.fov2Tan/this.aspectRatio:this.fov2Tan},Update:function(e,t){if(null!=this.screenSizeProvider){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;for(var n=0,a=this.NavigationModel.ProductTransformModels;n<a.length;){var i=a[n];++n,i.ProductPosition=this.applyBrickWall(i.ProductPosition,this.NavigationModel.CameraPosition)}}},applyBrickWall:function(e,t){var n=e.Z-t.Z,a=this.fov2TanH*n+2*this.margin,i=this.fov2TanV*n+2*this.margin,r=Math.min(Math.max(e.X,t.X-a),t.X+a),l=Math.min(Math.max(e.Y,t.Y-i),t.Y+i),o=e.Z;return e.X!=r||e.Y!=l||e.Z!=o?{X:r,Y:l,Z:o}:e}};var _o=function(e){var t=this;this.state_aspectRatio=!1,this.state_fov2Tan=!1,this.state_fov2TanH=!1,this.state_fov2TanV=!1;var n=function(){e.aspectRatio=e._updateaspectRatio(),t.state_aspectRatio=!0},a=function(){e.fov2Tan=e._updatefov2Tan(),t.state_fov2Tan=!0},i=function(){e.fov2TanH=e._updatefov2TanH(),t.state_fov2TanH=!0},r=function(){e.fov2TanV=e._updatefov2TanV(),t.state_fov2TanV=!0},l=function(e,a){t.state_aspectRatio=f.ScheduleCallback(t.state_aspectRatio,n)},o=function(e,a){t.state_aspectRatio=f.ScheduleCallback(t.state_aspectRatio,n)},s=function(e,n){t.state_fov2Tan=f.ScheduleCallback(t.state_fov2Tan,a)};Te.HiddenObserve(e,"screenSizeProvider",(function(e,a){null!=e&&(Te.HiddenForget(e,"Width",l),Te.HiddenForget(e,"Height",o)),null!=a&&(Te.HiddenObserve(a,"Width",l),Te.HiddenObserve(a,"Height",o)),t.state_aspectRatio=f.ScheduleCallback(t.state_aspectRatio,n)})),Te.HiddenObserve(e,"NavigationModel",(function(e,n){null!=e&&Te.HiddenForget(e,"CameraFieldOfView",s),null!=n&&Te.HiddenObserve(n,"CameraFieldOfView",s),t.state_fov2Tan=f.ScheduleCallback(t.state_fov2Tan,a)})),Te.HiddenObserve(e,"aspectRatio",(function(e,n){t.state_fov2TanH=f.ScheduleCallback(t.state_fov2TanH,i),t.state_fov2TanV=f.ScheduleCallback(t.state_fov2TanV,r)})),Te.HiddenObserve(e,"fov2Tan",(function(e,n){t.state_fov2TanH=f.ScheduleCallback(t.state_fov2TanH,i),t.state_fov2TanV=f.ScheduleCallback(t.state_fov2TanV,r)})),n(),a(),i(),r()};_o.__name__=!0;var go=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.screenSizeProvider=n,this.boundingVolumeProvider=a};go.__name__=!0,go.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 4:this.PerformRotate(-e.yaw,-e.pitch);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformRotate:function(e,t){if(isFinite(this.screenSizeProvider.AspectRatio)&&(0!=e||0!=t)){var n=Math.abs(this.NavigationModel.CameraPosition.Z-this.NavigationModel.ProductTransformModels[0].ProductPosition.Z),a=n*Math.tan(.017453292519943*this.NavigationModel.CameraFieldOfView*.5),i=n*Math.tan(this.NavigationModel.CameraFieldOfView/this.screenSizeProvider.AspectRatio*.017453292519943*.5),r=this.boundingVolumeProvider.BoundingVolumes[0],l=new Bl(new Ml(r.Min.X,r.Max.X,r.Min.Y,r.Max.Y,r.Min.Z,r.Max.Z),this.NavigationModel.ProductTransformModels[0].ProductPosition,this.NavigationModel.ProductTransformModels[0].ProductOrientation),o=e/(.5*Math.sqrt(l.Width*l.Width+l.Depth*l.Depth)/a*this.screenSizeProvider.Width)*Math.PI,s=t/(.5*Math.sqrt(l.Height*l.Height+l.Depth*l.Depth)/i*this.screenSizeProvider.Height)*Math.PI,u=Math.PI/2-.01,d=-u,c=this.NavigationModel.ProductTransformModels[0].ProductOrientation,h=Math.asin(2*(c.Y*c.Z+c.W*c.X)),_=h+s;_>u?s=u-h:_<d&&(s=d-h);for(var g=Math.sin(.5*o),b=Math.cos(.5*o),v=Math.sin(.5*s),f=Math.cos(.5*s),S=0,p=this.NavigationModel.ProductTransformModels;S<p.length;){var m=p[S];++S;var C=m.ProductOrientation,y=C.X,k=C.Y,H=C.Z,V=C.W,O=v*V+f*y+0*H-0*k,F=0*V+f*k+0*y-v*H,w=0*V+f*H+v*k-0*y,x=f*V-v*y-0*k-0*H;m.ProductOrientation={X:O*b+0*x+0*F-w*g,Y:F*b+x*g+0*w-0*O,Z:w*b+0*x+O*g-0*F,W:x*b-0*O-F*g-0*w}}}}};var bo=function(e,t){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t;for(var n=this.decoratee.NavigationModel.ProductTransformModels,a=new Array(n.length),i=0,r=n.length;i<r;){var l=i++,o=n[l];a[l]=new vo(o.ProductPosition,o.ProductOrientation)}this.productInertiaHandlers=a,this.cameraInertiaHandler=new vo(this.decoratee.NavigationModel.CameraPosition,this.decoratee.NavigationModel.CameraOrientation)};bo.__name__=!0,bo.prototype={Update:function(e,t){if(null!=this.NavigationModel&&e!=this.lastTime){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e;for(var n=Math.pow(.85,30*t),a=0,i=this.productInertiaHandlers.length;a<i;){var r=a++,l=this.NavigationModel.ProductTransformModels[r],o=this.productInertiaHandlers[r].Update(l.ProductPosition,l.ProductOrientation,this.inputProvider.Gesture,n);l.ProductPosition=o.Position,l.ProductOrientation=o.Orientation}var s=this.cameraInertiaHandler.Update(this.NavigationModel.CameraPosition,this.NavigationModel.CameraOrientation,this.inputProvider.Gesture,n);this.NavigationModel.CameraPosition=s.Position,this.NavigationModel.CameraOrientation=s.Orientation}}};var vo=function(e,t){this.velocity={X:0,Y:0,Z:0},this.angularVelocity={X:0,Y:0,Z:0,W:1},this.lastPosition=e,this.lastOrientation=t};vo.__name__=!0,vo.prototype={Update:function(e,t,n,a){var i={Position:e,Orientation:t};if(this.isPaning(n)||this.isZooming(n)){var r=this.lastPosition;this.velocity={X:e.X-r.X,Y:e.Y-r.Y,Z:e.Z-r.Z}}else{var l=this.velocity;if(Math.sqrt(l.X*l.X+l.Y*l.Y+l.Z*l.Z)>1e-4){var o=this.velocity;i.Position={X:e.X+o.X,Y:e.Y+o.Y,Z:e.Z+o.Z};var s=this.velocity;this.velocity={X:s.X*a,Y:s.Y*a,Z:s.Z*a}}}if(this.isRotating(n)){var u=this.lastOrientation,d=-u.X,c=-u.Y,h=-u.Z,_=u.W,g=t.X,b=t.Y,v=t.Z,f=t.W;this.angularVelocity={X:g*_+f*d+b*h-v*c,Y:b*_+f*c+v*d-g*h,Z:v*_+f*h+g*c-b*d,W:f*_-g*d-b*c-v*h},this.angularVelocity.W=0}else{var S=this.angularVelocity;if(Math.sqrt(S.X*S.X+S.Y*S.Y+S.Z*S.Z+S.W*S.W)>1e-4){var p=this.angularVelocity,m=.5*p.X,C=.5*p.Y,y=.5*p.Z,k=.5*p.W,H=t.X,V=t.Y,O=t.Z,F=t.W,w=t.X+(m*F+k*H+C*O-y*V),x=t.Y+(C*F+k*V+y*H-m*O),D=t.Z+(y*F+k*O+m*V-C*H),P=t.W+(k*F-m*H-C*V-y*O),A=Math.sqrt(w*w+x*x+D*D+P*P);A=0==A?1:1/A,i.Orientation={X:w*A,Y:x*A,Z:D*A,W:P*A};var I=this.angularVelocity;this.angularVelocity={X:I.X*a,Y:I.Y*a,Z:I.Z*a,W:I.W*a}}}return this.lastPosition=i.Position,this.lastOrientation=i.Orientation,i},isRotating:function(e){var t=this;switch(e._hx_index){case 4:return!0;case 5:return o.exists(e.gestures,(function(e){return t.isRotating(e)}));default:return!1}},isPaning:function(e){var t=this;switch(e._hx_index){case 3:return!0;case 5:return o.exists(e.gestures,(function(e){return t.isPaning(e)}));default:return!1}},isZooming:function(e){var t=this;switch(e._hx_index){case 1:return!0;case 5:return o.exists(e.gestures,(function(e){return t.isZooming(e)}));default:return!1}}};var fo=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t,this.screenSizeProvider=n,this.boundingVolumeType=a,this.KeepOnScreenObserver=new So(this)};fo.__name__=!0,fo.prototype={_updateBoundingVolumes:function(){if(null==this.boundingVolumeProvider||null==this.boundingVolumeProvider.BoundingVolumes)return null;for(var e=[],t=0,n=this.boundingVolumeProvider.BoundingVolumes.length;t<n;){var a,i=this.boundingVolumeProvider.BoundingVolumes[t++],r=this.boundingVolumeType;if(i.Type==r)a=i;else switch(r._hx_index){case 0:var l=i.Width,o=i.Depth;a=new Rl(i.Center,.5*Math.sqrt(l*l+o*o),.5*i.Height);break;case 1:var s=i.Width,u=i.Height,d=i.Depth;a=new Nl(i.Center,.5*Math.sqrt(s*s+u*u+d*d));break;case 2:a=new Ml(i.Min.X,i.Max.X,i.Min.Y,i.Max.Y,i.Min.Z,i.Max.Z)}e.push(a)}return e},Update:function(e,t){if(null!=this.BoundingVolumes&&isFinite(this.screenSizeProvider.AspectRatio)){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;for(var n=0|Math.min(this.boundingVolumeProvider.BoundingVolumes.length,this.NavigationModel.ProductTransformModels.length),a=0,i=0;i<n;){var r=i++,l=this.BoundingVolumes[r];null!=l&&(l.MoveTo(this.NavigationModel.ProductTransformModels[r].ProductPosition),a=Math.max(a,l.DetermineOptimalZoomDistance(this.NavigationModel.CameraFieldOfView,this.screenSizeProvider.AspectRatio)))}isFinite(a)&&a!=this.NavigationModel.CameraPosition.Z&&(this.NavigationModel.CameraPosition={X:this.NavigationModel.CameraPosition.X,Y:this.NavigationModel.CameraPosition.Y,Z:-a})}}};var So=function(e){var t=this;this.state_BoundingVolumes=!1;var n=function(){e.BoundingVolumes=e._updateBoundingVolumes(),t.state_BoundingVolumes=!0},a=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},i=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},r=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},l=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},o=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},s=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},u=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},d=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},c=function(e,a){null!=e&&(Te.HiddenForget(e,"X",s),Te.HiddenForget(e,"Y",u),Te.HiddenForget(e,"Z",d)),null!=a&&(Te.HiddenObserve(a,"X",s),Te.HiddenObserve(a,"Y",u),Te.HiddenObserve(a,"Z",d)),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},h=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},_=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},g=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},b=function(e,a){null!=e&&(Te.HiddenForget(e,"X",h),Te.HiddenForget(e,"Y",_),Te.HiddenForget(e,"Z",g)),null!=a&&(Te.HiddenObserve(a,"X",h),Te.HiddenObserve(a,"Y",_),Te.HiddenObserve(a,"Z",g)),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},v=function(e,s){null!=e&&(Te.HiddenForget(e,"Type",a),Te.HiddenForget(e,"Width",i),Te.HiddenForget(e,"Depth",r),Te.HiddenForget(e,"Center",l),Te.HiddenForget(e,"Height",o),Te.HiddenForget(e,"Min",c),Te.HiddenForget(e,"Max",b)),null!=s&&(Te.HiddenObserve(s,"Type",a),Te.HiddenObserve(s,"Width",i),Te.HiddenObserve(s,"Depth",r),Te.HiddenObserve(s,"Center",l),Te.HiddenObserve(s,"Height",o),Te.HiddenObserve(s,"Min",c),Te.HiddenObserve(s,"Max",b)),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)};Te.HiddenObserve(e,"boundingVolumeProvider",(function(e,a){null!=e&&Te.HiddenForget(e,"BoundingVolumes",v),null!=a&&Te.HiddenObserve(a,"BoundingVolumes",v),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)})),Te.HiddenObserve(e,"boundingVolumeType",(function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)})),n()};So.__name__=!0;var po=function(e,t){this.decoratee=e,this.transforms=t,this.updateModel()};po.__name__=!0,po.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.updateModel(),this.lastTime=e)},updateModel:function(){this.NavigationModel=this.decoratee.NavigationModel;for(var e=0,t=this.transforms.length;e<t;){var n=e++;null!=this.transforms[n]&&(this.NavigationModel.ProductTransformModels[n]=this.transforms[n])}}};var mo=a["binkies.navigation.controller.ControllerEnum"]={__ename__:!0,__constructs__:["SnapShot","AutoRotate","Zoom","Pan","Roll","SmallObjectRotate","HotspotRotate","SizeCompareRotate","SizeComparePositionate","Blend","RubberBand","BrickWall","KeepOnScreen","SizeCompareKeepOnScreen","Inertia","Bookmark","Stand","MoveTo","ZoomLimiter"],SnapShot:(t=function(e){return{_hx_index:0,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),AutoRotate:(t=function(e){return{_hx_index:1,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Zoom:(t=function(e){return{_hx_index:2,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Pan:(t=function(e){return{_hx_index:3,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Roll:(t=function(e){return{_hx_index:4,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SmallObjectRotate:(t=function(e){return{_hx_index:5,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),HotspotRotate:(t=function(e){return{_hx_index:6,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SizeCompareRotate:(t=function(e){return{_hx_index:7,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SizeComparePositionate:(t=function(e){return{_hx_index:8,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Blend:(t=function(e,t,a){return{_hx_index:9,source:e,target:t,length:a,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["source","target","length"],t),RubberBand:(t=function(e){return{_hx_index:10,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),BrickWall:(t=function(e){return{_hx_index:11,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),KeepOnScreen:(t=function(e){return{_hx_index:12,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SizeCompareKeepOnScreen:(t=function(e){return{_hx_index:13,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Inertia:(t=function(e){return{_hx_index:14,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Bookmark:(t=function(e,t,a){return{_hx_index:15,orientations:e,distance:t,fov:a,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["orientations","distance","fov"],t),Stand:(t=function(e,t,a){return{_hx_index:16,orientations:e,distance:t,fov:a,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["orientations","distance","fov"],t),MoveTo:(t=function(e,t){return{_hx_index:17,navigationController:e,positions:t,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController","positions"],t),ZoomLimiter:(t=function(e){return{_hx_index:18,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t)},Co=function(e,t,n,a){this.inputProvider=e,this.rayProvider=t,this.boundingVolumeProvider=n,this.screenSizeProvider=a};Co.__name__=!0,Co.prototype={Create:function(e){switch(e._hx_index){case 0:return new Do(e.navigationController.NavigationModel);case 1:return new uo(e.navigationController);case 2:return new Po(e.navigationController,this.inputProvider);case 3:return new yo(e.navigationController,this.inputProvider,this.rayProvider);case 4:return new ko(e.navigationController,this.inputProvider,this.rayProvider);case 5:return new xo(e.navigationController,this.inputProvider,this.screenSizeProvider,this.boundingVolumeProvider);case 6:return new go(e.navigationController,this.inputProvider,this.screenSizeProvider,this.boundingVolumeProvider);case 7:return new wo(e.navigationController,this.inputProvider,this.screenSizeProvider,this.boundingVolumeProvider);case 8:return new Fo(e.navigationController,this.boundingVolumeProvider);case 9:var t=e.length;return new co(e.source,e.target,null==t?1:t);case 10:return new Ho(e.navigationController,this.inputProvider,.1,1,{X:0,Y:0,Z:0});case 11:return new ho(e.navigationController,this.screenSizeProvider,0);case 12:return new fo(e.navigationController,this.boundingVolumeProvider,this.screenSizeProvider,Ll.Cylinder);case 13:return new Vo(e.navigationController,this.boundingVolumeProvider,this.screenSizeProvider,Ll.Cylinder);case 14:return new bo(e.navigationController,this.inputProvider);case 15:for(var n=e.fov,a=e.distance,i=e.orientations,r=new Array(i.length),l=0,o=i.length;l<o;){var s=l++;r[s]={ProductOrientation:i[s],ProductPosition:{X:0,Y:0,Z:0}}}return new Do({CameraPosition:{X:0,Y:0,Z:-a},CameraOrientation:{X:0,Y:0,Z:0,W:1},CameraFieldOfView:n,ProductTransformModels:r});case 16:for(var u=e.fov,d=e.distance,c=e.orientations,h=new Array(c.length),_=0,g=c.length;_<g;){var b=_++;h[b]={ProductOrientation:this.getStandingOrientation(c[b]),ProductPosition:{X:0,Y:0,Z:0}}}return new Do({CameraPosition:{X:0,Y:0,Z:-d},CameraOrientation:{X:0,Y:0,Z:0,W:1},CameraFieldOfView:u,ProductTransformModels:h});case 17:return new po(e.navigationController,e.positions);case 18:return new Ao(e.navigationController,this.boundingVolumeProvider,this.screenSizeProvider)}},getStandingOrientation:function(e){var t=e.Y,n=e.W,a=Math.sqrt(t*t+n*n);return{X:0*(a=0==a?1:1/a),Y:t*a,Z:0*a,W:n*a}}};var yo=function(e,t,n){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.rayProvider=n};yo.__name__=!0,yo.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 3:this.PerformPan(e.currentPosition,e.delta);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformPan:function(e,t){if(0!=t.X||0!=t.Y)for(var n=this.RayToPlane({X:e.X-t.X,Y:e.Y-t.Y}),a=this.RayToPlane(e),i=a.X-n.X,r=a.Y-n.Y,l=a.Z-n.Z,o=0,s=this.NavigationModel.ProductTransformModels;o<s.length;){var u=s[o];++o;var d=u.ProductPosition;u.ProductPosition={X:d.X+i,Y:d.Y+r,Z:d.Z+l}}},RayToPlane:function(e){var t=this.rayProvider.ScreenPointToRay(e),n=this.NavigationModel.CameraOrientation,a=-n.X,i=-n.Y,r=-n.Z,l=n.W,o=n.X,s=n.Y,u=n.Z,d=n.W,c=0*o+0*d+1*s-0*u,h=0*s+0*d+0*u-1*o,_=0*u+1*d+0*o-0*s,g=0*d-0*o-0*s-1*u;if(Wl.Perform(t.Origin,t.Direction,{X:c*l+g*a+h*r-_*i,Y:h*l+g*i+_*a-c*r,Z:_*l+g*r+c*i-h*a},0),Wl.Hit){var b=t.Origin,v=t.Direction,f=Wl.Distance;return{X:b.X+v.X*f,Y:b.Y+v.Y*f,Z:b.Z+v.Z*f}}return{X:0,Y:0,Z:0}}};var ko=function(e,t,n){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.rayProvider=n};ko.__name__=!0,ko.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 2:this.PerformRoll(e.position,-e.angle);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformRoll:function(e,t){if(0!=t)for(var n=Math.sin(.5*t),a=Math.cos(.5*t),i=0,r=this.NavigationModel.ProductTransformModels;i<r.length;){var l=r[i];++i;var o=l.ProductOrientation,s=o.X,u=o.Y,d=o.Z,c=o.W;l.ProductOrientation={X:0*c+a*s+0*d-n*u,Y:0*c+a*u+n*s-0*d,Z:n*c+a*d+0*u-0*s,W:a*c-0*s-0*u-n*d}}}};var Ho=function(e,t,n,a,i){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.bandLength=n,this.bandCenter=i,this.bandStrength=a};Ho.__name__=!0,Ho.prototype={Update:function(e,t){if(e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,!this.inputProvider.IsUserInteracting))for(var n=0,a=this.NavigationModel.ProductTransformModels;n<a.length;){var i=a[n];++n;var r=i.ProductPosition,l=this.bandCenter,o=r.X-l.X,s=r.Y-l.Y,u=r.Z-l.Z,d=(Math.sqrt(o*o+s*s+u*u)-this.bandLength)*this.bandStrength;if(d>.001){var c=i.ProductPosition;i.ProductPosition={X:c.X-o*d,Y:c.Y-s*d,Z:c.Z-u*d}}}}};var Vo=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t,this.screenSizeProvider=n,this.boundingVolumeType=a,this.SizeCompareKeepOnScreenObserver=new Oo(this)};Vo.__name__=!0,Vo.prototype={_updateBoundingVolumes:function(){if(null==this.boundingVolumeProvider||null==this.boundingVolumeProvider.BoundingVolumes)return null;for(var e=[],t=0,n=this.boundingVolumeProvider.BoundingVolumes.length;t<n;){var a,i=this.boundingVolumeProvider.BoundingVolumes[t++],r=this.boundingVolumeType;if(i.Type==r)a=i;else switch(r._hx_index){case 0:var l=i.Width,o=i.Depth;a=new Rl(i.Center,.5*Math.sqrt(l*l+o*o),.5*i.Height);break;case 1:var s=i.Width,u=i.Height,d=i.Depth;a=new Nl(i.Center,.5*Math.sqrt(s*s+u*u+d*d));break;case 2:a=new Ml(i.Min.X,i.Max.X,i.Min.Y,i.Max.Y,i.Min.Z,i.Max.Z)}e.push(a)}return e},Update:function(e,t){if(null!=this.BoundingVolumes&&isFinite(this.screenSizeProvider.AspectRatio)){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;var n=0|Math.min(this.boundingVolumeProvider.BoundingVolumes.length,this.NavigationModel.ProductTransformModels.length);if(2==this.BoundingVolumes.length){var a=this.BoundingVolumes[0],i=this.BoundingVolumes[1],r=i.Width/2+.005;a.MoveTo({X:-(a.Width/2+.005),Y:0,Z:0}),i.MoveTo({X:r,Y:0,Z:0})}for(var l=0,o=0;o<n;){var s=this.BoundingVolumes[o++];null!=s&&(l=Math.max(l,s.DetermineOptimalZoomDistance(this.NavigationModel.CameraFieldOfView,this.screenSizeProvider.AspectRatio)))}isFinite(l)&&l!=this.NavigationModel.CameraPosition.Z&&(this.NavigationModel.CameraPosition={X:this.NavigationModel.CameraPosition.X,Y:this.NavigationModel.CameraPosition.Y,Z:-l})}}};var Oo=function(e){var t=this;this.state_BoundingVolumes=!1;var n=function(){e.BoundingVolumes=e._updateBoundingVolumes(),t.state_BoundingVolumes=!0},a=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},i=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},r=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},l=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},o=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},s=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},u=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},d=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},c=function(e,a){null!=e&&(Te.HiddenForget(e,"X",s),Te.HiddenForget(e,"Y",u),Te.HiddenForget(e,"Z",d)),null!=a&&(Te.HiddenObserve(a,"X",s),Te.HiddenObserve(a,"Y",u),Te.HiddenObserve(a,"Z",d)),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},h=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},_=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},g=function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},b=function(e,a){null!=e&&(Te.HiddenForget(e,"X",h),Te.HiddenForget(e,"Y",_),Te.HiddenForget(e,"Z",g)),null!=a&&(Te.HiddenObserve(a,"X",h),Te.HiddenObserve(a,"Y",_),Te.HiddenObserve(a,"Z",g)),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)},v=function(e,s){null!=e&&(Te.HiddenForget(e,"Type",a),Te.HiddenForget(e,"Width",i),Te.HiddenForget(e,"Depth",r),Te.HiddenForget(e,"Center",l),Te.HiddenForget(e,"Height",o),Te.HiddenForget(e,"Min",c),Te.HiddenForget(e,"Max",b)),null!=s&&(Te.HiddenObserve(s,"Type",a),Te.HiddenObserve(s,"Width",i),Te.HiddenObserve(s,"Depth",r),Te.HiddenObserve(s,"Center",l),Te.HiddenObserve(s,"Height",o),Te.HiddenObserve(s,"Min",c),Te.HiddenObserve(s,"Max",b)),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)};Te.HiddenObserve(e,"boundingVolumeProvider",(function(e,a){null!=e&&Te.HiddenForget(e,"BoundingVolumes",v),null!=a&&Te.HiddenObserve(a,"BoundingVolumes",v),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)})),Te.HiddenObserve(e,"boundingVolumeType",(function(e,a){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,n)})),n()};Oo.__name__=!0;var Fo=function(e,t){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t};Fo.__name__=!0,Fo.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.SetProductPositions(),this.lastTime=e)},SetProductPositions:function(){if(null!=this.boundingVolumeProvider.BoundingVolumes[0]&&null!=this.boundingVolumeProvider.BoundingVolumes[1]){var e=this.NavigationModel.ProductTransformModels[0].ProductOrientation,t=Math.abs(Math.cos(Math.atan2(-2*(e.X*e.Z-e.W*e.Y),e.W*e.W-e.X*e.X-e.Y*e.Y+e.Z*e.Z))),n=Math.abs(Math.sin(Math.asin(2*(e.Y*e.Z+e.W*e.X))));this.NavigationModel.ProductTransformModels[0].ProductPosition=this.LeftPosition(t,n,e),this.NavigationModel.ProductTransformModels[1].ProductPosition=this.RightPosition(t,n,e)}},LeftPosition:function(e,t,n){var a=this.boundingVolumeProvider.BoundingVolumes[0],i=this.boundingVolumeProvider.BoundingVolumes[1],r=(a.Width-.5*(a.Width+i.Width))*(1-e);r+=(a.Height-.5*(a.Height+i.Height))*t;var l=this.getHalfSizeAlongX(a,n),o=(i.Center.Y-(i.Height-a.Height))/2;return{X:-(.001*(1-e)+.005*e)-l,Y:(o<0?o:0)*(1-t)+0*t,Z:.5*r}},RightPosition:function(e,t,n){var a=this.boundingVolumeProvider.BoundingVolumes[0],i=this.boundingVolumeProvider.BoundingVolumes[1],r=(i.Width-.5*(a.Width+i.Width))*(1-e);r+=(i.Height-.5*(a.Height+i.Height))*t;var l=this.getHalfSizeAlongX(i,n),o=(a.Center.Y-(a.Height-i.Height))/2;return{X:.001*(1-e)+.005*e+l,Y:(o<0?o:0)*(1-t)+0*t,Z:.5*r}},getHalfSizeAlongX:function(e,t){for(var n=.5*e.Width,a=.5*e.Height,i=.5*e.Depth,r=[{X:-n,Y:-a,Z:i},{X:-n,Y:-a,Z:-i},{X:-n,Y:a,Z:i},{X:-n,Y:a,Z:-i},{X:n,Y:-a,Z:i},{X:n,Y:-a,Z:-i},{X:n,Y:a,Z:i},{X:n,Y:a,Z:-i}],l=new Array(r.length),s=0,u=r.length;s<u;){var d=s++;l[d]=Math.abs(this.transformByQuaternion(r[d],t).X)}return o.fold(l,Math.max,l[0])},transformByQuaternion:function(e,t){var n=t.Y*e.Z-t.Z*e.Y,a=t.Z*e.X-t.X*e.Z,i=t.X*e.Y-t.Y*e.X,r=t.Y*i-t.Z*a,l=t.Z*n-t.X*i,o=t.X*a-t.Y*n,s=2*t.W;return n*=s,a*=s,i*=s,r*=2,l*=2,o*=2,{X:e.X+n+r,Y:e.Y+a+l,Z:e.Z+i+o}}};var wo=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.screenSizeProvider=n,this.boundingVolumeProvider=a};wo.__name__=!0,wo.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture),this.lastTime=e)},HandleGesture:function(e){switch(e._hx_index){case 4:this.PerformRotate(-e.yaw,-e.pitch);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++])}},PerformRotate:function(e,t){if(isFinite(this.screenSizeProvider.AspectRatio)&&(0!=e||0!=t)){var n=Math.abs(this.NavigationModel.CameraPosition.Z-this.NavigationModel.ProductTransformModels[0].ProductPosition.Z),a=n*Math.tan(.017453292519943*this.NavigationModel.CameraFieldOfView*.5),i=n*Math.tan(this.NavigationModel.CameraFieldOfView/this.screenSizeProvider.AspectRatio*.017453292519943*.5),r=this.boundingVolumeProvider.BoundingVolumes[0],l=new Bl(new Ml(r.Min.X,r.Max.X,r.Min.Y,r.Max.Y,r.Min.Z,r.Max.Z),this.NavigationModel.ProductTransformModels[0].ProductPosition,this.NavigationModel.ProductTransformModels[0].ProductOrientation),o=e/(.5*Math.sqrt(l.Width*l.Width+l.Depth*l.Depth)/a*this.screenSizeProvider.Width)*Math.PI,s=t/(.5*Math.sqrt(l.Height*l.Height+l.Depth*l.Depth)/i*this.screenSizeProvider.Height)*Math.PI,u=Math.PI/2-1e-4,d=-u,c=this.NavigationModel.ProductTransformModels[0].ProductOrientation,h=Math.asin(2*(c.Y*c.Z+c.W*c.X)),_=h+s;_>u?s=u-h:_<d&&(s=d-h);for(var g=Math.sin(.5*o),b=Math.cos(.5*o),v=Math.sin(.5*s),f=Math.cos(.5*s),S=0,p=this.NavigationModel.ProductTransformModels;S<p.length;){var m=p[S];++S;var C=m.ProductOrientation,y=C.X,k=C.Y,H=C.Z,V=C.W,O=v*V+f*y+0*H-0*k,F=0*V+f*k+0*y-v*H,w=0*V+f*H+v*k-0*y,x=f*V-v*y-0*k-0*H;m.ProductOrientation={X:O*b+0*x+0*F-w*g,Y:F*b+x*g+0*w-0*O,Z:w*b+0*x+O*g-0*F,W:x*b-0*O-F*g-0*w}}}}};var xo=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.screenSizeProvider=n,this.boundingVolumeProvider=a};xo.__name__=!0,xo.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 4:this.PerformRotate(-e.yaw,-e.pitch);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformRotate:function(e,t){if(isFinite(this.screenSizeProvider.AspectRatio)&&(0!=e||0!=t))for(var n=Math.abs(this.NavigationModel.CameraPosition.Z-this.NavigationModel.ProductTransformModels[0].ProductPosition.Z),a=n*Math.tan(.017453292519943*this.NavigationModel.CameraFieldOfView*.5),i=n*Math.tan(this.NavigationModel.CameraFieldOfView/this.screenSizeProvider.AspectRatio*.017453292519943*.5),r=this.boundingVolumeProvider.BoundingVolumes[0],l=new Bl(new Ml(r.Min.X,r.Max.X,r.Min.Y,r.Max.Y,r.Min.Z,r.Max.Z),this.NavigationModel.ProductTransformModels[0].ProductPosition,this.NavigationModel.ProductTransformModels[0].ProductOrientation),o=e/(.5*Math.sqrt(l.Width*l.Width+l.Depth*l.Depth)/a*this.screenSizeProvider.Width)*Math.PI,s=t/(.5*Math.sqrt(l.Height*l.Height+l.Depth*l.Depth)/i*this.screenSizeProvider.Height)*Math.PI,u=Math.sin(.5*o),d=Math.cos(.5*o),c=Math.sin(.5*s),h=Math.cos(.5*s),_=0*h+d*c+0*u,g=u*h+0*d+0*c,b=0*h+0*d-u*c,v=d*h-0*c-0*u,f=0,S=this.NavigationModel.ProductTransformModels;f<S.length;){var p=S[f];++f;var m=p.ProductOrientation,C=m.X,y=m.Y,k=m.Z,H=m.W;p.ProductOrientation={X:_*H+v*C+g*k-b*y,Y:g*H+v*y+b*C-_*k,Z:b*H+v*k+_*y-g*C,W:v*H-_*C-g*y-b*k}}}};var Do=function(e){this.CameraPosition=e.CameraPosition,this.CameraOrientation=e.CameraOrientation,this.CameraFieldOfView=e.CameraFieldOfView;for(var t=e.ProductTransformModels,n=new Array(t.length),a=0,i=t.length;a<i;){var r=a++,l=t[r];n[r]={ProductPosition:l.ProductPosition,ProductOrientation:l.ProductOrientation}}this.ProductTransformModels=n,this.NavigationModel=this};Do.__name__=!0,Do.prototype={Update:function(e,t){}};var Po=function(e,t){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t};Po.__name__=!0,Po.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 1:this.PerformZoom(e.position,e.distance);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformZoom:function(e,t){if(0!=t){var n=this.NavigationModel.CameraPosition;this.NavigationModel.CameraPosition={X:n.X*t,Y:n.Y*t,Z:n.Z*t}}}};var Ao=function(e,t,n,a,i){null==i&&(i=10),null==a&&(a=1),this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t,this.screenSizeProvider=n,this.minFactor=a,this.maxFactor=i,this.ZoomLimiterObserver=new Io(this)};Ao.__name__=!0,Ao.prototype={_updateBoundingVolume:function(){return null==this.boundingVolumeProvider||null==this.boundingVolumeProvider.BoundingVolumes?null:this.boundingVolumeProvider.BoundingVolumes[0]},Update:function(e,t){if(null!=this.BoundingVolume&&isFinite(this.screenSizeProvider.AspectRatio)){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;var n=this.BoundingVolume.DetermineOptimalZoomDistance(this.NavigationModel.CameraFieldOfView,this.screenSizeProvider.AspectRatio),a=Math.max(this.BoundingVolume.Width,Math.max(this.BoundingVolume.Height,this.BoundingVolume.Depth)),i=Math.min(Math.max(a*this.minFactor,-this.NavigationModel.CameraPosition.Z),n+a*this.maxFactor);i!=this.NavigationModel.CameraPosition.Z&&(this.NavigationModel.CameraPosition={X:this.NavigationModel.CameraPosition.X,Y:this.NavigationModel.CameraPosition.Y,Z:-i})}}};var Io=function(e){var t=this;this.state_BoundingVolume=!1;var n=function(){e.BoundingVolume=e._updateBoundingVolume(),t.state_BoundingVolume=!0},a=function(e,a){t.state_BoundingVolume=f.ScheduleCallback(t.state_BoundingVolume,n)};Te.HiddenObserve(e,"boundingVolumeProvider",(function(e,i){null!=e&&Te.HiddenForget(e,"BoundingVolumes",a),null!=i&&Te.HiddenObserve(i,"BoundingVolumes",a),t.state_BoundingVolume=f.ScheduleCallback(t.state_BoundingVolume,n)})),n()};Io.__name__=!0;var To=a["binkies.navigation.enums.Gesture"]={__ename__:!0,__constructs__:["None","Zoom","Roll","Pan","Rotate","Multiple"],None:{_hx_index:0,__enum__:"binkies.navigation.enums.Gesture",toString:n},Zoom:(t=function(e,t){return{_hx_index:1,position:e,distance:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["position","distance"],t),Roll:(t=function(e,t){return{_hx_index:2,position:e,angle:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["position","angle"],t),Pan:(t=function(e,t){return{_hx_index:3,currentPosition:e,delta:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["currentPosition","delta"],t),Rotate:(t=function(e,t){return{_hx_index:4,yaw:e,pitch:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["yaw","pitch"],t),Multiple:(t=function(e){return{_hx_index:5,gestures:e,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["gestures"],t)},Mo=function(e){this.rightButtonDownOnElement=!1,this.element=e,e.addEventListener("mousedown",Is(this,this.MouseDown)),window.addEventListener("contextmenu",Is(this,this.ContextMenu))};Mo.__name__=!0,Mo.prototype={MouseDown:function(e){2==e.button&&(this.rightButtonDownOnElement=!0)},ContextMenu:function(e){(this.element==e.target||this.rightButtonDownOnElement)&&e.preventDefault(),this.rightButtonDownOnElement=!1}};var Ro=function(){this.Down=!1,this.InputPointObserver=new No(this)};Ro.__name__=!0,Ro.prototype={_updateDelta:function(){return null==this.newPosition||null==this.Position?{X:0,Y:0}:{X:this.newPosition.X-this.Position.X,Y:this.newPosition.Y-this.Position.Y}},Enable:function(){this.enabled=!0},Disable:function(){this.enabled=!1},Update:function(){this.enabled&&(this.Position=this.newPosition)}};var No=function(e){var t=this;this.state_Delta=!1;var n=function(){e.Delta=e._updateDelta(),t.state_Delta=!0},a=function(e,a){t.state_Delta=f.ScheduleCallback(t.state_Delta,n)},i=function(e,a){t.state_Delta=f.ScheduleCallback(t.state_Delta,n)},r=function(e,a){t.state_Delta=f.ScheduleCallback(t.state_Delta,n)},l=function(e,a){t.state_Delta=f.ScheduleCallback(t.state_Delta,n)};Te.HiddenObserve(e,"newPosition",(function(e,r){null!=e&&(Te.HiddenForget(e,"X",a),Te.HiddenForget(e,"Y",i)),null!=r&&(Te.HiddenObserve(r,"X",a),Te.HiddenObserve(r,"Y",i)),t.state_Delta=f.ScheduleCallback(t.state_Delta,n)})),Te.HiddenObserve(e,"Position",(function(e,a){null!=e&&(Te.HiddenForget(e,"X",r),Te.HiddenForget(e,"Y",l)),null!=a&&(Te.HiddenObserve(a,"X",r),Te.HiddenObserve(a,"Y",l)),t.state_Delta=f.ScheduleCallback(t.state_Delta,n)})),n()};No.__name__=!0;var Lo=function(e,t){Ro.call(this),this.element=e,this.Button=t};Lo.__name__=!0,Lo.__super__=Ro,Lo.prototype=i(Ro.prototype,{Enable:function(){this.enabled||(Ro.prototype.Enable.call(this),this.element.addEventListener("mousedown",Is(this,this.MouseDown)))},Disable:function(){this.enabled&&(Ro.prototype.Disable.call(this),this.element.removeEventListener("mousedown",Is(this,this.MouseDown)),window.removeEventListener("mouseup",Is(this,this.MouseUp)),window.removeEventListener("mousemove",Is(this,this.MouseMove)))},MouseDown:function(e){if(this.EventIsForMe(e)){this.Down=!0;var t,n=this.element;if(e.target==n)t={X:e.offsetX,Y:e.offsetY};else{var a=e.clientX,i=e.clientY,r=n.getBoundingClientRect();t={X:a-r.left,Y:i-r.top}}this.newPosition=t,e.preventDefault(),window.addEventListener("mouseup",Is(this,this.MouseUp)),window.addEventListener("mousemove",Is(this,this.MouseMove))}},MouseUp:function(e){this.EventIsForMe(e)&&(this.Down=!1,this.newPosition=null,e.preventDefault(),window.removeEventListener("mouseup",Is(this,this.MouseUp)),window.removeEventListener("mousemove",Is(this,this.MouseMove)))},MouseMove:function(e){var t,n=this.element;if(e.target==n)t={X:e.offsetX,Y:e.offsetY};else{var a=e.clientX,i=e.clientY,r=n.getBoundingClientRect();t={X:a-r.left,Y:i-r.top}}this.newPosition=t,e.preventDefault()},EventIsForMe:function(e){var t;switch(e.button){case 0:t="left";break;case 1:t="middle";break;case 2:t="right";break;default:t="none"}return this.Button==t}});var Bo=function(e,t){Ro.call(this),this.element=e,this.Index=t};Bo.__name__=!0,Bo.__super__=Ro,Bo.prototype=i(Ro.prototype,{Enable:function(){this.enabled||(Ro.prototype.Enable.call(this),this.element.addEventListener("touchstart",Is(this,this.TouchStart)))},Disable:function(){this.enabled&&(Ro.prototype.Disable.call(this),this.element.removeEventListener("touchstart",Is(this,this.TouchStart)),this.element.removeEventListener("touchend",Is(this,this.TouchUp)),window.removeEventListener("touchmove",Is(this,this.TouchMove)))},TouchStart:function(e){if(!(null!=this.id||e.touches.length<this.Index+1)){this.id=e.touches[this.Index].identifier,this.Down=!0;var t=this.FindTouch(e.touches),n=t.clientX,a=t.clientY,i=this.element.getBoundingClientRect();this.newPosition={X:n-i.left,Y:a-i.top},this.element.addEventListener("touchend",Is(this,this.TouchUp)),window.addEventListener("touchmove",Is(this,this.TouchMove),{passive:!1}),e.preventDefault()}},TouchUp:function(e){this.EventIsForMe(e)&&(this.Down=!1,this.newPosition=null,this.id=null,this.element.removeEventListener("touchend",Is(this,this.TouchUp)),window.removeEventListener("touchmove",Is(this,this.TouchMove)),e.preventDefault())},TouchMove:function(e){if(this.EventIsForMe(e)){var t=this.FindTouch(e.touches),n=t.clientX,a=t.clientY,i=this.element.getBoundingClientRect();this.newPosition={X:n-i.left,Y:a-i.top},e.preventDefault()}},EventIsForMe:function(e){for(var t=0,n=e.changedTouches;t<n.length;)if(n[t++].identifier==this.id)return!0;return!1},FindTouch:function(e){for(var t=0;t<e.length;){var n=e[t];if(++t,n.identifier==this.id)return n}return null}});var Eo=function(){this.ProductTransformModels=[]};Eo.__name__=!0;var Wo=function(e){for(var t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.computeBoundingBox(e[i])}this.BoundingVolumes=t};Wo.__name__=!0,Wo.prototype={computeBoundingBox:function(e){var t=this.getBoundingBoxFromModom(e);return t.MoveTo({X:0,Y:0,Z:0}),t},getBoundingBoxFromModom:function(e){if(null==e)return null;var t=e.Nodes;if(null==t)return null;for(var n=1/0,a=-1/0,i=1/0,r=-1/0,l=1/0,o=-1/0,s=0;s<t.length;){var u=t[s];++s,null!=u.Values&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMaxX")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMaxY")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMaxZ")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMinX")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMinY")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMinZ")&&(a<u.Values.aabbMaxX&&(a=u.Values.aabbMaxX),r<u.Values.aabbMaxY&&(r=u.Values.aabbMaxY),o<u.Values.aabbMaxZ&&(o=u.Values.aabbMaxZ),n>u.Values.aabbMinX&&(n=u.Values.aabbMinX),i>u.Values.aabbMinY&&(i=u.Values.aabbMinY),l>u.Values.aabbMinZ&&(l=u.Values.aabbMinZ))}var d=r-i;return new Ml(n,a,i-d/2,r-d/2,l,o)}};var Uo=function(e){this.inputProvider=e,this.InertiaProviderObserver=new zo(this)};Uo.__name__=!0,Uo.ApplyInertia=function(e,t){switch(e._hx_index){case 0:return To.None;case 1:var n=e.distance;return Math.abs(n-1)<.001?To.None:To.Zoom(e.position,(n-1)*t+1);case 2:var a=e.angle;return Math.abs(a)<.005?To.None:To.Roll(e.position,a*t);case 3:var i=e.delta;return Math.abs(i.X)<.001&&Math.abs(i.Y)<.001?To.None:To.Pan(e.currentPosition,{X:i.X*t,Y:i.Y*t});case 4:var r=e.pitch,l=e.yaw;return Math.abs(l)<.001&&Math.abs(r)<.001?To.None:To.Rotate(l*t,r*t);case 5:for(var o=e.gestures,s=new Array(o.length),u=0,d=o.length;u<d;){var c=u++;s[c]=Uo.ApplyInertia(o[c],t)}return To.Multiple(s)}},Uo.prototype={_updateGesture:function(){return null==this.inputProvider?To.None:this.inputProvider.Gesture!=To.None?this.inputProvider.Gesture:this.previousGesture},Update:function(e,t){null!=this.inputProvider&&e!=this.lastTime&&(this.inputProvider.Update(e,t),this.lastTime=e,this.inputProvider.Gesture==To.None?this.previousGesture!=To.None&&null!=this.previousGesture&&(this.previousGesture=Uo.ApplyInertia(this.previousGesture,Math.pow(.85,30*t))):this.previousGesture=this.inputProvider.Gesture)},_updateIsUserInteracting:function(){return this.inputProvider.IsUserInteracting}};var zo=function(e){var t=this;this.state_Gesture=!1,this.state_IsUserInteracting=!1;var n=function(){e.Gesture=e._updateGesture(),t.state_Gesture=!0},a=function(){e.IsUserInteracting=e._updateIsUserInteracting(),t.state_IsUserInteracting=!0},i=function(e,a){t.state_Gesture=f.ScheduleCallback(t.state_Gesture,n)},r=function(e,n){t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,a)};Te.HiddenObserve(e,"inputProvider",(function(e,l){null!=e&&(Te.HiddenForget(e,"Gesture",i),Te.HiddenForget(e,"IsUserInteracting",r)),null!=l&&(Te.HiddenObserve(l,"Gesture",i),Te.HiddenObserve(l,"IsUserInteracting",r)),t.state_Gesture=f.ScheduleCallback(t.state_Gesture,n),t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,a)})),Te.HiddenObserve(e,"previousGesture",(function(e,a){t.state_Gesture=f.ScheduleCallback(t.state_Gesture,n)})),n(),a()};zo.__name__=!0;var Go=function(){this.PassThroughProviderObserver=new Xo(this)};Go.__name__=!0,Go.prototype={_updateGesture:function(){return null==this.gestureProvider?To.None:this.gestureProvider.Gesture},_updateBoundingVolumes:function(){return null==this.boundingVolumeProvider?null:this.boundingVolumeProvider.BoundingVolumes},_updateWidth:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.Width},_updateHeight:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.Height},_updateAspectRatio:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.AspectRatio},_updatePixelRatio:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.PixelRatio},ScreenPointToRay:function(e){return null==this.rayProvider?null:this.rayProvider.ScreenPointToRay(e)},Update:function(e,t){null!=this.gestureProvider&&this.gestureProvider.Update(e,t)},SetGestureProvider:function(e){this.gestureProvider=e},SetRayProvider:function(e){this.rayProvider=e},SetBoundingVolumeProvider:function(e){this.boundingVolumeProvider=e},SetScreenSizeProvider:function(e){this.screenSizeProvider=e},_updateIsUserInteracting:function(){return null==this.gestureProvider?null:this.gestureProvider.IsUserInteracting}};var Xo=function(e){var t=this;this.state_Gesture=!1,this.state_BoundingVolumes=!1,this.state_Width=!1,this.state_Height=!1,this.state_AspectRatio=!1,this.state_PixelRatio=!1,this.state_IsUserInteracting=!1;var n=function(){e.Gesture=e._updateGesture(),t.state_Gesture=!0},a=function(){e.BoundingVolumes=e._updateBoundingVolumes(),t.state_BoundingVolumes=!0},i=function(){e.Width=e._updateWidth(),t.state_Width=!0},r=function(){e.Height=e._updateHeight(),t.state_Height=!0},l=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},o=function(){e.PixelRatio=e._updatePixelRatio(),t.state_PixelRatio=!0},s=function(){e.IsUserInteracting=e._updateIsUserInteracting(),t.state_IsUserInteracting=!0},u=function(e,a){t.state_Gesture=f.ScheduleCallback(t.state_Gesture,n)},d=function(e,n){t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,s)},c=function(e,n){t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,a)},h=function(e,n){t.state_Width=f.ScheduleCallback(t.state_Width,i)},_=function(e,n){t.state_Height=f.ScheduleCallback(t.state_Height,r)},g=function(e,n){t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,l)},b=function(e,n){t.state_PixelRatio=f.ScheduleCallback(t.state_PixelRatio,o)};Te.HiddenObserve(e,"gestureProvider",(function(e,a){null!=e&&(Te.HiddenForget(e,"Gesture",u),Te.HiddenForget(e,"IsUserInteracting",d)),null!=a&&(Te.HiddenObserve(a,"Gesture",u),Te.HiddenObserve(a,"IsUserInteracting",d)),t.state_Gesture=f.ScheduleCallback(t.state_Gesture,n),t.state_IsUserInteracting=f.ScheduleCallback(t.state_IsUserInteracting,s)})),Te.HiddenObserve(e,"boundingVolumeProvider",(function(e,n){null!=e&&Te.HiddenForget(e,"BoundingVolumes",c),null!=n&&Te.HiddenObserve(n,"BoundingVolumes",c),t.state_BoundingVolumes=f.ScheduleCallback(t.state_BoundingVolumes,a)})),Te.HiddenObserve(e,"screenSizeProvider",(function(e,n){null!=e&&(Te.HiddenForget(e,"Width",h),Te.HiddenForget(e,"Height",_),Te.HiddenForget(e,"AspectRatio",g),Te.HiddenForget(e,"PixelRatio",b)),null!=n&&(Te.HiddenObserve(n,"Width",h),Te.HiddenObserve(n,"Height",_),Te.HiddenObserve(n,"AspectRatio",g),Te.HiddenObserve(n,"PixelRatio",b)),t.state_Width=f.ScheduleCallback(t.state_Width,i),t.state_Height=f.ScheduleCallback(t.state_Height,r),t.state_AspectRatio=f.ScheduleCallback(t.state_AspectRatio,l),t.state_PixelRatio=f.ScheduleCallback(t.state_PixelRatio,o)})),n(),a(),i(),r(),l(),o(),s()};Xo.__name__=!0;var Yo=function(e){this.navigator=e,this.connectionSpeed=this.IsHighSpeedConnection()?"high":"low"};Yo.__name__=!0,Yo.prototype={IsHighSpeedConnection:function(){var e=this.GetDownlink();if(null!=e&&e<2)return!1;switch(this.GetNetworkType()){case"bluetooth":case"cellular":case"none":case"other":case"unknown":return!1}return!0},GetDownlink:function(){return null==this.navigator||null==this.navigator.connection||null==this.navigator.connection.downlink?null:this.navigator.connection.downlink},GetNetworkType:function(){return null==this.navigator||null==this.navigator.connection||null==this.navigator.connection.type?null:this.navigator.connection.type}};var Zo=function(){this.children=[],this.Parent=null,this.context=null};Zo.__name__=!0;var Qo=function(e){this.pickingEventListeners=0,this.eventListeners={Length:0},this.localTransform=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.worldTransform=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Zo.call(this),this.Type=e,this.UpdateWorldTransform()};Qo.__name__=!0,Qo.__super__=Zo,Qo.prototype=i(Zo.prototype,{UpdateWorldTransform:function(){if(null==this.Parent)this.WorldTransform=this.localTransform;else{this.WorldTransform=this.worldTransform;var e=this.Parent.WorldTransform,t=this.localTransform,n=this.worldTransform;n[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8],n[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9],n[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10],n[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3],n[4]=e[4]*t[0]+e[5]*t[4]+e[6]*t[8],n[5]=e[4]*t[1]+e[5]*t[5]+e[6]*t[9],n[6]=e[4]*t[2]+e[5]*t[6]+e[6]*t[10],n[7]=e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7],n[8]=e[8]*t[0]+e[9]*t[4]+e[10]*t[8],n[9]=e[8]*t[1]+e[9]*t[5]+e[10]*t[9],n[10]=e[8]*t[2]+e[9]*t[6]+e[10]*t[10],n[11]=e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]}this.WorldTransform._c=rt.matrixChanges++;for(var a=0,i=this.children;a<i.length;)i[a++].UpdateWorldTransform()},FireEvent:function(e,t,n){var a=this.eventListeners[e];null!=a&&a(t,n)}});var jo=function(){this.directionInModelSpace={X:0,Y:0,Z:0},this.startInModelSpace={X:0,Y:0,Z:0},this.cursorDownLastFrame=!1,this.closestRenderableLastFrame=null,this.FieldOfView=25,this.Zero={X:0,Y:0,Z:0},this.FarPlane=5,this.NearPlane=.01,this.effectiveFieldOfView=25,this.viewProjectionTransform=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.viewTransform=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.projectionTransform=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Qo.call(this,1),this.renderQueue=new $o(this)};jo.__name__=!0,jo.__super__=Qo,jo.prototype=i(Qo.prototype,{Draw:function(){if(null!=this.context.Lightmap&&this.context.Lightmap.Loaded){this.context.Device.EnsureCorrectBackbufferSize(),this.context.Device.Clear();var e=this.NearPlane,t=this.FarPlane,n=this.projectionTransform,a=this.context.Device.Width/this.context.Device.Height,i=.00872664626*this.FieldOfView;this.effectiveFieldOfView=a>1?Math.atan(a*Math.tan(i)):i;var r=1/Math.tan(this.effectiveFieldOfView),l=t/(t-e);n[0]=r,n[5]=r*a,n[10]=l,n[11]=-e*l,n[14]=1,n._c=rt.matrixChanges++,this.UpdateViewTransform(this.viewTransform);var o=this.viewTransform,s=this.projectionTransform,u=this.viewProjectionTransform;u[0]=s[0]*o[0],u[1]=s[0]*o[1],u[2]=s[0]*o[2],u[3]=s[0]*o[3],u[4]=s[5]*o[4],u[5]=s[5]*o[5],u[6]=s[5]*o[6],u[7]=s[5]*o[7],u[8]=s[10]*o[8],u[9]=s[10]*o[9],u[10]=s[10]*o[10],u[11]=s[10]*o[11]+s[11],u[12]=s[14]*o[8],u[13]=s[14]*o[9],u[14]=s[14]*o[10],u[15]=o[11],u._c=rt.matrixChanges++,Ne.ViewTransform=this.viewTransform,Ne.ProjectionTransform=this.projectionTransform,Ne.ViewProjectionTransform=this.viewProjectionTransform,Ne.Lightmap=this.context.Lightmap,Ne.Brdf=this.context.Brdf,Ne.Irradiance=this.context.Irradiance,Ne.Radiance=this.context.Radiance,Ne.CameraPosition={X:this.WorldTransform[3],Y:this.WorldTransform[7],Z:this.WorldTransform[11]},Ne.RingTexture=this.context.Device.RingTexture,Ne.Exposure=this.context.Exposure,this.renderQueue.Sort();for(var d=0,c=this.renderQueue.items;d<c.length;){var h=c[d];if(++d,h.Visible){var _=h.Renderable;Ne.World=_.WorldTransform,Ne.AnisotropicPosition=null!=_.AnisotropicPosition?_.AnisotropicPosition:this.Zero,Ne.RenderableAmbientOcclusionIntensity=null!=_.AmbientOcclusionIntensity?_.AmbientOcclusionIntensity:1,Ne.DepthOffset=3==h.Renderable.Type&&h.Transparent?-.0035*this.NearPlane:0;for(var g=0,b=_.Materials;g<b.length;)b[g++].Draw()}}}},UpdateViewTransform:function(e){var t=this.WorldTransform[3],n=this.WorldTransform[7],a=this.WorldTransform[11],i=this.WorldTransform[0],r=this.WorldTransform[4],l=this.WorldTransform[8],o=this.WorldTransform[1],s=this.WorldTransform[5],u=this.WorldTransform[9],d=this.WorldTransform[2],c=this.WorldTransform[6],h=this.WorldTransform[10];e[0]=i,e[4]=o,e[8]=d,e[1]=r,e[5]=s,e[9]=c,e[2]=l,e[6]=u,e[10]=h,e[3]=-1*(i*t+r*n+l*a),e[7]=-1*(o*t+s*n+u*a),e[11]=-1*(d*t+c*n+h*a),e[15]=1,e._c=rt.matrixChanges++},Pick:function(){var e=null,t=1/0;if(null!=this.context.Device.CursorX||null==this.context.Device.CursorY)for(var n=.5*this.context.Device.Width,a=.5*this.context.Device.Height,i=Math.tan(this.effectiveFieldOfView)*(this.context.Device.CursorX/n-1),r=Math.tan(this.effectiveFieldOfView)*(1-this.context.Device.CursorY/a)/(n/a),l=i*this.NearPlane,o=r*this.NearPlane,s=this.NearPlane,u=this.WorldTransform[0]*l+this.WorldTransform[1]*o+this.WorldTransform[2]*s+this.WorldTransform[3],d=this.WorldTransform[4]*l+this.WorldTransform[5]*o+this.WorldTransform[6]*s+this.WorldTransform[7],c=this.WorldTransform[8]*l+this.WorldTransform[9]*o+this.WorldTransform[10]*s+this.WorldTransform[11],h=i*this.FarPlane,_=r*this.FarPlane,g=this.FarPlane,b=this.WorldTransform[0]*h+this.WorldTransform[1]*_+this.WorldTransform[2]*g+this.WorldTransform[3]-u,v=this.WorldTransform[4]*h+this.WorldTransform[5]*_+this.WorldTransform[6]*g+this.WorldTransform[7]-d,f=this.WorldTransform[8]*h+this.WorldTransform[9]*_+this.WorldTransform[10]*g+this.WorldTransform[11]-c,S=Math.sqrt(b*b+v*v+f*f),p=b*(S=0==S?1:1/S),m=v*S,C=f*S,y=0,k=this.renderQueue.items;y<k.length;){var H=k[y];if(++y,H.Visible){var V=H.Renderable;if(null!=V.AxisAlignedBoundingBox&&0!=V.pickingEventListeners){var O=u-V.WorldTransform[3],F=d-V.WorldTransform[7],w=c-V.WorldTransform[11];this.startInModelSpace.X=O*V.WorldTransform[0]+F*V.WorldTransform[4]+w*V.WorldTransform[8],this.startInModelSpace.Y=O*V.WorldTransform[1]+F*V.WorldTransform[5]+w*V.WorldTransform[9],this.startInModelSpace.Z=O*V.WorldTransform[2]+F*V.WorldTransform[6]+w*V.WorldTransform[10],this.directionInModelSpace.X=p*V.WorldTransform[0]+m*V.WorldTransform[4]+C*V.WorldTransform[8],this.directionInModelSpace.Y=p*V.WorldTransform[1]+m*V.WorldTransform[5]+C*V.WorldTransform[9],this.directionInModelSpace.Z=p*V.WorldTransform[2]+m*V.WorldTransform[6]+C*V.WorldTransform[10],El.Perform(this.startInModelSpace,this.directionInModelSpace,V.AxisAlignedBoundingBox),El.Hit&&(Ul.Perform(this.startInModelSpace,this.directionInModelSpace,V.Mesh),Ul.Hit&&Ul.Distance-(3==H.Renderable.Type?.0035*this.NearPlane:0)<t&&(t=Ul.Distance,e=V))}}}this.closestRenderableLastFrame!=e&&(null!=this.closestRenderableLastFrame&&this.closestRenderableLastFrame.FireEvent("cursorleave"),null!=e&&e.FireEvent("cursorenter")),!this.cursorDownLastFrame&&this.context.Device.CursorDown&&(this.pressedRenderable=e,null!=e&&e.FireEvent("cursordown")),this.cursorDownLastFrame&&!this.context.Device.CursorDown&&(null!=e&&e.FireEvent("cursorup"),null!=this.pressedRenderable&&this.pressedRenderable==e&&this.pressedRenderable.FireEvent("cursorclick"),this.pressedRenderable=null),this.closestRenderableLastFrame=e,this.cursorDownLastFrame=this.context.Device.CursorDown}});var qo=function(){this.Visible=!0,this.AmbientOcclusionIntensity=null,this.AnisotropicPosition=null,this.Materials=[];var e=this;Qo.call(this,2),Te.HiddenObserve(this,"Materials",(function(t,n){null!=t&&(t.Renderable=null),null!=n&&(n.Renderable=e)}),!0),Te.HiddenObserve(this,"Mesh",(function(t,n){null!=t&&(t.Renderable=null),null!=n&&(n.Renderable=e)}),!0),this.RenderableObserver=new es(this)};qo.__name__=!0,qo.__super__=Qo,qo.prototype=i(Qo.prototype,{_updateMesh:function(){return null},_updateDevice:function(){return null==this.context?null:this.context.Device},_updateAxisAlignedBoundingBox:function(){if(null==this.Mesh)return null;for(var e=1/0,t=1/0,n=1/0,a=-1/0,i=-1/0,r=-1/0,l=this.Mesh.Positions.Data,o=0,s=this.Mesh.NumberOfVertices;o<s;){var u=o++,d=l[3*u],c=l[3*u+1],h=l[3*u+2];e=Math.min(e,d),t=Math.min(t,c),n=Math.min(n,h),a=Math.max(a,d),i=Math.max(i,c),r=Math.max(r,h)}return new Tl(e,t,n,a,i,r)}});var Ko=function(){qo.call(this),this.ModelObserver=new Jo(this)};Ko.__name__=!0,Ko.__super__=qo,Ko.prototype=i(qo.prototype,{_updateMesh:function(){return null!=this.IndicesBuffer&&this.IndicesBuffer.Loaded&&null!=this.PositionsBuffer&&this.PositionsBuffer.Loaded&&null!=this.NormalsBuffer&&this.NormalsBuffer.Loaded&&null!=this.TextureCoordinatesBuffer&&this.TextureCoordinatesBuffer.Loaded&&null!=this.AmbientOcclusionsBuffer&&this.AmbientOcclusionsBuffer.Loaded?new qe(this.IndicesBuffer.Data,this.PositionsBuffer.Data,this.NormalsBuffer.Data,this.TextureCoordinatesBuffer.Data,this.AmbientOcclusionsBuffer.Data):null!=this.IndicesBuffer&&this.IndicesBuffer.Loaded&&null!=this.PositionsBuffer&&this.PositionsBuffer.Loaded&&null!=this.NormalsBuffer&&this.NormalsBuffer.Loaded&&null!=this.TextureCoordinatesBuffer&&this.TextureCoordinatesBuffer.Loaded?new qe(this.IndicesBuffer.Data,this.PositionsBuffer.Data,this.NormalsBuffer.Data,this.TextureCoordinatesBuffer.Data,null):null}});var Jo=function(e){var t=this;this.state_Mesh=!1;var n=function(){e.Mesh=e._updateMesh(),t.state_Mesh=!0},a=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},i=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},r=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},l=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},o=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},s=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},u=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},d=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},c=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)},h=function(e,a){t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)};Te.HiddenObserve(e,"IndicesBuffer",(function(e,r){null!=e&&(Te.HiddenForget(e,"Loaded",a),Te.HiddenForget(e,"Data",i)),null!=r&&(Te.HiddenObserve(r,"Loaded",a),Te.HiddenObserve(r,"Data",i)),t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)})),Te.HiddenObserve(e,"PositionsBuffer",(function(e,a){null!=e&&(Te.HiddenForget(e,"Loaded",r),Te.HiddenForget(e,"Data",l)),null!=a&&(Te.HiddenObserve(a,"Loaded",r),Te.HiddenObserve(a,"Data",l)),t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)})),Te.HiddenObserve(e,"NormalsBuffer",(function(e,a){null!=e&&(Te.HiddenForget(e,"Loaded",o),Te.HiddenForget(e,"Data",s)),null!=a&&(Te.HiddenObserve(a,"Loaded",o),Te.HiddenObserve(a,"Data",s)),t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)})),Te.HiddenObserve(e,"TextureCoordinatesBuffer",(function(e,a){null!=e&&(Te.HiddenForget(e,"Loaded",u),Te.HiddenForget(e,"Data",d)),null!=a&&(Te.HiddenObserve(a,"Loaded",u),Te.HiddenObserve(a,"Data",d)),t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)})),Te.HiddenObserve(e,"AmbientOcclusionsBuffer",(function(e,a){null!=e&&(Te.HiddenForget(e,"Loaded",c),Te.HiddenForget(e,"Data",h)),null!=a&&(Te.HiddenObserve(a,"Loaded",c),Te.HiddenObserve(a,"Data",h)),t.state_Mesh=f.ScheduleCallback(t.state_Mesh,n)})),n()};Jo.__name__=!0;var $o=function(e){this.items=[],this.camera=e};$o.__name__=!0,$o.CompareItem=function(e,t){if(e.Type!=t.Type)return e.Type-t.Type;switch(e.Type){case 0:case 2:return e.SquaredDistanceToCamera-t.SquaredDistanceToCamera;case 1:return e.Renderable.Parent==t.Renderable.Parent?e.Renderable.Parent.children.indexOf(e.Renderable)-t.Renderable.Parent.children.indexOf(t.Renderable):e.SquaredDistanceToCamera-t.SquaredDistanceToCamera}},$o.prototype={Sort:function(){for(var e=0,t=this.items;e<t.length;){var n=t[e];++e;var a=n.Renderable;n.Visible=a.Visible&&null!=a.Mesh&&a.Materials.length>0,n.Visible&&(n.Transparent=1==a.Materials[0].AlphaBlending,3==a.Type&&(n.Type=1),2==a.Type&&(n.Type=n.Transparent?2:0),n.SquaredDistanceToCamera=this.camera.WorldTransform[3]-a.WorldTransform[3]+this.camera.WorldTransform[7]-a.WorldTransform[7]+this.camera.WorldTransform[11]-a.WorldTransform[11])}m.InsertSort(this.items,$o.CompareItem)}};var es=function(e){var t=this;this.state_Mesh=!1,this.state_Device=!1,this.state_AxisAlignedBoundingBox=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.AxisAlignedBoundingBox=e._updateAxisAlignedBoundingBox(),t.state_AxisAlignedBoundingBox=!0},i=function(e,a){t.state_Device=f.ScheduleCallback(t.state_Device,n)};Te.HiddenObserve(e,"context",(function(e,a){null!=e&&Te.HiddenForget(e,"Device",i),null!=a&&Te.HiddenObserve(a,"Device",i),t.state_Device=f.ScheduleCallback(t.state_Device,n)}));var r=function(e,n){t.state_AxisAlignedBoundingBox=f.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)},l=function(e,n){null!=e&&Te.HiddenForget(e,"Data",r),null!=n&&Te.HiddenObserve(n,"Data",r),t.state_AxisAlignedBoundingBox=f.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)},o=function(e,n){t.state_AxisAlignedBoundingBox=f.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)};Te.HiddenObserve(e,"Mesh",(function(e,n){null!=e&&(Te.HiddenForget(e,"Positions",l),Te.HiddenForget(e,"NumberOfVertices",o)),null!=n&&(Te.HiddenObserve(n,"Positions",l),Te.HiddenObserve(n,"NumberOfVertices",o)),t.state_AxisAlignedBoundingBox=f.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)})),e.Mesh=e._updateMesh(),t.state_Mesh=!0,n(),a()};es.__name__=!0;var ts=function(){};ts.__name__=!0;var ns=function(e){this.Exposure=1,this.cameras=[];var t=this;if(null==e)throw new ws("A world must have a device.");ts.call(this),this.Device=e,e.contextLostEvent.Register((function(e){t.Device=null})),e.contextRestoredEvent.Register((function(n){t.Device=e})),Te.HiddenObserve(this,"Lightmap",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),Te.HiddenObserve(this,"Brdf",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),Te.HiddenObserve(this,"Irradiance",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),Te.HiddenObserve(this,"Radiance",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),S.nextFrameEvent.Register((function(e){if(null!=t.Device)for(var n=0,a=t.cameras;n<a.length;)a[n++].Pick()})),S.afterComputedPropertiesUpdated.Register((function(e){if(null!=t.Device)for(var n=0,a=t.cameras;n<a.length;)a[n++].Draw()}))};ns.__name__=!0,ns.__super__=ts,ns.prototype=i(ts.prototype,{});var as=function(e,t){this.transitions=[],this.defaultState=e,this.transitions=t,Te.HiddenObserve(this,"State",Is(this,this.OnStateChanged),!0)};as.__name__=!0,as.prototype={Start:function(){this.State=this.defaultState},Stop:function(){this.State=null},OnStateChanged:function(e,t){for(var n=0,a=this.transitions;n<a.length;){var i=a[n];++n,this.IsMatchinStateTransition(i,e)&&this.DisableTransitions(i.Transitions),this.IsMatchinStateTransition(i,t)&&this.EnableTransitions(i.Transitions)}},IsMatchinStateTransition:function(e,t){return null!=t&&e.State._hx_index==t._hx_index},DisableTransitions:function(e){for(var t=0;t<e.length;)e[t++].Disable()},EnableTransitions:function(e){for(var t=this,n=0;n<e.length;)e[n++].Enable((function(e){return t.State=e}))}};var is=function(e,t){this.convert=e,this.activeBookmarkHandler=t,Te.HiddenObserve(t,"Value",Is(this,this.ActiveBookmarkChanged),!0)};is.__name__=!0,is.prototype={Enable:function(e){this.onTriggered=e},ActiveBookmarkChanged:function(e,t){null!=t&&null!=this.onTriggered&&this.onTriggered(this.convert(t))},Disable:function(){this.onTriggered=null}};var rs=function(e){this.to=e};rs.__name__=!0,rs.prototype={Enable:function(e){var t=this;this.onTriggered=e,this.id=window.requestAnimationFrame((function(e){t.onTriggered(t.to)}))},Disable:function(){window.cancelAnimationFrame(this.id)}};var ls=function(e,t){this.toState=e,this.navigationFocusMode=t,Te.HiddenObserve(t,"Value",Is(this,this.NavigationFocusModeChanged),!0)};ls.__name__=!0,ls.prototype={NavigationFocusModeChanged:function(e,t){"none"==t&&null!=this.onTriggered&&this.onTriggered(this.toState)},Enable:function(e){this.onTriggered=e},Disable:function(){this.onTriggered=null}};var os=function(){};os.__name__=!0,os.prototype={Enable:function(e){},Disable:function(){}};var ss=function(e){this.to=e};ss.__name__=!0,ss.prototype={Enable:function(e){var t=this;ee.RemoveListener("resetnavigation",this.eventListener),this.eventListener=function(n,a){e(t.to)},ee.AddListener("resetnavigation",this.eventListener)},Disable:function(){ee.RemoveListener("resetnavigation",this.eventListener)}};var us=function(e,t){this.toState=e,this.screenSizeProvider=t,Te.HiddenObserve(t,"AspectRatio",Is(this,this.ScreenSizeChanged),!0)};us.__name__=!0,us.prototype={ScreenSizeChanged:function(e,t){null!=t&&null!=this.onTriggered&&this.onTriggered(this.toState)},Enable:function(e){this.onTriggered=e},Disable:function(){this.onTriggered=null}};var ds=function(e,t){this.gestureProvider=e,this.to=t};ds.__name__=!0,ds.prototype={Enable:function(e){this.onTriggered=e,Te.HiddenObserve(this.gestureProvider,"IsUserInteracting",Is(this,this.UserInteractingChanged),!0)},UserInteractingChanged:function(e,t){t&&this.onTriggered(this.to)},Disable:function(){Te.HiddenForget(this.gestureProvider,"IsUserInteracting",Is(this,this.UserInteractingChanged),!0)}};var cs=function(e,t){this.gestureProvider=e,this.to=t};cs.__name__=!0,cs.prototype={Enable:function(e){this.onTriggered=e,Te.HiddenObserve(this.gestureProvider,"IsUserInteracting",Is(this,this.UserInteractingChanged),!0)},UserInteractingChanged:function(e,t){t||this.onTriggered(this.to)},Disable:function(){Te.HiddenForget(this.gestureProvider,"IsUserInteracting",Is(this,this.UserInteractingChanged),!0)}};var hs=function(e,t){this.timeout=e,this.to=t};hs.__name__=!0,hs.prototype={Enable:function(e){var t=this;this.id=window.setTimeout((function(){e(t.to)}),this.timeout)},Disable:function(){window.clearTimeout(this.id)}};var _s=function(e,t,n,a){this.gestureProvider=e,this.activeBookmarkHandler=t,this.screenSizeProvider=n,this.navigationFocusMode=a};_s.__name__=!0,_s.prototype={Noop:function(){return new os},Timeout:function(e,t){return new hs(e,t)},BookmarkClicked:function(e){return new is(e,this.activeBookmarkHandler)},StoppedInteracting:function(e){return new cs(this.gestureProvider,e)},StartInteracting:function(e){return new ds(this.gestureProvider,e)},GoTo:function(e){return new rs(e)},ResetNavigation:function(e){return new ss(e)},ScreenSizeChanged:function(e){return new us(e,this.screenSizeProvider)},NavigationFocusDisabled:function(e){return new ls(e,this.navigationFocusMode)}};var gs=function(e,t){this.decoratee=e,this.condition=t,this.ConditionalPassThroughObserver=new bs(this)};gs.__name__=!0,gs.prototype={_updateValue:function(){return this.condition.Value?this.decoratee.Value:null}};var bs=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"condition",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"decoratee",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",i),null!=a&&Te.HiddenObserve(a,"Value",i),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};bs.__name__=!0;var vs=function(){this.Value=null};vs.__name__=!0;var fs=function(e){this.gateTriggered=!1,this.initialValue=e,this.Value=e};fs.__name__=!0,fs.prototype={SetValue:function(e){this.gateTriggered||(this.gateTriggered=this.Value!=e,this.Value=e)}};var Ss=function(e,t){this.value=e,this.overrideValue=t,this.OverrideObserver=new ps(this)};Ss.__name__=!0,Ss.prototype={_updateValue:function(){return null!=this.overrideValue.Value?this.overrideValue.Value:this.value.Value}};var ps=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"overrideValue",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),Te.HiddenObserve(e,"value",(function(e,a){null!=e&&Te.HiddenForget(e,"Value",i),null!=a&&Te.HiddenObserve(a,"Value",i),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};ps.__name__=!0;var ms=function(e){this.Decoratee=e,this.PassThroughObserver=new Cs(this)};ms.__name__=!0,ms.prototype={_updateValue:function(){return this.Decoratee.Value}};var Cs=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=f.ScheduleCallback(t.state_Value,n)};Te.HiddenObserve(e,"Decoratee",(function(e,i){null!=e&&Te.HiddenForget(e,"Value",a),null!=i&&Te.HiddenObserve(i,"Value",a),t.state_Value=f.ScheduleCallback(t.state_Value,n)})),n()};Cs.__name__=!0;var ys=function(e){this.Value=e};ys.__name__=!0,ys.prototype={SetValue:function(e){this.Value=e}};var ks=function(){};ks.__name__=!0,ks.formatOutput=function(e,t){var n=c.string(e);if(null==t)return n;var a=t.fileName+":"+t.lineNumber;if(null!=t.customParams)for(var i=0,r=t.customParams;i<r.length;)n+=", "+c.string(r[i++]);return a+": "+n},ks.trace=function(e,t){var n=ks.formatOutput(e,t);"undefined"!=typeof console&&null!=console.log&&console.log(n)};var Hs=function(){};Hs.__name__=!0,Hs.IsNullOrWhiteSpace=function(e){if(null==e||""==e)return!0;for(var t=0,n=e.length;t<n;)if(" "!=e.charAt(t++))return!1;return!0};var Vs=function(){this.h={}};Vs.__name__=!0;var Os=function(){this.h={}};Os.__name__=!0,Os.prototype={setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]}};var Fs=function(){};Fs.__name__=!0,Fs.firstWhere=function(e,t){if(null!=e)for(var n=0;n<e.length;){var a=e[n];if(++n,t(a))return a}return null};var ws=function(e){Error.call(this),this.val=e,Error.captureStackTrace&&Error.captureStackTrace(this,ws)};ws.__name__=!0,ws.__super__=Error,ws.prototype=i(Error.prototype,{});var xs=function(){};xs.__name__=!0,xs.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var n=typeof e;switch("function"==n&&(e.__name__||e.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(e.__enum__){var i=a[e.__enum__],r=i.__constructs__[e._hx_index],l=i[r];return l.__params__?(t+="\t",r+"("+function(n){for(var a=[],i=0,r=l.__params__;i<r.length;){var o=r[i];i+=1,a.push(xs.__string_rec(e[o],t))}return a}().join(",")+")"):r}if(e instanceof Array){var o="[";t+="\t";for(var s=0,u=e.length;s<u;){var d=s++;o+=(d>0?",":"")+xs.__string_rec(e[d],t)}return o+="]"}var c;try{c=e.toString}catch(e){e instanceof ws&&e.val;return"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c){var h=e.toString();if("[object Object]"!=h)return h}var _="{\n";t+="\t";var g=null!=e.hasOwnProperty,b=null;for(b in e)g&&!e.hasOwnProperty(b)||"prototype"!=b&&"__class__"!=b&&"__super__"!=b&&"__interfaces__"!=b&&"__properties__"!=b&&(2!=_.length&&(_+=", \n"),_+=t+b+" : "+xs.__string_rec(e[b],t));return _+="\n"+(t=t.substring(1))+"}";case"string":return e;default:return String(e)}};var Ds=function(){};Ds.__name__=!0,Ds.getContextWebGL=function(e,t){var n=e.getContext("webgl",t);if(null!=n)return n;var a=e.getContext("experimental-webgl",t);return null!=a?a:null};var Ps=function(){};function As(e){return e instanceof Array?l.iter(e):e.iterator()}function Is(t,n){return null==n?null:(null==n.__id__&&(n.__id__=e.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:a=t.hx__closures__[n.__id__],null==a&&(a=n.bind(t),t.hx__closures__[n.__id__]=a),a);var a}Ps.__name__=!0,Ps.AddClass=function(e,t){if(null==e.className||""==e.className)e.className=t;else{var n=e.className.split(" ");-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" "))}},Ps.RemoveClass=function(e,t){var n=e.className.split(" "),a=n.indexOf(t);return-1!=a&&(n.splice(a,1),0!=n.length?e.className=n.join(" "):e.removeAttribute("class"),!0)},Ps.MatchesQuerySelector=function(e,t){if(null!=e.matches)return e.matches(t);if(null!=e.matchesSelector)return e.matchesSelector(t);if(null!=e.mozMatchesSelector)return e.mozMatchesSelector(t);if(null!=e.msMatchesSelector)return e.msMatchesSelector(t);if(null!=e.oMatchesSelector)return e.oMatchesSelector(t);if(null!=e.webkitMatchesSelector)return e.webkitMatchesSelector(t);var n=null==window.document?window.document:e.ownerDocument;if(null==n)return!1;for(var a=n.querySelectorAll(t),i=a.length;--i>=0&&a.item(i)!=e;);return i>-1},Ps.RemoveFromParent=function(e){return null!=e&&null!=e.parentElement&&null!=e.parentElement.removeChild(e)},e.$haxeUID|=0,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.__name__=!0,Array.__name__=!0,S.requestId=window.requestAnimationFrame(S.Update),ee.listeners={},ee.listenersToAdd={},ee.listenersToRemove={},ee.fireOnce={},ee.AddListener("contentswitched",ie.HandleContentSwitched),ee.MakeFireOnce("engaged"),Be.DesireAntiAliasing=Le.FindStringQueryParameter(window.location,"binkies-desire-anti-aliasing","check"),mt.AllowSoftwareRendering=Le.FindBooleanQueryParameter(window.location,"binkies-allow-software-rendering",!1);var Ts={};Object.defineProperty(ws.prototype,"message",{get:function(){return String(this.val)}}),xs.__toStr={}.toString,f.callbacks=[],S.UpdateComputedProperties=!1,S.requestId=0,S.lastUpdateTime=0,S.nextFrameEvent=new v,S.FrameId=0,S.afterComputedPropertiesUpdated=new v,S.ElapsedTime=0,S.TotalElapsedTime=0,C.acceptedCharacters="abcdefghijklmnopqrstvwxyzABCDEFGHIJKLMNOPQRSTVWXYZ0123456789",C.stringGeneratorsByLength=new Vs,P.BrowserSupportsBrotli=!1,G.Map=new WeakMap,ie.handled={},Oe.emptyArray=[],De.styleConverter=new xe,De.registeredComponents=new Os,Pe.htmlConverter=new De,Ie.currentId=0,Re.nextId=0,$e.textureCache={},$e.textureClaims={},$e.shaderCache={},$e.shaderClaims={},$e.shaderId=0,$e.programCache={},$e.programClaims={},$e.bufferCache={},$e.bufferClaims={},$e.bufferId=0,rt.matrixChanges=0,ct.animationName="polyfillresizeanim",ct.className="binkies-polyfill-resizeobserver",ct.divStyle="position:absolute; left:0px; top:0px; right:0px; bottom:0px; overflow:hidden; z-index:-1; visibility:hidden;",ct.childDivStyle="position:absolute; left:0px; top:0px; transition:0s;",ct.initialized=!1,Dt.storage=xt.getLocalStorage(),At.cssAddedToPage=!1,nn.storage=new Dt,nn.OriginalDiplayModeID="original",nn.cssAddedToPage=!1,Dn.PixelsEReg=new r("(^-?\\d+)px",""),Dn.PercentageEReg=new r("(^-?\\d+)%",""),Dn.FractionEReg=new r("(^-?\\d+)fr",""),Ha.rootSelector='[data-binkies-content="root"]',Ha.alwaysVisibleSelector='[data-binkies-content="alwaysVisible"]',Ha.pageTargetSelector='[data-binkies-content="pageTarget"]',Ha.layoutSelector='[data-binkies-content="layout"]',Ha.customHideableSelector='[data-binkies-content="hideWhen3DShown"]',Ha.customForcedHideableSelector='[data-binkies-content="forceHideWhen3DShown"]',Ha.originalContentInTargetSelector=Ha.pageTargetSelector+" > :not("+Ha.rootSelector+"):not("+Ha.alwaysVisibleSelector+")",Ha.originalContentSelector=Ha.customHideableSelector+", "+Ha.originalContentInTargetSelector,Ha.binkiesContentSelector=Ha.rootSelector+" "+Ha.layoutSelector+" > :not("+Ha.layoutSelector+")",Ha.forcedHiddenStyle="{\n\t\ttransition: opacity .5s ease-in, visibility .5s ease-in;\n\t\topacity: 0;\n\t\tvisibility: hidden!important;\n\t}",Ha.hiddenStyle="{\n\t\ttransition: opacity .5s ease-in, visibility .5s ease-in;\n\t\topacity: 0;\n\t\tvisibility: hidden;\n\t}",Ha.visibleStyle="{\n\t\ttransition: opacity .5s ease-out .5s, visibility .5s ease-out .5s;\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t}",Ha.originalContentStyle="{\n\t\ttransition: opacity .5s ease-out .5s, visibility .5s ease-out .5s;\n\t}",Ha.originalContentVisible=Ha.originalContentSelector+" "+Ha.originalContentStyle,Ha.binkiesContentVisible=Ha.binkiesContentSelector+" "+Ha.visibleStyle,Ha.originalContentHidden=Ha.originalContentSelector+" "+Ha.hiddenStyle+" "+Ha.customForcedHideableSelector+" "+Ha.forcedHiddenStyle,Ha.binkiesContentHidden=Ha.binkiesContentSelector+" "+Ha.hiddenStyle,Ha.shownStateStyle=Ha.originalContentHidden+" "+Ha.binkiesContentVisible,Ha.hiddenStateStyle=Ha.originalContentVisible+" "+Ha.binkiesContentHidden,ei.storage=new Dt,ti.storage=new Dt,ti.cssAddedToPage=!1,_l.storage=new Dt,Wl.epsilon=1e-8,Ul.pos0={X:0,Y:0,Z:0},Ul.pos1={X:0,Y:0,Z:0},Ul.pos2={X:0,Y:0,Z:0},Ul.epsilon=1e-8,co.offScreenPosition={X:.5,Y:0,Z:-.5},co.offScreenQuaternion={X:0,Y:0,Z:0,W:1},u.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);