(()=>{"use strict";var e={8186:(e,t,s)=>{s.d(t,{Z:()=>i});class i{static init(){window.addEventListener("b:getImageAcceptHeader",(e=>{e.getImageAcceptHeader=this.getImageAcceptHeader()})),window.addEventListener("b:getSupportedImageType",(e=>{e.supportedImageType=this.getSupportedImageType()}))}static getImageAcceptHeader(){const e=document.createElement("canvas");return e.getContext&&e.getContext("2d")&&0===e.toDataURL("image/webp").indexOf("data:image/webp")?"image/webp":"image/jpeg"}static getSupportedImageType(){return"image/webp"===i.getImageAcceptHeader()?"webp":"jpg"}}window.addEventListener("DOMContentLoaded",(()=>{i.init()}))},8885:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(4515);class o{constructor(e=null){if(this.showClass="show",this.dialogActiveSelector="dialog-open",this.modalCloseSelector="modal:close",!e)throw new Error("Please provide uniqueId in Backdrop constructor");this.uniqueId=e,this.backdrop=document.createElement("div"),this.backdrop.classList.add("backdrop"),this.backdrop.setAttribute("id",this.uniqueId),this.noScrollClass="no-scroll-"+this.uniqueId,this.closableClass="closable-"+this.uniqueId,document.body.append(this.backdrop)}show(){this.backdrop.classList.add(this.showClass);const e=document.body.classList.value.split(" ").find((e=>e.includes("no-scroll-")));if(e){const t=e.split("-"),s=t[t.length-1];(0,i.J)(`${s}:close`),document.body.classList.add(this.noScrollClass),document.body.classList.add(this.closableClass)}else document.body.classList.add(this.noScrollClass),document.body.classList.add(this.closableClass);document.body.classList.contains(this.dialogActiveSelector)&&(0,i.J)(this.modalCloseSelector),this.backdrop.addEventListener("click",(e=>{this.onBackdropClickHandler()}))}hide(){this.backdrop.classList.remove(this.showClass),document.body.classList.remove(this.noScrollClass),document.body.classList.remove(this.closableClass)}onBackdropClickHandler(){(0,i.J)(`${this.uniqueId}:close`)}}},6097:(e,t,s)=>{s.d(t,{Z:()=>i});class i extends class{constructor(e){this.itemContainer=e}processHighlight(){this.itemContainer&&(this.itemContainer.classList.add("highlighted"),this.itemContainer.classList.contains("highlighted")&&document.addEventListener("click",(e=>{e.target!==this.itemContainer&&this.itemContainer.classList.remove("highlighted")})))}}{constructor(e){super(e)}}},4515:(e,t,s)=>{s.d(t,{J:()=>i});const i=(e,t=null)=>{const s=new CustomEvent(e,t);return window.dispatchEvent(s),s}},835:(e,t,s)=>{s.d(t,{Z:()=>i});class i{constructor(...e){this.target={};let t=!1,s=0;"boolean"==typeof e[0]&&(t=e[0],s++);let o=e=>{for(let s in e)e.hasOwnProperty(s)&&(t&&"[object Object]"===Object.prototype.toString.call(e[s])?this.target[s]=new i(t,this.target[s],e[s]):this.target[s]=e[s])};for(;s<e.length;s++)o(e[s]);return this.target}}},198:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(835);window.User=window.User||{};class o{constructor(e=null){this.tries=0,this.webSocketUrl=window.webSocketUrl,this.defaultOptions={debug:!1,onOpen:null,onClose:null,onMessage:null,onError:null,onReconnect:null},this.eventListenerExists={},this.options=new i.Z(!0,{},this.defaultOptions,e),this.initSocket()}initSocket(e=!1){this.webSocketUrl?e&&this.tries>=10||(this.instance=new WebSocket(this.webSocketUrl),this.socketEvents()):console.error("No webSocketUrl configured!")}onMessage(){this.instance.onmessage=e=>{try{this.receivedData=JSON.parse(e.data),this.options.debug&&(console.group("-----===== SOCKET MESSAGE RECEIVED =====-----"),console.log(this.receivedData),console.groupEnd()),this.options.onMessage&&"function"==typeof this.options.onMessage&&this.isOpen()&&this.addEventListener("s:on:message",this.options.onMessage)}catch(e){console.log("Something went wrong with the data: "+e.message)}}}onOpen(){this.instance.onopen=e=>{this.tries=0,this.options.debug&&(console.group("-----===== SOCKET OPEN =====-----"),console.log(e),console.groupEnd()),this.options.onOpen&&"function"==typeof this.options.onOpen&&this.isOpen()&&this.addEventListener("s:on:open",this.options.onOpen)}}onClose(){this.instance.onclose=e=>{this.options.debug&&(console.group("-----===== SOCKET CLOSE =====-----"),console.log(e),console.groupEnd()),this.options.onClose&&"function"==typeof this.options.onClose&&!this.isOpen()&&this.addEventListener("s:on:close",this.options.onClose)}}onError(){this.instance.onerror=e=>{this.options.debug&&(console.group("-----===== SOCKET ERROR RECEIVED =====-----"),console.log(e),console.groupEnd()),this.options.onError&&"function"==typeof this.options.onError&&this.isOpen()&&this.addEventListener("s:on:error",this.options.onError)}}isOpen(){return this.instance.readyState===this.instance.OPEN}socketEvents(){this.onOpen(),this.onClose(),this.onError(),this.onMessage()}addEventListener(e,t){this.eventListenerExists[e]||(document.removeEventListener(e,t.bind(!1,this),!0),document.addEventListener(e,t.bind(!1,this),!0),this.eventListenerExists[e]=!0),document.dispatchEvent(new Event(e))}}},6989:(e,t,s)=>{s.d(t,{Z:()=>u});s.p,s.p;var i=s(8811),o=s(1882),a=s(198),n=s(4515),r=s(835),c=s(8885),l=s(9742),d=s(8078),h=s(6097);window.staticFilesPath=window.staticFilesPath||"/",window.connectionProtocol=window.connectionProtocol||"",window.debugWebSocket=window.debugWebSocket&&"1"===window.debugWebSocket||!1,window.User=window.User||{},window.theme=window.theme||"",window.userGroups=window.userGroups||{};const p={css:{ncCard:window.staticFilesPath+"build/wp/css/widgets/notification-center/nc-card.css"}};let g=!0;class u{constructor(){this.widgetSelector=".nc",this.widgetPopoverSelector=".nc-popover",this.popoverAjaxContainerSelector=".nc-ajax",this.toastCardsContainerSelector=".notification-toasts",this.popoverPrependTitleSelector=".nc-title-prepend",this.popoverDefaultTitleSelector=".nc-title-default",this.popoverPrependSelector=".nc-cards-prepend",this.popoverDefaultSelector=".nc-cards-default",this.popoverCardSelector=".nc-card",this.activeClassName="active",this.defaultEndpoint="/subscription/modal",this.cards=[],this.reconnected=[],this.newCardsKey="pa_newCards",this.cardCreator=new i.Z,this.toastCreator=new l.Z,this.backdrop=new c.Z("nc"),this.initLocalStorage(),this.initSocket(),this.events()}events(){this.addEventListeners(),this.selectors=document.querySelectorAll('[data-trigger="nc"]');for(let e=0;e<this.selectors.length;e++){const t=this.selectors[e],s=t.dataset.target;if(!s)throw new Error("Please specify target for nc trigger");document.querySelector(s).querySelector('[data-trigger="nc-clear"]').addEventListener("click",this.clearPopoverNotifications.bind(this)),t.addEventListener("click",(e=>{this.openPopover(e)}))}this.closeSelectors=document.querySelectorAll('[data-trigger="nc-close"]');for(let e=0;e<this.closeSelectors.length;e++){const t=this.closeSelectors[e];t.addEventListener("click",(()=>{const e=t.dataset.target;if(!e)throw new Error("Please specify target for nc-close trigger");document.querySelector(e).classList.remove("show");for(let e=0;e<this.selectors.length;e++){this.selectors[e].classList.remove(this.activeClassName)}this.showHideBackdrop(!1)}))}}cleanDuplicates(e){return(e||[]).filter(((e,t,s)=>s.indexOf(e)===t))}clearPopoverNotifications(e){window.dataLayer.push({event:"NCClickedClearAllButton"});const t=e.currentTarget,s=t.closest(this.widgetPopoverSelector),i=this.localStorage.getCardIds();if(i.length>0){for(let e=0;e<i.length;e++){const s=i[e],o=t.closest(this.widgetPopoverSelector).querySelector(this.popoverCardSelector+'[data-id="'+s+'"]');o&&(this.localStorage.setAvailableMessageIds(s),o.remove())}this.cards=[],this.localStorage.cleanAllCards(),this.setNotificationsLastSeen(),(0,n.J)("nc:close")}this.showHideContainers(s)}setNotificationsLastSeen(){this.localStorage.setLastSeen((new Date).toISOString())}socketReconnect(){this.socket.tries+=1,setTimeout((()=>{this.socket.initSocket(!0)}),1e3)}onStorage(e){if(["pa_cardIds"].indexOf(e.key)>-1){console.log("Storage event triggered");const t=JSON.parse(e.oldValue),s=JSON.parse(e.newValue);let i=t.filter((e=>!s.includes(e)));for(let e=0;e<(i||[]).length;e++){const t=i[e],s=document.querySelectorAll(this.popoverCardSelector+'[data-id="'+t+'"]');for(let e=0;e<(s||[]).length;e++){const o=s[e];o&&(o.remove(),i=(i||[]).filter((e=>e!==t)))}}const o=document.querySelector(this.widgetPopoverSelector);if(0===s.length&&0===i.length){this.localStorage.cleanAllCards(),this.cards=[];o.querySelector('[data-trigger="nc-clear"]').style.display="none",this.setNotificationBellClass()}this.showHideContainers(o)}}initLocalStorage(){this.localStorage instanceof o.Z&&(this.localStorage=null),this.localStorage=new o.Z,this.localStorage.cleanExpiredCards()}setNotificationBellClass(){const e=document.querySelectorAll(this.widgetSelector);let t=this.cleanDuplicates(this.localStorage.getItem(this.newCardsKey));const s=t?t.length:0;for(let t=0;t<e.length;t++){const i=e[t];let o=i.querySelector("span");o.innerText="",s>0&&!i.classList.contains(this.activeClassName)?o.innerText=s>99?"99+":s.toString():this.localStorage.removeItem(this.newCardsKey)}t=this.localStorage.getItem(this.newCardsKey)||[]}processCards(){const e=document.querySelector(this.widgetPopoverSelector),t=e.querySelector(this.popoverAjaxContainerSelector);if(this.prependContainer=t.querySelector(this.popoverPrependSelector),this.appendContainer=t.querySelector(this.popoverDefaultSelector),this.cards.length>0)for(let t=0;t<this.cards.length;t++){const s=this.cards[t],i=this.cardCreator.create(s.typeAsString,s.url,s.title,s.date_created_text,s.image,s.reviewRating||"",s.nc_message_id,s.reactionId,s.card_title||null,s.custom_expiration||null);if(i){const t=this.cardCreator.configValues;i.addEventListener("click",(e=>{this.localStorage.setAvailableMessageIds(s.nc_message_id),e.target.classList.contains("ic-close")||e.target.classList.contains("button")||s.url.split("#")[0]!==window.location.href.split("#")[0]||(window.location=s.url,window.location.reload())}));const o=this.cardCreator.createRemoveButton("button","button-tertiary","button-ic-o","remove");o.addEventListener("click",(t=>(t.preventDefault(),this.localStorage.setAvailableMessageIds(s.nc_message_id),window.dataLayer.push({event:"NcCardDismissed",NcCardDismissedLabel:s.typeAsString+","+s.url}),i.remove(),this.cards=this.cards.filter((e=>e.nc_message_id!==s.nc_message_id)),this.showHideContainers(e),!1))),i.append(o),this.processReplaceableCards(s,t),this.cleanOldDuplicatedCards(s.nc_message_id),this.cleanDuplicatedCardsByUrl(s.url,t),!0===t.prepend?this.prependContainer.prepend(i):this.appendContainer.prepend(i),this.localStorage.setCardExpiration(s.nc_message_id,s.typeAsString,t.expiration||86400,s.user_id,s.url)}}this.showHideContainers(e),this.setNotificationBellClass()}processToastNotifications(e){if(e.length>0){const t=document.querySelector(this.toastCardsContainerSelector);let s=this.cards.filter((t=>e.indexOf(t.nc_message_id)>=0)).map((e=>({typeAsString:e.typeAsString,title:e.title,url:e.url,nc_message_id:e.nc_message_id,user_groups:e.userGroups})));s.length>=3&&(s=s.slice(1).slice(-3));for(let e=0;e<s.length;e++){const i=s[e];if(("FeaturedCommentsMessage"===i.typeAsString||"ReactedCommentMessage"===i.typeAsString||"RepliedCommentMessage"===i.typeAsString||"QuotedCommentMessage"===i.typeAsString)&&(this.toast=this.toastCreator.create(i.typeAsString,i.title,i.url,i.nc_message_id),this.toast)){const e=this.toastCreator.createRemoveButton("button","button-tertiary","button-ic-o","toast-close");if(this.toast.append(e),3===t.childElementCount){const e=t.querySelector(".toast:last-of-type");this.toastDisappear(e)}t.prepend(this.toast)}}t.childElementCount>0&&this.toastNotificationsEvents(t)}}toastNotificationsEvents(e){const t=e.querySelectorAll(".toast");for(let e=0;e<t.length;e++){const s=t[e],i=s.querySelector(".toast-close"),o=s.querySelector(".toast-link"),a=s.dataset.typeToast,n=s.dataset.id;window.dataLayer.push({event:"Seen"+a+"Notification"}),o.addEventListener("click",(e=>{window.dataLayer.push({event:"Clicked"+a+"Notification"}),this.toastDisappear(s);const t=document.body.querySelector(this.widgetPopoverSelector);if(t){const e=t.querySelector(this.popoverCardSelector+'[data-id="'+n+'"]');e&&(this.localStorage.setAvailableMessageIds(n),e.remove(),this.showHideContainers(t),this.setNotificationBellClass())}this.scrollToClickedCardToast()})),i.addEventListener("click",(()=>{window.dataLayer.push({event:"Dismissed"+a+"Notification"}),this.toastDisappear(s)})),s&&(this.timer=setTimeout((()=>{clearTimeout(this.timer),s.classList.add("disappear")}),this.toastCreator.dismissTime),setTimeout((()=>{s.remove()}),this.toastCreator.dismissTime+200))}}toastDisappear(e){e.classList.add("disappear"),setTimeout((()=>{e.remove()}),200)}initSocket(){window.connectionProtocol?(this.defaultSocketMessage={protocol:window.connectionProtocol,user_id:window.User.id||0,user_groups:window.userGroups||{}},this.socket&&this.socket.instance.close(),this.socket=new a.Z({debug:window.debugWebSocket,onClose:()=>{this.socketReconnect()},onOpen:e=>{0===this.reconnected.length&&(this.socketMessage=new r.Z(!0,{},this.socketMessage||this.defaultSocketMessage,{nc_message_id:(this.localStorage.getCardIds()||[]).join(",")})),this.localStorage.getLastSeen()&&(this.socketMessage=new r.Z(!0,{},this.socketMessage||this.defaultSocketMessage,{last_seen:this.localStorage.getLastSeen()})),window.userGroups&&(this.socketMessage=new r.Z(!0,{},this.socketMessage||this.defaultSocketMessage,{user_groups:window.userGroups})),e.isOpen()&&e.instance.send(JSON.stringify(this.socketMessage||this.defaultSocketMessage)),g=!1},onMessage:e=>{if("object"==typeof e.receivedData){const t=e.receivedData.status||"";if("failed"!==t.toLowerCase()&&"error"!==t.toLowerCase()){const t=this.cleanDuplicates(e.receivedData.map((e=>e.nc_message_id))),s=(this.localStorage.getItem(this.newCardsKey)||[]).filter((e=>t.concat(this.localStorage.getCardIds()).includes(e)));this.localStorage.setItem(this.newCardsKey,s),this.setNotificationsLastSeen();const i=this.cleanDuplicates(this.localStorage.getCardIds()||[]).reverse();let o=t.filter((e=>!i.includes(e)));this.localStorage.setCardIds(t),this.cards=e.receivedData.reverse(),this.cards.length>0&&(0,n.J)("g:appendStyle",{detail:{source:p.css.ncCard,elementId:"nc-card"}});const a=0===document.querySelectorAll(this.widgetPopoverSelector+".show").length;if(o.length>0&&this.cards.length>0&&a){for(let e=0;e<o.length;e++){const t=o[e];s.includes(t)||s.push(t)}this.localStorage.setItem(this.newCardsKey,s),this.processToastNotifications(s)}}this.processCards()}}})):console.error("Please specify connectionProtocol!")}addEventListeners(){window.removeEventListener("nc:close",this.closePopover.bind(this)),window.addEventListener("nc:close",this.closePopover.bind(this)),window.removeEventListener("storage",this.onStorage.bind(this)),window.addEventListener("storage",this.onStorage.bind(this)),window.removeEventListener("nc:open",this.openPopover.bind(this)),window.addEventListener("nc:open",this.openPopover.bind(this))}openPopover(e){this.selectors=document.querySelectorAll('[data-trigger="nc"]');for(let e=0;e<this.selectors.length;e++){const t=this.selectors[e],s=t.dataset.target;if(!s)throw new Error("Please specify target for nc trigger");const i=document.querySelector(s),o=document.querySelector(this.toastCardsContainerSelector);t.classList.contains(this.activeClassName)?t.classList.remove(this.activeClassName):(t.classList.add(this.activeClassName),o.innerHTML=""),void 0!==t.dataset.controlBackdrop&&"true"!==t.dataset.controlBackdrop||this.showHideBackdrop(t.classList.contains(this.activeClassName)),i.classList.toggle("show"),i.classList.contains("show")&&this.localStorage.removeItem(this.newCardsKey),this.setNotificationBellClass()}return this}closePopover(e){const t=document.querySelectorAll(this.widgetSelector);for(let e=0;e<t.length;e++){t[e].classList.remove(this.activeClassName)}const s=document.querySelectorAll(this.widgetPopoverSelector);for(let e=0;e<s.length;e++){s[e].classList.remove("show")}return this.showHideBackdrop(!1),this}cleanOldDuplicatedCards(e){const t=this.prependContainer.querySelector('[data-id="'+e+'"]');t&&t.remove();const s=this.appendContainer.querySelector('[data-id="'+e+'"]');return s&&s.remove(),this}removeCardFromCardsCount(e){let t=this.localStorage.getItem(this.newCardsKey)||[];t=this.cleanDuplicates(t);let s=this.localStorage.getCardExpirations();return s=s.filter((e=>"TrendingNewsMessage"===e.typeAsString)).map((e=>e.nc_message_id)),(s.length>1||0===s.length)&&(t=t.filter((t=>{if(t!=e)return t}))),t?this.localStorage.setItem(this.newCardsKey,t):this.localStorage.removeItem(this.newCardsKey),this}processReplaceableCards(e,t){if(t&&!0===t.replace){this.localStorage.removeUnusedCardsByIdAndType(e.nc_message_id,e.typeAsString);const s=this.appendContainer.querySelectorAll("."+t.className);for(let e=0;e<s.length;e++){const t=s[e];this.removeCardFromCardsCount(parseInt(t.dataset.id)),t.remove()}const i=this.prependContainer.querySelectorAll("."+t.className);for(let e=0;e<i.length;e++){const t=i[e];this.removeCardFromCardsCount(parseInt(t.dataset.id)),t.remove()}}return this}cleanDuplicatedCardsByUrl(e,t){if(t&&!0===t.latestWithSameUrlReplace){let t,s=e.split("_id");t=1===s.length?s[0]:s[1].match(/\d+/).shift();const i=this.appendContainer.querySelectorAll('[href*="'+t+'"]');if(i)for(let e=0;e<i.length;e++){const t=i[e],s=t.dataset.id;this.localStorage.setAvailableMessageIds(s),t.remove()}}return this}showHideContainers(e){const t=e.querySelector(this.popoverAjaxContainerSelector),s=t.querySelector(this.popoverPrependTitleSelector),i=t.querySelector(this.popoverDefaultTitleSelector);let o=this.localStorage.getCardExpirations();const a=o.filter((e=>!e.user_id||e.user_id&&0===e.user_id)),n=o.filter((e=>0!==e.user_id&&e.user_id===this.defaultSocketMessage.user_id));o=o.filter((e=>0===e.user_id||e.user_id===this.defaultSocketMessage.user_id)),n.length>0&&a.length>0?(s.classList.remove("hide"),i.classList.remove("hide")):(s.classList.add("hide"),i.classList.add("hide"));const r=document.querySelector('[data-trigger="nc-clear"]');return 0===o.length?r.classList.add("hide"):r.classList.remove("hide"),0===o.length?e.classList.add("no-notifications"):e.classList.remove("no-notifications"),this}showHideBackdrop(e=!1){return e?this.backdrop.show():this.backdrop.hide(),this}scrollToClickedCardToast(){const e=document.querySelector("#comments"),t=e.querySelector(".cs-widget-comments");window.addEventListener("hashchange",(()=>{if(e&&0===t.childElementCount)d.Z.execute(0,e.getBoundingClientRect().top);else if(e&&t.childElementCount>=1&&-1!==window.location.hash.indexOf("post_")){const e=window.location.hash.split("#")[1],t=document.getElementById(e);if(t){const e=t.querySelector(".cs-widget-item-container")?t.querySelector(".cs-widget-item-container"):t.parentElement.querySelector(".cs-widget-item-container");new h.Z(e).processHighlight()}}}))}}},8811:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(8186),o=s(751);class a extends o.g{constructor(){super(...arguments),this.types={TrendingNewsMessage:{className:"trending",title:"Trending News",icon:"ic-trending-up",prepend:!1,disableImage:!1,replace:!0,latestWithSameUrlReplace:!0},HeatedDiscussionMessage:{className:"heated",title:"What readers comment",icon:"ic-comment-filled",prepend:!1,disableImage:!1,replace:!1,latestWithSameUrlReplace:!0},LatestReviewsMessage:{className:"review",title:"Latest review",icon:"ic-smartphone",prepend:!1,disableImage:!1,replace:!1,latestWithSameUrlReplace:!0},FeaturedCommentsMessage:{expiration:window.personalNotificationsExpirationSeconds,className:"featured-comment",title:"Featured comment",icon:"ic-star-filled",prepend:!0,disableImage:!0,replace:!1,latestWithSameUrlReplace:!1},ReactedCommentMessage:{expiration:window.personalNotificationsExpirationSeconds,className:"reaction",title:"Reaction",icon:"ic-r-heart",prepend:!0,disableImage:!0,replace:!1,latestWithSameUrlReplace:!1},RepliedCommentMessage:{expiration:window.personalNotificationsExpirationSeconds,className:"reply",title:"Reply",icon:"ic-reply",prepend:!0,disableImage:!0,replace:!1,latestWithSameUrlReplace:!1},NewDiscussionMessage:{expiration:604800,className:"discussion",title:"New discussion",icon:"ic-comment-discussion",prepend:!1,disableImage:!1,replace:!0,latestWithSameUrlReplace:!1},QuotedCommentMessage:{expiration:window.personalNotificationsExpirationSeconds,className:"reply",title:"Quote",icon:"ic-quote",prepend:!0,disableImage:!0,replace:!1,latestWithSameUrlReplace:!1},ManualMessage:{expiration:0,className:"manual",title:"",icon:"ic-star-filled",prepend:!1,disableImage:!1,replace:!1,latestWithSameUrlReplace:!0}},this.reactionIconsMapping={0:"",1:"ic-r-like",2:"ic-r-heart",3:"ic-r-laughing",4:"ic-r-surprised",5:"ic-r-sceptical"}}create(e=null,t=null,s=null,o=null,a=null,n=null,r=null,c=null,l=null,d=null){const h=`${i.Z.getSupportedImageType()}`;this.cardUrl=t,this.cardTitle=s,this.dateCreatedText=o,this.cardImage=a?a+"."+h:"",this.cardReviewRating=n,this.cardDatasetId=r,this.cardReactionId=c,this.configValues=this.types[e],l&&(this.configValues.title=l),d&&(this.configValues.expiration=this.calculateExpiration(d));const p=this.createAnchorElement("nc-card");return p.setAttribute("onclick","this.style.backgroundColor = #0C1061; return true;"),p.append(this.createHeaderElement(),this.createContentElement()),p}createRatingElement(){const e=parseFloat(this.cardReviewRating),t=document.createElement("div");t.classList.add("score-bar",this.getProgressClass(e));const s=document.createElement("div");s.classList.add("score"),s.innerText=e.toFixed(1).toString(),t.append(s);const i=10*e,o=document.createElement("div");o.classList.add("bar");const a=document.createElement("span");return a.style.width=i+"%",o.append(a),t.append(o),t}createHeaderElement(){const e=document.createElement("div");return e.classList.add("header"),e.append(this.createHeaderTitleElement()),e}createContentElement(){const e=document.createElement("div");return e.classList.add("content"),this.cardReviewRating&&e.append(this.createRatingElement()),this.cardImage&&!1===this.configValues.disableImage&&e.append(this.createContentImageElement()),e.append(this.createContentTextElement()),e}createHeaderTitleElement(){const e=document.createElement("div");e.classList.add("title");const t=document.createElement("i");t.classList.add("ic",this.reactionIconsMapping[this.cardReactionId]||this.configValues.icon),e.append(t);const s=document.createElement("span");return s.innerText=this.configValues.title,s.classList.add("main"),e.append(s),e.append(this.createHeaderTimeElement()),e}createContentImageElement(){const e=document.createElement("div");return e.classList.add("image"),e.style.backgroundImage="url("+this.cardImage+")",e}createContentTextElement(){const e=document.createElement("p");return e.classList.add("text"),e.innerHTML=this.cardTitle,e}createHeaderTimeElement(){const e=document.createElement("span");return e.classList.add("time"),e.innerText=this.dateCreatedText,e}getProgressClass(e){switch(!0){case e<2:return"terrible";case e>=2&&e<4:return"poor";case e>=4&&e<6:return"average";case e>=6&&e<8:return"good";case e>=8&&e<9:return"very-good";case e>=9:return"excellent"}}calculateExpiration(e){if(0===e.indexOf("PT")){const t=e.replace("PT","").replace("H","");return 3600*parseInt(t,10)}if(0===e.indexOf("P")){const t=e.charAt(e.length-1);if("D"===t){const t=e.replace("P","").replace("D","");return 86400*parseInt(t,10)}if("M"===t){const t=parseInt(e.replace("P","").replace("M","")),s=new Date,i=new Date;return i.setMonth(i.getMonth()+t),Math.floor((i.getTime()-s.getTime())/1e3)}}}}},751:(e,t,s)=>{s.d(t,{g:()=>i});class i{createRemoveButton(...e){const t=document.createElement("a");e.forEach((e=>{t.classList.add(e)}));const s=document.createElement("i");return s.classList.add("ic","ic-close"),t.append(s),t}createAnchorElement(e){const t=document.createElement("a");return t.classList.add(e),t.dataset.id=this.cardDatasetId,this.configValues.className&&t.classList.add(this.configValues.className),this.cardUrl&&t.setAttribute("href",this.cardUrl),t}}},1882:(e,t,s)=>{s.d(t,{Z:()=>i});class i{constructor(){this.newCardsKey="pa_newCards",this.lastSeenKey="pa_lastSeen",this.cardIdsKey="pa_cardIds",this.cardExpirationsKey="pa_cardExpirations"}getLastSeen(){return this.getItem(this.lastSeenKey)}setLastSeen(e){this.setItem(this.lastSeenKey,e)}setAvailableMessageIds(e){this.setItem(this.cardIdsKey,this.getCardIds().filter((t=>parseInt(e)!==t))),this.setItem(this.cardExpirationsKey,this.getCardExpirations().filter((t=>t.nc_message_id!==parseInt(e)))),this.setItem(this.newCardsKey,this.getNewCardIds().filter((t=>parseInt(e)!==t)))}getDate(e){const t=new Date;return new Date(t.getTime()+1e3*e).toISOString()}setCardExpiration(e,t,s=86400,i=null,o){let a=this.getCardExpirations();if(!a.find((t=>e===t.nc_message_id))){const n={typeAsString:t,expiration:this.getDate(s),user_id:i||0,nc_message_id:e,cardUrl:o};a.push(n)}window.localStorage.setItem(this.cardExpirationsKey,JSON.stringify(a))}removeUnusedCardsByIdAndType(e,t){let s=this.getCardExpirations(),i=this.getCardIds();const o=s.filter((s=>s.typeAsString===t&&s.nc_message_id!==e));s=s.filter((e=>-1===o.map((e=>e.nc_message_id)).indexOf(e.nc_message_id))),i=i.filter((e=>-1===o.map((e=>e.nc_message_id)).indexOf(e))),o.length>0&&(localStorage.setItem(this.cardIdsKey,JSON.stringify(i)),localStorage.setItem(this.cardExpirationsKey,JSON.stringify(s)))}getNewCardIds(){let e;try{e=JSON.parse(localStorage.getItem(this.newCardsKey))}catch(t){e=this.getItem(this.newCardsKey)}return e&&e.length>0?e:[]}getCardIds(){let e;try{e=JSON.parse(localStorage.getItem(this.cardIdsKey))}catch(t){e=this.getItem(this.cardIdsKey)}return e&&e.length>0?e:[]}setCardIds(e){let t=this.getCardIds();e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),localStorage.setItem(this.cardIdsKey,JSON.stringify(t))}getCardExpirations(){const e=JSON.parse(window.localStorage.getItem(this.cardExpirationsKey));return e&&e.length>0?e:[]}setItem(e,t){t="string"!=typeof(t="object"==typeof t?JSON.stringify(t):t)?t.toString():t,window.localStorage.setItem(e,t)}getItem(e){let t;try{t=JSON.parse(window.localStorage.getItem(e))}catch(s){t=window.localStorage.getItem(e)}return t}removeItem(e){window.localStorage.removeItem(e)}cleanExpiredCards(){try{const e=new Date,t=(new Date).getTime()+864e5;let s;s=this.getCardExpirations().filter((s=>{const i=new Date(s.expiration);if(i.getTime()>=e.getTime()&&("HeatedDiscussionMessage"!==s.typeAsString||i.getTime()<t&&"HeatedDiscussionMessage"==s.typeAsString))return s}));const i=s.map((e=>e.nc_message_id));window.localStorage.setItem(this.cardIdsKey,JSON.stringify(i)),window.localStorage.setItem(this.cardExpirationsKey,JSON.stringify(s))}catch(e){}}cleanAllCards(){const e=[];try{window.localStorage.setItem(this.cardIdsKey,JSON.stringify(e)),window.localStorage.setItem(this.newCardsKey,JSON.stringify(e)),window.localStorage.setItem(this.cardExpirationsKey,JSON.stringify(e)),this.setLastSeen((new Date).toISOString())}catch(e){}}}},9742:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(751);class o extends i.g{constructor(){super(...arguments),this.dismissTime=7e3,this.types={FeaturedCommentsMessage:{typeMessage:"FeaturedComment",contentText:"Your comment was featured.",icon:"ic-star-filled"},ReactedCommentMessage:{typeMessage:"ReactedComment",icon:"ic-heart-filled"},RepliedCommentMessage:{typeMessage:"RepliedComment",icon:"ic-comment-filled"},QuotedCommentMessage:{typeMessage:"QuotedComment",icon:"ic-comment-filled"}}}create(e=null,t=null,s=null,i=null){this.cardUrl=s,this.cardTitle=t,this.cardDatasetId=i,this.configValues=this.types[e];const o=document.createElement("div");o.classList.add("toast","appear"),o.dataset.id=this.cardDatasetId,this.configValues.typeMessage&&(o.dataset.typeToast=this.configValues.typeMessage);const a=this.createAnchorElement("toast-link");return a.append(this.createImageElement(),this.createTextElement()),o.append(a),o}createImageElement(){const e=document.createElement("div");e.classList.add("toast-image");const t=document.createElement("i");return this.configValues.icon&&t.classList.add("ic","ic-24",this.configValues.icon),e.append(t),e}createTextElement(){const e=document.createElement("div");return e.classList.add("toast-text"),this.configValues.contentText?e.innerText=this.configValues.contentText:this.cardTitle&&(e.innerHTML=this.cardTitle),e}}},8078:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(4515);class o{static execute(e=0,t){const s=(0,i.J)("g:getStickyHeaderHeight");window.scrollTo(e,t+window.scrollY-s.stickyHeaderHeight)}}}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,s),a.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.p="/var/www/phonearena.com/public_html/build/wp",(()=>{var e=s(6989);class t{constructor(){this.notificationCenter()}notificationCenter(){this.ncWidget=new e.Z}}"interactive"===document.readyState||"complete"===document.readyState?new t:document.addEventListener("DOMContentLoaded",(()=>{new t}))})()})();